<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Security" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="okta_help.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>API</title>
        <link href="../../SkinSupport/Slideshow.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../Resources/Stylesheets/okta_help.css" rel="stylesheet" />
        <script src="../../SkinSupport/jquery.min.js">
        </script>
        <script src="../../SkinSupport/MadCapAll.js">
        </script>
        <script src="../../SkinSupport/MadCapTopicAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../okta_help_CSH.htm#Topics/Security/API.htm" style="">Open topic with navigation</a>
        </p><a name="Security_API"></a>
        <h1>API</h1>
        <p>Use the API page to manage and create all Okta API tokens, and to add Origin URLs.</p><a name="apiTokens"></a>
        <h4>Tokens</h4>
        <p>API tokens are used to authenticate requests to the Okta API just like HTTP cookies are used to authenticate requests to the Okta Application with your browser. An API token is issued for a specific user and all requests with the token act on behalf of the user. API tokens are secrets and should be treated like passwords.</p>
        <p>API tokens are valid for 30 days and automatically renew every time they are used with an API request. When a token has been inactive for more than 30 days it is revoked and cannot be used again. Tokens are also only valid if the user who created the token is also active. Tokens issued by deactivated users are rejected. If the user account is reactivated, the API token is accepted with no other action required.</p>
        <p>Okta Agents are also issued API tokens during installation which they use to access your Okta organization. While these tokens are similar to the standard API token, they are usually managed by Okta.</p>
        <p>Use the API Token page to manage all Okta API tokens. Agent tokens are usually managed when you activate, deactivate, or reactivate an agent.</p>
        <p>Agent tokens are displayed on this page for your review, and to highlight any security issues that might arise with them. Most agents use a token. The token setup is usually handled automatically when you activate or reactivate an agent. This list of tokens is a comprehensive report of all Okta token usage for your organization. </p>
        <p>There are five actions available to manage tokens.</p>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2131776972_0" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Create Okta API tokens</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2131776972_0" style="display: none;">
                <p>To create your own token to authenticate with the Okta API, click the Create Token button.</p>
                <p><b>Important:</b> The only time you can view the token is during the creation process. You might want to capture a screen shot of it for future reference.  After the token is created, it is stored as a hash for your protection. Treat API tokens like passwords. Be sure to store the screenshot in a secure place.</p>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2131776972_1" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />View all tokens</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2131776972_1" style="display: none;">
                <p>All tokens are displayed when you open the API Tokens page. The token status, type, name, use, and creation, expiration, and last used dates for all agent and API tokens are shown. To sort the display, choose a sort from the Sort by dropdown menu at the right.</p>
                <p>The following color codes are used to show the token status.</p>
                <ul>
                    <li value="1">Green – the token has been used within the last three days.</li>
                    <li value="2">Gray – the token has not been used in the last three days, and today is at least seven days before its expiration date.</li>
                    <li value="3">Red – the token is within seven days of expiring.</li>
                    <li value="4">Yellow – the token is suspicious.
        <p>A suspicious token is associated with an agent that is not registered in Okta. Normal agent deployments do not create suspicious tokens.</p><p><b>Recommendation:</b> Investigate suspicious tokens. Click on the token name and review the provisioning for the associated agent. If the agent is not registered in Okta or if you have deactivated it without reactivating it, you can revoke and delete the token from this page.</p></li>
                </ul>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2131776972_2" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />View by token type</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2131776972_2" style="display: none;">
                <p>Select any token type from the list on the left to limit the display to that token type. Most of the categories are types of tokens. Additionally, the Suspicious Tokens category contains tokens that are associated with an agent that is not registered in Okta.</p>
                <p>In addition to the token group, you can list a single token. To find a single token, enter the token value and then select Find Token.</p>
                <p>The number of tokens for a particular type is always shown. This list is dynamic and changes as the token count and type changes.</p>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2131776972_3" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Revoke Tokens</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2131776972_3" style="display: none;">
                <p>To revoke a token, click the trash icon at the right of the token information. The trash icon to the right of the token information is clickable if you can revoke the token.</p>
                <ul>
                    <li value="1">API Tokens are always revocable.</li>
                    <li value="2">Agent tokens are revocable if the agent is not active; otherwise, you must deactivate the agent before revoking the token. Some agents such as the Okta AD Agent automatically revoke their tokens for you when you deactivate the agent.</li>
                </ul>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2131776972_4" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Track in the system log</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2131776972_4" style="display: none;">
                <p>The system logs contain information about API token creation and revocation.</p>
                <p>The category for these events is Token Lifecycle. The message associated with these operations is either API Token created or API Token revoked.</p>
                <p>If a token is revoked by the same user who created it, the actor and target contain the same information; if an admin who did not create the token revokes it, the actor and target contain different information.</p>
            </div>
        </div>
        <h4>Trusted Origins tab</h4>
        <p>All cross-origin web requests and redirects from Okta to your organization’s websites must be explicitly whitelisted. Use the Trusted Origins tab to grant access to websites that you control and trust to access your Okta org through the Okta API. An Origin is a security-based concept that combines the URI scheme, hostname, and port number of a page.</p>
        <p>To access the Trusted Origins page, do the following:</p>
        <ol>
            <li value="1">Click <b>Trusted Origins</b>.</li>
            <li value="2">Click the <b>Add Origin</b> button. The Add Origin screen appears.</li>
            <li value="3">Enter the <b>Name</b> and <b>Origin URL</b> fields for the page.</li>
            <li value="4">Choose the Origin type from the following list.
        <ul><li value="1">CORS – Cross-Origin Resource Sharing (CORS) allows JavaScript hosted on your websites to make an XMLHttpRequest to the Okta API using the Okta session cookie.</li><li value="2">Redirect – Allows for browser redirection to your org's trusted websites after signing in or out.</li></ul></li>
        </ol>
        <p>&#160;</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>