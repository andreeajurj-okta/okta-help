<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Security" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="okta_help.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Network</title>
        <link href="../../Resources/TableStyles/okta_table_2.css" rel="stylesheet" />
        <link href="../../SkinSupport/Slideshow.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../Resources/Stylesheets/okta_help.css" rel="stylesheet" />
        <script src="../../SkinSupport/jquery.min.js">
        </script>
        <script src="../../SkinSupport/MadCapAll.js">
        </script>
        <script src="../../SkinSupport/MadCapTopicAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../okta_help_CSH.htm#Topics/Security/Security_Network.htm" style="">Open topic with navigation</a>
        </p><a name="Security_Network"></a>
        <h1>Network</h1>
        <p>The Network page allows admins to identify their network perimeter to Okta. Public Gateway IP addresses and IP Zones allow Okta to gate certain features to on or off premises impacts. Any IP address that is not included in the list is considered off network, and subject to any off-network security policies you might create.</p>
        <p><b>Note:</b> IP Zones is an Early Access feature that replaces Public Gateway IP Addresses. Contact Okta Support to enable it.</p>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_1607547603_0" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Public Gateway IP Addresses</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_1607547603_0" style="display: none;">
                <p>To set these IP addresses,</p>
                <ol>
                    <li value="1">Click <b>Edit</b> in the Gateway Settings section.</li>
                    <li value="2">Enter the appropriate IP addresses (see the Okta features that use Public Gateway IPs, below).</li>
                    <li value="3"><b>Note:</b> Separate IPs and IP ranges with a newline or comma, and separate IPs in a range with a dash.</li>
                    <li value="4">Click <b>Save</b>.</li>
                </ol>
                <h4>Okta Features Using Public Gateway IPs</h4>
                <p>Desktop SSO – Prevents the SSO redirect (to the IWA site) from occurring when accessed off premises.</p>
                <p>Multifactor Authentication – Permits an admin to require MFA only when the system is accessed off premises.</p>
                <p>App Sign On Policies – Permits denial of access to certain applications when accessed off premises.</p>
                <h4>The "Obey X-Forwarded-For header..." Checkbox</h4>
                <p>The <b>Obey X-Forwarded-For header for specified Public Gateway IPs</b> checkbox, in simplest terms, enables support for trusted proxies. Checking this box allows Okta to view the X-Forwarded-For (XFF) header to determine IP origin, allowing trusted public gateway IPs to gain <em>on network</em> status from Okta.</p>
                <p>To enter the appropriate IP addresses</p>
                <ol>
                    <li value="1">Click <b>Edit</b> in the Gateway Settings section.</li>
                    <li value="2">Check the <b>Obey X-Forwarded-For header for specified Public Gateway IPs</b> checkbox. An empty field appears.</li>
                    <li value="3">Zscaler is an often used web proxy. If using Zscaler, click Add ZScaler IP addresses to automatically populate the field with trusted Zscaler addresses.</li>
                    <li value="4">Add additional trusted IP address, if needed.</li>
                    <li value="5">Click <b>Save</b>.</li>
                </ol>
            </div>
        </div>
        <p>&#160;</p>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_1607547603_1" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />IP Zones</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_1607547603_1" style="display: none;">
                <p>Okta offers authentication whitelisting and blacklisting based on zones. Zones are set of IP address ranges or geolocations defined by an admin. Zones are used in policies, application sign in rules, VPN Notifications, and Integrated Windows Authentication (IWA). If a zone definition is updated, any policy or rule that uses it is automatically updated to the new specification.</p>
                <p>Zones replace the earlier concept of Public Gateway IPs in which you could only specify one set of IP addresses. The terms on network and off network are replaced by in zone and not in zone.</p>
                <p>Zones and geolocation are Early Access (EA) features; contact Okta support to enable zone or zones and geolocations.</p>
                <h3>Setting up Zones</h3>
                <p>A zone can either define IP addresses or geographical locations. You can set up any number of zones. Each zone can contain up to 75 specifications.</p>
                <p>The following table describes specifications for IP address zones.</p>
                <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/okta_table_2.css');" class="TableStyle_IBC_Table_2" cellspacing="0">
                    <col style="width: 712px;" />
                    <col style="width: 407px;" />
                    <tbody>
                        <tr>
                            <th class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep"><b>Item</b>
                            </th>
                            <th class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColEnd"><b>Sample</b>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep">Public Gateway IP Addresses – enter one per line or separate by commas. For ranges, either use a hyphen to separate the range, or use CIDR notation.</td>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColEnd">
                                <p>1.2.3.4, 1.2.3.6-1.2.3.7</p>
                                <p>192.168.0.0/24</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColSep">Trusted Proxy IP addresses – same format as above</td>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColEnd">
                                <p>1.2.3.11–1.2.3.14</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>&#160;</p>
                <p>If you have the Geolocations feature enabled, you can also use geographical specifications. The following table describes specifications for geographic location zones.</p>
                <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/okta_table_2.css');" class="TableStyle_IBC_Table_2" cellspacing="0">
                    <col style="width: 712px;" />
                    <col style="width: 407px;" />
                    <tbody>
                        <tr>
                            <th class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep"><b>Item</b>
                            </th>
                            <th class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColEnd"><b>Sample</b>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep">A country</td>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColEnd">US</td>
                        </tr>
                        <tr>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColSep">A country and a region– enter one per line</td>
                            <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColEnd">
                                <p>California, US</p>
                                <p>Québec, CA</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>You cannot define a country as a specification and then add another specification that defines a region within that country. The following combination of specifications is valid:</p>
                <blockquote>
                    <p>US<br />AU<br />Québec, CA<br />Bayern, DE</p>
                </blockquote>
                <p>The following combination of specifications is invalid:</p>
                <blockquote>
                    <p>US<br />California, US</p>
                </blockquote>
                <h4>Entering Zones</h4>
                <p>Use the <b>Add Zone</b> button for new zones. Use the <b>Edit</b> or <b>Delete</b> buttons next to existing zones to change or remove them. If you have a legacy zone, you cannot edit or delete it.</p>
                <h3>Using Zones</h3>
                <h4>Policies</h4>
                <p>When entering a rules for policies, such as sign-on policies and MFA policies, specify zone information from the selection shown below.</p>
                <p>
                    <img src="../../Resources/Images/Ip_Zones_1.png" />
                </p>
                <p>Choices for the location are <em>Anywhere</em>, <em>In zone</em>, and <em>Not in zone</em>.</p>
                <p>After selecting <em>In zone</em> or <em>Not in zone</em>, the following zone selection options appear.</p>
                <p>
                    <img src="../../Resources/Images/Ip_Zones_2.png" />
                </p>
                <p>If you check <b>All Zones</b>, all of your defined zones are selected, and the box below it is no longer visible, as shown below.</p>
                <p>
                    <img src="../../Resources/Images/Ip_Zones_3.png" />
                </p>
                <p>If you do not check <b>All Zones</b>, you can begin typing a zone name in the Zones box. A dropdown list appears that contains all existing zones that contain the text you entered anywhere in the zone name. You can choose any number of zones. The following example shows a search for all zones that contain the letter t. In this case, only one zone is found. You still must select it to make it active.</p>
                <p>
                    <img src="../../Resources/Images/Ip_Zones_4.png" />
                </p>
                <h4>VPN Notifications</h4>
                <p>When entering rules for VPN notifications, you cannot list specific zones for these notifications; you can specify <em>Inside Any Zones</em> or <em>Outside All Zones</em>.</p>
                <p><b>Note:</b> You can jump to the Zone setup screens anytime by choosing the <b>Network</b> link shown above.</p>
                <h4>IWA</h4>
                <p>When evaluating IWA logins, Okta checks that the login is from the configured zones. You can edit the configuration and choose any desired zones, or choose <em>All Zones</em> as you do in policies.</p>
                <p>When an IWA agent is configured, the IP address of the client is added to the <b>LegacyIPZone</b>. The LegacyIPZone is the only zone configured by default, as shown below.</p>
                <p>
                    <img src="../../Resources/Images/Ip_Zones_5.png" />
                </p>
                <h3>Deleting Zones</h3>
                <p>When an IP or Location Zone is deleted, all rules that use the deleted zone are affected.</p>
                <ul>
                    <li value="1">If the zone to delete is the only zone in any rule, you cannot delete the zone and receive an error message. Edit the rule to use a different zone then perform the deletion again.</li>
                    <li value="2">If the zone to delete is not the only zone in any rule you can delete the zone. The zone is removed from all the rules where it is specified.</li>
                </ul>
                <h3>Legacy Zone</h3>
                <p>If you have already defined Public Gateway IP Addresses, the information is migrated to a zone named LegacyIpZone. You cannot delete this zone, but you can edit it.</p>
                <p>For existing rules, LegacyIpZone retains the previous settings. This zone is still active and can be used in new assignments.</p>
                <p>&#160;</p>
            </div>
        </div>
        <p>&#160;</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>