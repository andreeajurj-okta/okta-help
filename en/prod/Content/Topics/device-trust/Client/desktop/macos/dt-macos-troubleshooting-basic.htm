<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <!-- ******************************************************************************** -->
    <!-- IMPORTANT: replicate changes in this file to other master pages, as appropriate. -->
    <!-- ******************************************************************************** -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>macOS&#160;Device Trust basic Troubleshooting | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Resources/Stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.previous-topic-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.next-topic-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../../Resources/TableStyles/standard-shade-col1.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },	
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPubish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <!--<div class="title-bar-layout outer-row">-->
                                        <!--<div class="navigation-wrapper nocontent">
			<ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True" data-mc-chunk="Data/Toc.xml">                               
			<li class="has-children" data-mc-id="0"><a href="javascript:void(0);">Documentation</a></li>
			<li data-mc-id="1"><a href="https://support.okta.com/help/s/documentation">Knowledge base</a></li>
			<li class="has-children" data-mc-id="2"><a href="javascript:void(0);">Community</a></li>
			<li class="has-children" data-mc-id="3"><a href="javascript:void(0);">Product</a></li>
			<li data-mc-id="4"><a href="https://www.okta.com/services/education-services/">Training</a></li>
			</ul>
			</div>-->
                                        <div class="navbar">
                                            <div class="dropdown" data-mc-conditions="MultiProdPubish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://help.okta.com/en/prod/Content/Topics/ReleaseNotes/okta-relnotes.htm">Release notes</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/en/prod/Content/index.htm">Product documentation</a>
                                                    </div>
                                                    <div><a href="https://developer.okta.com/documentation" target="_blank">Developer documentation<img src="../../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://support.okta.com/help/s/knowledge">Knowledge base</a>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Community <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/questions?language=en_US">Questions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/group/CollaborationGroup/Recent?language=en_US">Discussions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/events?language=en_US">Webinars</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Product <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/ideas" target="_blank">Ideas<img src="../../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/productroadmap?language=en_US">Roadmap</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/product-hub?language=en_US">Product hub</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://www.okta.com/services/education-services/" target="_blank">Training<span><img src="../../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></span></a>
                                            </div>
                                        </div>
                                        <div class="logo_container"><a class="logo" href="https://support.okta.com/help/s/"><img src="../../../../../Resources/Images/okta-assets/Logo.png" alt="Okta Support" title="Okta Support" /></a>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** ****commented out, with new left accordion implementation***-->
                                        <!--<div class="is-not-in-mobile">
                <MadCap:menuProxy data-mc-skin="/Project/Skins/okta-left-menu.flskn" mc-linked-toc="/Project/TOCs/left-nav-TOC.fltoc" style="mc-toc-depth: 2;mc-context-sensitive: False;mc-include-parent: True;mc-include-siblings: True;mc-include-children: True;" />
            </div>-->
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs, next/prev buttons -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_nav_poc mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img alt="Expand all" src="../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                        <button class="button needs-pie previous-topic-button" title="Previous topic">
                                                            <img alt="Navigate previous" src="../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Next topic">
                                                            <img alt="Navigate next" src="../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>macOS&#160;<span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> basic Troubleshooting</h1>
                                                    <p>To perform basic troubleshooting, review the following topics:</p>
                                                    <h3>Topics</h3>
                                                    <ul>
                                                        <li><a href="#Enableme">Enablement</a>
                                                        </li>
                                                        <li><a href="#Registration">Registration task</a>
                                                        </li>
                                                        <li><a href="#Certificate">Certificate</a>
                                                        </li>
                                                        <li><a href="#SignOnPolicy">Sign On policy</a>
                                                        </li>
                                                        <li><a href="#SystemLog">System Log</a>
                                                        </li>
                                                        <li><a href="#VerifyJamfSetup">Verify Jamf Pro Setup</a>
                                                        </li>
                                                    </ul>
                                                    <p>&#160;</p>
                                                    <h2><a name="Enablement"></a>Enablement</h2>
                                                    <p>Verify the following:</p>
                                                    <ul>
                                                        <li>This device trust feature is included in your org's version of Okta  (your SKU) </li>
                                                        <li>You have <a href="dt-macos-enable-dt-download-task.htm#top">enabled the global <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> setting</a> in <b>Security &gt; Device Trust &gt;&#160;Enable macOS&#160;<span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span></b>.</li>
                                                    </ul>
                                                    <h2><a name="Registration"></a>Registration task</h2>
                                                    <p>Verify that you have correctly configured Jamf Pro to distribute the Device Registration Task to targeted macOS devices as detailed in <a href="dt-macos-config-jamf-push-reg-task.htm" class="MCXref xref">Configure Jamf Pro to push the Device Registration Task to macOS&#160;computers</a>.</p>
                                                    <p>You can use the following query to determine which version of the Registration Task is running on the device:
				
				
			<p id="code">python ~/Library/Okta/okta_device_trust.py version</p></p>
                                                    <h2><a name="Certificate"></a>Certificate</h2>
                                                    <div>
                                                        <h3>Verify that the certificate is installed</h3>
                                                        <p>Make sure that certificates are installed in the keychain on the devices you have targeted for this Device Trust solution. If certificates are not installed and the Trusted setting is enabled in your App Sign On Policy, users are denied access to the app and are redirected to a security message advising them to contact their administrator. (You can configure the message to include a <b>Learn more</b> link to more information. See <a href="../../../../Mobile/Okta_Device_Trust_Jamf_macOS_Devices.htm#learn-more-link"><a href="dt-macos-enable-dt-download-task.htm" class="MCXref xref">Enable Device Trust and download the Device Registration task</a></a>). </p>
                                                        <h4>Verify installation from a terminal:</h4>
                                                        <ul>
                                                            <li>Show keychain info
            <p id="code">security show-keychain-info okta.keychain</p></li>
                                                            <li>Show the certificate
            <p id="code">security find-certificate -a -c 'Okta MTLS' -Z -p okta.keychain</p></li>
                                                            <li>Show the password
            <p id="code">security find-generic-password -l device_trust -w</p></li>
                                                        </ul>
                                                        <h4>Verify installation through the GUI on targeted devices:</h4>
                                                        <div>
                                                            <ol>
                                                                <li value="1">On the macOS&#160;device, search for Keychain Access.</li>
                                                                <li value="2">Double click to open the Keychain Access app.</li>
                                                                <li value="3">Verify that the Okta Keychain exists and that it includes the <b>Okta MTLS certificate</b>.</li>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../../Resources/Images/dt-macos-keychain-troubleshooting.png"><img class="MCPopupThumbnail img" data-mc-width="877" data-mc-height="357" src="../../../../../Resources/Images/dt-macos-keychain-troubleshooting_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" id="imgimg_new" /></a>
                                                                </p>
                                                                <p>If either the Okta Keychain, the certificate, or the private key are missing, the registration task did not complete successfully. In this case, <a href="#View">view logs in Jamf Pro</a>. </p>
                                                                <li value="4">In the <b>login</b> keychain, verify that the <b>device_trust</b> password and <b>identity preferences</b> appear. </li>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../../Resources/Images/dt-macos-keychain-pw-troubleshooting.png"><img class="MCPopupThumbnail img" data-mc-width="984" data-mc-height="762" src="../../../../../Resources/Images/dt-macos-keychain-pw-troubleshooting_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" id="imgimg_new" /></a>
                                                                </p>
                                                                <p>If the <b>device_trust</b> password isn't present, then device trust-secured apps can't access the Okta keychain. To address this, uninstall the certificate (see <a href="dt-macos-revoke-remove-certificates.htm" class="MCXref xref">Remove and revoke Device Trust certificates</a>) and then re-enroll the device (see <a href="dt-macos-config-jamf-push-reg-task.htm" class="MCXref xref">Configure Jamf Pro to push the Device Registration Task to macOS&#160;computers</a>).</p>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h3>Maximum certificate enrollment limit</h3>
                                                        <p> A certificate becomes bound to a given user the first time that user accesses a device trust-secured application from a device trust-secured macOS device. Unused certificates are unbound. Okta can issue up to five unbound certificates to the device, one each time you perform the enrollment procedure. As a security precaution, Okta will not issue more than five unbound certificates to a given device. To avoid reaching the unbound certificate limit, ensure that users use the unbound certificates already on the device before you attempt to obtain more certificates through enrollment. If you reach the enrollment limit, the Syslog indicates an enrollment failure and the error message <b>Maximum enrollment limit of 5 certificates for a device is reached</b> appears in the JAMF log.</p>
                                                    </div>
                                                    <div>
                                                        <h3><a name="MTLS-handshake"></a>Prevent an auth failure caused by blocked Mutual TLS certificate exchange
</h3>
                                                        <div>
                                                            <p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> flow occurs on Okta URLs that are separate from your Okta org URL (indicated by the wildcard character (*) in the following example).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, including the wildcard character (*):</p>
                                                            <p id="code">*.okta.com</p>
                                                            <p id="code">*.okta-emea.com
                </p>
                                                        </div>
                                                    </div>
                                                    <h2><a name="SignOnPolicy"></a>Sign On Policy</h2>
                                                    <p>Verify that you have configured a Sign On Policy that:</p>
                                                    <ul>
                                                        <li>Is applied to the WS-Fed or <span class="disableGlossary">SAML</span> app(s) that you want to secure with <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span>.</li>
                                                        <li>Is applied to the correct user(s) and/or <span class="disableGlossary">groups</span>.</li>
                                                        <li>Includes, at minimum, an Active rule that denies access to untrusted devices.</li>
                                                    </ul>
                                                    <h2><a name="DT_macOS_SysLog"></a>System Log</h2>
                                                    <div>
                                                        <h3 data-mc-conditions="SnippetConditionsForDevices.macOS Only">Verify <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> events</h3>
                                                        <p>Review the <a href="../../../../Reports/Reports_SysLog.htm" class="MCXref xref">System Log</a> to verify the following <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> System Log events:
</p>
                                                        <table style="mc-table-style: url('../../../../../Resources/TableStyles/standard-shade-col1.css');" class="TableStyle-standard-shade-col1" cellspacing="0">
                                                            <col class="TableStyle-standard-shade-col1-Column-Column1" style="width: 267px;" />
                                                            <col class="TableStyle-standard-shade-col1-Column-Column" />
                                                            <col class="TableStyle-standard-shade-col1-Column-Column" />
                                                            <thead>
                                                                <tr class="TableStyle-standard-shade-col1-Head-Header1">
                                                                    <th class="TableStyle-standard-shade-col1-HeadE-Column1-Header1">
                                                                        <p>Certificate Event</p>
                                                                    </th>
                                                                    <th class="TableStyle-standard-shade-col1-HeadF-Column-Header1">DisplayMessage</th>
                                                                    <th class="TableStyle-standard-shade-col1-HeadD-Column-Header1">EventType</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr class="TableStyle-standard-shade-col1-Body-Body1">
                                                                    <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1"><b><span class="disableGlossary">Authentication</span></b>
                                                                    </td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyF-Column-Body1"><span class="disableGlossary">Authentication</span> of device via certificate</td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><span class="code">user.<span class="disableGlossary">authentication</span>.authenticate</span>
                                                                    </td>
                                                                </tr>
                                                                <tr class="TableStyle-standard-shade-col1-Body-Body2">
                                                                    <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body2"><b>Enrollment</b>
                                                                    </td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> certificate enrollment</td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><span class="code">user.credential.enroll</span>
                                                                    </td>
                                                                </tr>
                                                                <tr class="TableStyle-standard-shade-col1-Body-Body1">
                                                                    <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1"><b>Issuance</b>
                                                                    </td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyF-Column-Body1"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> certificate issuance</td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><span class="code">pki.cert.issue</span>
                                                                    </td>
                                                                </tr>
                                                                <tr class="TableStyle-standard-shade-col1-Body-Body2">
                                                                    <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body2"><b>Revocation</b>
                                                                    </td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> certificate revocation</td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><span class="code">pki.cert.revoke</span>
                                                                    </td>
                                                                </tr>
                                                                <tr class="TableStyle-standard-shade-col1-Body-Body1">
                                                                    <td class="TableStyle-standard-shade-col1-BodyB-Column1-Body1"><b>Renewal</b>
                                                                    </td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyC-Column-Body1"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> certificate renewal</td>
                                                                    <td class="TableStyle-standard-shade-col1-BodyA-Column-Body1"><span class="code">pki.cert.renew</span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <p>&#160;</p>
                                                    </div>
                                                    <div>
                                                        <h3>View unique device IDs in DebugContext</h3>
                                                        <p>DebugData shows the unique ID of the devices associated with <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> events and is useful for debugging purposes. This information can also help you  verify that<span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> is being enforced on devices in your device inventory, which may be useful prior to rolling out the feature to a large group of users.</p>
                                                        <div class="noteOkta">
                                                            <img src="../../../../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                            <p class="noteHeading">Important</p>
                                                            <p class="noteContent">The information contained in debugContext.debugData is intended to add context when troubleshooting customer platform issues. Note that key names and values are subject to change without notice and should be used primarily as a debugging aid, not as a data contract.  See <a href="https://developer.okta.com/docs/reference/api/system-log/#debugcontext-object" target="_blank">DebugContext Object</a> in Okta Developer documentation.</p>
                                                        </div>
                                                        <ol>
                                                            <li value="1">In the <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span>, go to <b>Reports</b> &gt; <b>System Log</b>.</li>
                                                            <li value="2">Search for the <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> Event (date) that you’re interested in, then navigate to:
                                        <p><b>Event &gt; AuthenticationContext &gt; System &gt; DebugContext &gt; DebugData</b></p></li>
                                                        </ol>
                                                    </div>
                                                    <h2><a name="VerifyJamfSetup"></a>Verify Jamf Pro setup</h2>
                                                    <ul>
                                                        <li>In the Okta Admin Console, are the <b><span class="disableGlossary">Secret Key</span> Value</b> and the <b>Org URL</b> correctly populated in the Okta Device Registration Task (see <a href="dt-macos-add-secret-key-and-org-url.htm" class="MCXref xref">Add the Secret Key and Org URL to the Device Registration Task</a>)?</li>
                                                        <li>Is the Okta Device Registration Task that you modified and added to Jamf Pro the latest version? (See <a href="../../../../Settings/Version_Histories/Ver_History_Device_Trust_MacOS.htm" class="MCXref xref">Device Trust for macOS Registration Task Version History</a>.)</li>
                                                        <li>Do the trigger events in your Jamf Pro policy  include <b>Enrollment Complete</b> and <b>Recurring Check-in</b>? (See <a href="dt-macos-config-jamf-push-reg-task.htm" class="MCXref xref">Configure Jamf Pro to push the Device Registration Task to macOS&#160;computers</a>.)</li>
                                                        <li>

											Have you viewed deployment logs? (See <a href="dt-macos-view-cert-enrollment-logs.htm" class="MCXref xref">View Device Trust certificate enrollment logs</a>.)
										</li>
                                                        <li>Do Jamf Pro Policy Logs show that the script execution status is <b>Completed</b>? </li>
                                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../../Resources/Images/dt-macos-jamf-policy-logs-troubleshooting.png"><img class="MCPopupThumbnail img" data-mc-width="664" data-mc-height="347" src="../../../../../Resources/Images/dt-macos-jamf-policy-logs-troubleshooting_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" id="imgimg_new" /></a>
                                                        </p>
                                                    </ul>
                                                    <p>&#160;</p>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Right menu Col ***  ****commented out temporarily until redesign for "on this page" implementation, redundant to new left accordion implementation***-->
                                        <!--<div class="is-not-in-mobile">
                <MadCap:menuProxy data-mc-skin="/Project/Skins/okta-right-menu.flskn" mc-linked-toc="/Project/TOCs/okta-TOC.fltoc" style="mc-context-sensitive: True;mc-include-parent: True;mc-include-siblings: False;mc-include-children: True;" />
            </div>-->
                                    </div>
                                    <div class="toolbar-bottom">
                                        <!-- Expand/Collapse All for drop-downs -->
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie previous-topic-button" title="Previous topic">
                                                    <img alt="Navigate previous" src="../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                                <button class="button needs-pie next-topic-button" title="Next topic">
                                                    <img alt="Navigate next" src="../../../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <!--         <div class="footer2">
            <div>
                <ul>
                    <li><a href="https://fulluat-okta.cs67.force.com/help/s/article/Okta-Community-FAQs">Community FAQ</a>
                    </li>
                    <li><a href="https://support.okta.com/help/s/article/Okta-Community-Terms-and-Conditions">Terms &amp; Conditions</a>
                    </li>
                    <li>Trust</li>
                    <li><a href="https://www.okta.com/contact/">Contact</a>
                    </li>
                    <li>Feedback</li>
                </ul>
            </div>
            <div>
                <p class="try-okta-button"><a role="button" href="https://www.okta.com/free-trial/">Try Okta For Free</a>
                </p>
            </div>
        </div> -->
                                    <div class="footer2">
                                        <div>
                                            <p class="copyright">©  <span class="mc-variable okta-variables.Year variable">2021</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                        <!--             <div>
                <ul>
                    <li><a href="https://twitter.com/okta"><img src="../Images/okta-assets/twitter.png" /></a>
                    </li>
                    <li><a href="https://www.facebook.com/OktaIdentity"><img src="../Images/okta-assets/facebook.png" /></a>
                    </li>
                    <li><a href="https://www.linkedin.com/company/okta-inc-/"><img src="../Images/okta-assets/linkedin.png" /></a>
                    </li>
                    <li><a href="https://www.youtube.com/user/OktaInc"><img src="../Images/okta-assets/youtube.png" /></a>
                    </li>
                    <li><a href="https://www.okta.com"><img src="../Images/okta-assets/okta.png" /></a>
                    </li>
                </ul>
            </div> -->
                                    </div>
                                    <!-- Qualtrics setup to use with script below, replacing getfeedback -->
                                    <div id="ZN_6fGBJ8J3VcIBymN">
                                        <!--DO NOT REMOVE-CONTENTS PLACED HERE-->
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <!--         <script type="text/javascript" src="../Scripts/back-to-top.js">
        </script>
 -->
                                    <script type="text/javascript" src="../../../../../Resources/Scripts/js/vendor/qualtrics.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
