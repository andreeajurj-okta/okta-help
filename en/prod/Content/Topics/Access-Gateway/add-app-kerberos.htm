<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|Access Gateway|Integrate Applications with Access Gateway">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Add a Kerberos Application | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="H88GOPIEh0yXlYU115P2BQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="H88GOPIEh0yXlYU115P2BQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1>Add a Kerberos Application</h1>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="Overview"></a>Overview</h2>
                                                <p>The purpose of this tutorial is to walk through the process of setting up a <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Kerberos<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Kerberos is a computer-network authentication protocol that works on the basis of tickets to allow nodes communicating over a non-secure network to prove their identity to one another in a secure manner.</span></a> application with Okta through the Access Gateway <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> UI.</p>
                                                <hr width="100%" size="0" align="center" />
                                                <div>
                                                    <h2><a name="Prerequisites"></a>Prerequisites</h2>
                                                    <ul>
                                                        <li value="1">Access Gateway is installed and configured for use. <br />See <a href="setup-using-ovf.htm" class="MCXref xref">Setup Access Gateway Using an OVA Image</a> </li>
                                                        <li value="2">Access Gateway has been configured to use your Okta tenant as <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">iDP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Identity Provider. It is a service that manages end user accounts analogous to user directories such as LDAP and Active Directory, and can send SAML responses to SPs to authenticate end users. Within this scenario, the IdP is Okta.</span></a>.<br />See <a href="configure-idp-okta.htm" class="MCXref xref">Configure your Okta tenant as an Identity Provider</a> for more information about configuring your Okta tenant as an idP. <br /></li>
                                                        <li value="3">You have administrator rights on your Okta tenant and can assign applications to users, and create <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a>. </li>
                                                        <li value="4">Window server configured with IIS application and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Active Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Active Directory (AD) is a directory service that Microsoft developed for the Windows domain networks. It is included in most Windows Server operating systems as a set of processes and services. Initially, Active Directory was only in charge of centralized domain management.</span></a> Services running as a <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> Controller and implementing Kerberos (IWA) <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a>.</li>
                                                        <li value="5">
                    Access Gateway DNS&#160;must be served by the Windows DNS server.
					</li>
                                                    </ul>
                                                    <div class="noteOkta">
                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                        <p class="noteHeading">Important</p>
                                                        <p class="noteContent">If Access Gateway is hosted within a customer environment, DNS changes can be made by using the command line management console. For example, select <b>Static Networking</b>(option 1), and define the Windows DNS IP any any other required values.<br />See the Network section in <a href="command-line-console-reference.htm#Network">Access Gateway Command Line Management Console Reference </a> for complete details. </p>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div>
                                                    <h2><a name="What’s"></a>What’s covered in this guide</h2>
                                                    <ol>
                                                        <li value="1"><a href="#Add_AG_WDNS" class="MCXref xref">Add Access Gateway to Windows DNS service</a>
                                                        </li>
                                                        <li value="2"><a href="#Setup_Windows_Server_Constrained_Delegation" class="MCXref xref">Configure Windows Server Constrained Delegation</a>
                                                        </li>
                                                        <li value="3"><a href="#Add_Kerberos_Service_to_Access_Gateway" class="MCXref xref">Add Kerberos Service to Access Gateway</a>
                                                        </li>
                                                        <li value="4"><a href="#Configure_Windows_Services_IIS_For_IWA" class="MCXref xref">Configure Windows Server IIS for IWA</a>
                                                        </li>
                                                        <li value="5"><![CDATA[
                    ]]><a href="#Create_Application" class="MCXref xref">Create an IWA&#160;Application in Access Gateway</a></li>
                                                        <li value="6"><a href="#Test" class="MCXref xref">Test the Application</a>
                                                        </li>
                                                    </ol>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Add_AG_WDNS"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Add Access Gateway to Windows DNS service</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>Windows must be the DNS provider for Access Gateway. Using Windows DNS&#160;manager you can perform common administrative tasks. In this section we will add appropriate DNS&#160;entries for Access Gateway.</p>
                                                            <ol>
                                                                <li value="1">Login to your Windows Server.</li>
                                                                <li value="2">Start the the <b>DNS Manager</b> application.</li>
                                                                <li value="3">Select your domain. &#160;<br />In this example <b>idaasgateway.net</b> is selected.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.windows.dns.01.png" id="img_new" /></li>
                                                                <li value="4">Click <b>Action  &gt; New Host (A or AAAA).</b></li>
                                                                <li value="5">Enter appropriate values for Name, <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">FQDN<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A fully qualified domain name (FQDN) is the complete domain name for a specific computer, or host, on the internet.</span></a> and IP address. <br />For example:<br /><b>Name</b>: <i>gw-iis</i><br /><b>FQDN</b>: <i>gw-iis.access-gateway.tld</i><br />I<b>P&#160;Address</b>: <i>IP&#160;Address of Access Gateway instance.</i><br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.windows.dns.02.png" id="img_new" /></li>
                                                                <li value="6">Click <b>Add Host</b>.</li>
                                                                <li value="7">Exit Windows DNS Manager. </li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Setup_Windows_Server_Constrained_Delegation"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configure Windows Server Constrained Delegation</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>Access Gateway requires a set of known Windows credentials which will be used by the instance to configure the Kerberos service. </p>
                                                            <ol>
                                                                <li value="1">Return to or login to your Windows Server.</li>
                                                                <li value="2">Start the the <b>Active Directory Users and Computers</b> application.</li>
                                                                <li value="3">Select <b>&lt;gateway instance&gt; &gt;&#160;Users &gt; New User</b>.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.windows.user.01.png" id="img_new" /></li>
                                                                <li value="4">Create a new Okta Access Gateway user and click <b>Next</b>. <br />For example:<br /><b>First name</b>: oag<br /><b>Last name</b>: service<br /><b>User logon</b> name: oag<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.windows.user.02.png" /></li>
                                                                <li value="5">Specify an appropriate password.<br />Ensure that <b>User cannot chance password</b> and<br /><b>Password never expires</b> are checked, then click <b>Next</b>.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.windows.user.03.png" /></li>
                                                                <li value="6">On the final New Object - User dialog click <b>Next</b>. </li>
                                                                <li value="7">Right click the new user and show properties and note the following properties:<br /><b>Logon name</b>: <i>oag@idaasgateway.net</i><br />Pre windows 2000 prefix: <i>IDAASGAWAY</i><br /><br /></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Add_Kerberos_Service_to_Access_Gateway"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Add Kerberos Service to Access Gateway</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>In order to interact with Windows using Kerberos, a Kerberos configuration is required. <br />In this section we will use the credentials created in the prior section to configure Kerberos settings.</p>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>Navigate to your Access Gateway <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Instance<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An instance, or computer instance, is a virtual machine (VM) or individual physical computer, used to host a software appliance.</span></a>.</p>
                                                                </li>
                                                                <li value="2">In the <strong>Access Gateway Admin UI</strong> login as administrator.</li>
                                                                <li value="3">Select the <b>Settings</b> tab.<br /><img src="../../Resources/Images/access-gateway/admin-datasource.01.png" class="coveo-headline-title" /></li>
                                                                <li value="4">Select the <b>Kerberos</b> pane. <br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.settings.kerberos.png" id="img_new" /></li>
                                                                <li value="5">Click <b>plus</b>(<img src="../../Resources/Images/access-gateway/admin-user-policy-guide.plus.png" id="img_new" />).</li>
                                                                <li value="6">Enter the Service Account details previously noted. <br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.settings.kerberos.01.png" id="img_new" /></li>
                                                                <li value="7">Expand the <b>Windows Server commands</b> section. <br />This section contains the commands that must be executed on the Windows server to create the required keytab.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.settings.kerberos.02.png" id="img_new" /></li>
                                                                <li value="8">Execute the Windows server commands on the Windows Domain controller to create the required keytab:<ol style="list-style-type: lower-alpha;"><li value="1">Return to the Windows domain controller.</li><li value="2">Open a command prompt</li><li value="3">Change directory to the root using a command similar to:<br /><code>cd /</code></li><li value="4">Execute the <span style="font-family: 'Courier New';">setspn</span> command, for example:<br /><code><pre xml:space="preserve"><b>c:\&gt; setspn -s host/gw-iss.idaasgateway.net IDAASGATEWAY\oag</b>
checking DC=isaasgateway, DC=net<br />Registering ServicePrincipleNames for cn=oag service, CN=Users,DC=idaasgateway,DC=net host/gw-iss.idaasgateway.net
Updated object<br />c:\&gt; </pre></code></li><li value="5">Execute the <span style="font-family: 'Courier New';">ktpass</span> command, for example:<br /><code><pre xml:space="preserve">c:\&gt; ktpass /princ host/gw-idiaasgateway.net@IDAASGATEWAY.NET /mapuser oag@idaasgateway.net /out c:\oag.keytab /rndPass /pType KRB5_NT_PRINCIPAL /crypto All
Targeting domain controller:
. . . 
Key created
Output keytab to oag.keytab:
. . . 
c:\&gt; </pre></code><br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">The generated keytab file will be required to finalize the Kerberos configuration in Access Gateway and must be accessible to Access Gateway</p></div></li></ol></li>
                                                                <li value="9">
						Return to Access Gateway.</li>
                                                                <li value="10">Expand the <b>Configuration</b> section and then click <b>Choose File</b>.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.settings.kerberos.03.png" id="img_new" /></li>
                                                                <li value="11">Navigate to the directory containing the keytab file and upload</li>
                                                                <li value="12">Click the <b>Validate</b> button. The keytab file must be validated before continuing.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.settings.kerberos.04.png" id="img_new" /></li>
                                                                <li value="13">Click <b>Okay</b>.</li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Configure_Windows_Services_IIS_For_IWA"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configure Windows Server IIS for IWA</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Return to or login to your Windows Server.</li>
                                                                <li value="2">Start the<b>Internet Information Services (IIS)</b> application.</li>
                                                                <li value="3">Navigate to the Default Web Site<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.01.png" id="img_new" /></li>
                                                                <li value="4">Double click <b><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Authentication<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Authentication is distinct from authorization, which is the process of giving individuals access to system objects based on their identity. Authentication merely ensures that the individual is who he or she claims to be, but says nothing about the access rights of the individual.

Authentication methods and protocols include direct auth, delegated auth, SAML, SWA, WS-Fed, and OpenID Connect.</span></a></b>. and configure:<br /><b>Anonymous access</b> <i>Disabled</i><br /><b>Windows Authentication</b>&#160;<i>Enabled</i><br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.02.png" /></li>
                                                                <li value="5">Exit <b>Internet Information Services (IIS)</b>.</li>
                                                                <li value="6">Start the <b>Active Directory Users and Computers</b> application.</li>
                                                                <li value="7">Navigate to the previously added OAG user. </li>
                                                                <li value="8">Select the user, right click and choose properties</li>
                                                                <li value="9">Select the Delegation tab.</li>
                                                                <li value="10">Configure the account to: enable<br style="font-weight: bold;" /><b>Trust this user for delegation to specified services only</b>.<br /><b>Use any authentication protocol</b><br />Then click <b>Add</b>. <br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.03.png" /></li>
                                                                <li value="11">Add your IIS host to the delegation, <br />Click <b>Check Name</b> to verify that server has joined to the domain. <br />Click <b>OK</b>.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.04.png" id="img_new" /></li>
                                                                <li value="12">
                                                                    <p>In the Add Services dialog, select the delegation protocol, click <b>OK</b><br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.05.png" id="img_new" /></p>
                                                                </li>
                                                                <li value="13">Exit the <b>Internet Information Services (IIS)</b> application</li>
                                                                <li value="14">Validate the configuration.<br />To test we will simulate a Kerberos login.<br /><ol style="list-style-type: lower-alpha;"><li value="1">Start the the <b>Active Directory Users and Computers</b> application.</li><li value="2">Select <b>&lt;gateway instance&gt; &gt;&#160;Users &gt; New User</b>.<br /></li><li value="3">Create a new Okta Access Gateway user and click <b>Next</b>. <br />For example:<br /><b>First name</b>: test<br /><b>Last name</b>: user<br /><b>User logon</b> name: testuser<br /></li><li value="4">Complete the new user and exit the application</li><li value="5">Return to the Access Gateway admin console.</li><li value="6">Click the <b>Simulate</b> button.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.06.png" id="img_new" /></li><li value="7"><p>Enter test user and host. Specifically use the test user and the FQDN of the IIS server host, which is the same as the DC.<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.IIS.07.png" id="img_new" /></p></li></ol></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Create_Application"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Create an IWA&#160;Application in Access Gateway</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Add apublic facing DNS&#160;entry for the Access Gateway application to DNS<ol style="list-style-type: lower-alpha;"><li value="1">Login or return to your Windows Server.</li><li value="2">Start the the <b>DNS Manager</b> application.</li><li value="3">Click <b>Action  &gt; New Host (A or AAAA).</b></li><li value="4">Add an entry that matches the Access Gateway instance. <br />For example:<br /><img src="../../Resources/Images/access-gateway/add-app-kerberos.oag.app.01.png" id="img_new" /></li><li value="5">Click <b>Add Host</b> and then exit the application. </li></ol></li>
                                                                <li value="2">Navigate to your Access Gateway Instance and login as admin.</li>
                                                                <li value="3">Click the <strong>Applications</strong> tab<br />.<img src="../../Resources/Images/access-gateway/add-generic-header-app.01.png" alt="Select applications tab" id="img_new" /></li>
                                                                <li value="4">Click <strong>+ Add</strong> to add a new application.<br /><img src="../../Resources/Images/access-gateway/add-generic-header-app.02.png" alt="Click Add." id="img_new" /></li>
                                                                <li value="5">Select  <strong>Microsoft IIS IWA</strong> from the left column menu, and click <strong>Create</strong>.<br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">If the Microsoft IIS, OWA&#160;or Sharepoint IWA application are disabled (grey) confirm that there is a valid Kerberos service configured in settings. </p></div></li>
                                                                <li value="6">If required expand the <b>Essentials</b> pane, then enter:<br /><table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-srb_header" cellspacing="0"><col class="TableStyle-srb_header-Column-Column1" /><col class="TableStyle-srb_header-Column-Column1" style="width: 440pt;" /><thead><tr class="TableStyle-srb_header-Head-Header1"><th class="TableStyle-srb_header-HeadF-Column1-Header1">Field</th><th class="TableStyle-srb_header-HeadD-Column1-Header1">Value</th></tr></thead><tbody><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyF-Column1-Body1"><b>Label</b></td><td class="TableStyle-srb_header-BodyD-Column1-Body1">The name of the application, as shown in your Okta Tenant.<br />For example:<b>Microsoft IIS&#160;Application</b></td></tr><tr class="TableStyle-srb_header-Body-Body2"><td class="TableStyle-srb_header-BodyF-Column1-Body2"><b>Public Domain</b></td><td class="TableStyle-srb_header-BodyD-Column1-Body2">The externally facing URL of the application.<br />For example: <b>https://iis.idaasgateway.net</b></td></tr><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyF-Column1-Body1" style="font-weight: bold;">Protected Web Resource</td><td class="TableStyle-srb_header-BodyD-Column1-Body1">Fully qualified URL to the Microsoft backing application</td></tr><tr class="TableStyle-srb_header-Body-Body2"><td class="TableStyle-srb_header-BodyC-Column1-Body2"><b>Group</b></td><td class="TableStyle-srb_header-BodyA-Column1-Body2">The group containing users who can access the application.</td></tr></tbody></table></li>
                                                                <li value="7">Click <b>Next</b></li>
                                                                <li value="8">In the <b>Application</b> pane, enter:.<br /><table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-srb_header" cellspacing="0"><col class="TableStyle-srb_header-Column-Column1" /><col class="TableStyle-srb_header-Column-Column1" style="width: 440pt;" /><thead><tr class="TableStyle-srb_header-Head-Header1"><th class="TableStyle-srb_header-HeadF-Column1-Header1">Field</th><th class="TableStyle-srb_header-HeadD-Column1-Header1">Value</th></tr></thead><tbody><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyC-Column1-Body1"><b>Kerberos Realm</b></td><td class="TableStyle-srb_header-BodyA-Column1-Body1">Enter the name of the associated realm</td></tr></tbody></table></li>
                                                                <li value="9">Click <b>Next</b>,</li>
                                                                <li value="10">In the <b>Attributes</b> pane, enter:<br /><table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-srb_header" cellspacing="0"><col class="TableStyle-srb_header-Column-Column1" /><col class="TableStyle-srb_header-Column-Column1" style="width: 440pt;" /><thead><tr class="TableStyle-srb_header-Head-Header1"><th class="TableStyle-srb_header-HeadF-Column1-Header1">Field</th><th class="TableStyle-srb_header-HeadD-Column1-Header1">Value</th></tr></thead><tbody><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyC-Column1-Body1"><b>iwa_username</b></td><td class="TableStyle-srb_header-BodyA-Column1-Body1">Enter the value of User Principle Name (UPN) in the proper case .<br />Enter the domain name portion in upper case, for example: <i>todd@ATKO.COM </i>.</td></tr></tbody></table></li>
                                                                <li value="11">
                                                                    <br />
                                                                </li>
                                                                <li value="12">Click <b>Done</b></li>
                                                            </ol>
                                                            <p>The application is added and the <b>Application</b> list page is displayed</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Test"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Test the Application</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ol>
                                                            <li value="1">
                                                                <p>Select <strong>IDP Initiated</strong> from the drop down menu associated with the application.<br /><img src="../../Resources/Images/access-gateway/add-test-app-iDP.Initiated_146x109.png" alt="Test the application" id="img_new" style="width: 146;height: 109;" /></p>
                                                            </li>
                                                            <li value="2">Verify that you are logged into application normally.</li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="Next_Steps"></a>Next Steps</h2>
                                                    <ul>
                                                        <li value="1">Add or review application settings. For more details see  <a href="admin-app-settings.htm" class="MCXref xref">Application Settings</a>.</li>
                                                        <li value="2">Add application behaviors. For details and examples of behaviors see<a href="admin-behaviors.htm" class="MCXref xref">Administer Behaviors</a></li>
                                                        <li value="3">Add fine grained policy to further protect resources. <br />An overview of user policy can be found in <a href="admin-app-policies.htm">Application Policy User Overview.</a> <br />For details and examples of policy see <a href="admin-user-policy-guide.htm" class="MCXref xref">Administration User Policy Guide</a>.</li>
                                                        <li value="4">Extend existing policy using Custom configuration, see <a href="admin-user-policy-guide-advanced.htm" class="MCXref xref">Advanced Policy</a>.</li>
                                                        <li value="5">Define one or more certificates for use with this application. See <a href="managing-certificates.htm" class="MCXref xref">Certificate Management</a></li>
                                                        <li value="6">Add supplemental database or <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">LDAP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Lightweight Directory Access Protocol (LDAP) is a lightweight client-server protocol for accessing directory services, specifically X.500-based directory services. LDAP runs over TCP/IP or other connection oriented transfer services.</span></a> based data stores.&#160;For more information see <a href="admin-settings-datasources.htm" class="MCXref xref">Administer DataStores</a></li>
                                                    </ul>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="J2IN3PM9D0iPTuDUcHqa_g">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="J2IN3PM9D0iPTuDUcHqa_g:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>