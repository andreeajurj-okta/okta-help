<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Install and Configure the Okta Active Directory Agent</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (min-width: 1025px)" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div class="TopBarLeftRight">
                                    <div>
                                        <p>&#160;</p>
                                    </div>
                                    <div>
                                    </div>
                                    <div>
                                        <p>&#160;</p>
                                    </div>
                                </div>
                                <div class="LeftRightMenu">
                                    <div>
                                        <ul class="nocontent menu _Skins_okta_relnote_menu mc-component" data-mc-linked-toc="Data/Tocs/okta_relnotesTOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        </ul>
                                    </div>
                                    <div>
                                        <div class="toolbar-main">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ExpandAll CollapseAll;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="body-main">
                                            <h1>Install and Configure the Okta Active Directory Agent</h1>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Requirements</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ul>
                                                        <li value="1"><b>Installing the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a> on a </b><a href="https://en.wikipedia.org/wiki/DMZ_(computing)" style="font-weight: bold;">DMZ server</a>&#160;— You must <a href="#Ports">open several ports</a>.</li>
                                                    </ul>
                                                    <ul>
                                                        <li value="1"><b>256 Mb of free memory</b> for the service to run.</li>
                                                        <li value="2"><b>Service Dedicated AD Service Account with <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> user permissions</b>&#160;</li>
                                                        <li value="3"><b>For each domain:</b>
                                                            <ul>
                                                                <li value="1">
                                                                    <p>The AD agent should be installed on a VM with at least 2 vCPUs and 8 GBs of RAM.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>In order to ensure high availability and redundancy, we strongly recommend installing the agent on two or more systems.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>If there are 30K or more users, we recommend deploying at least 3 AD agents.</p>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                    <ul>
                                                        <li value="1"><b>Separate server for domain controller</b> (can be shared).</li>
                                                    </ul>
                                                    <p>Okta recommends that no administrators be AD mastered. </p>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Mandatory account permissions</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>You must have permissions for the following&#160;accounts:</p>
                                                    <h3>Creating an Okta Administrative User Account</h3>
                                                    <h3>User Permissions Required to Install the AD Agent (Version 3.4.x)</h3>
                                                    <h3>Okta Service Account Options</h3>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Delegate"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Delegated Authentication</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p><a name="InstanceLevelDelAuth"></a>Delegated authentication (Del Auth) makes your users' Okta credentials the same as their AD credentials. Enable it if you want Active Directory (AD) to authenticate your users when they sign into Okta.</p>
                                                    <p>Instance-Level Del Auth moves Del Auth enablement from the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>-level (<b>Security &gt;&#160;Delegated Authentication</b>) to the instance-level (<b>Directory &gt;&#160;Directory Integrations</b>).&#160;While preserving current Del Auth functionality, instance-level Del Auth is optimized for use in environments with multiple AD instances. It allows admins to delegate authentication on a per AD-instance level to support more granular authentication scenarios such as the following:</p>
                                                    <ul>
                                                        <li value="1">Configure Okta to be the authentication master for users in some AD instances.</li>
                                                        <li value="2">Configure AD to be the authentication master for users in the remaining AD instances (meaning users sign-in using their Windows credentials).</li>
                                                        <li value="3">
                                                            <p>Continue to rely on Okta to provision to all AD instances.</p>
                                                        </li>
                                                    </ul>
                                                    <p>When Instance-Level Del Auth is enabled, you can configure it in <b>Directory &gt;&#160;Directory Integrations &gt;&#160;Active Directory &gt;&#160;Settings</b>. Your former org-level delegated authentication settings are preserved but no longer managed from <b>Security &gt;&#160;Delegated Authentication &gt;&#160;Active Directory</b>.</p>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="ConfiguringImportProvisioning"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configuring Import and Provisioning&#160;Settings</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>Options in this section allow you&#160;to&#160;configure import and provisioning&#160;settings, as well as&#160;make changes to&#160;your initial configuration.</p>
                                                    <h3>IMPORT AND ACCOUNT SETTINGS</h3>
                                                    <p>Select&#160;<b>Directory&#160;&gt;&#160;Directory Integrations&#160;&gt;&#160;Active Directory</b> and then select the <b>Settings</b> tab.</p>
                                                    <h4>Separate OU selectors</h4>
                                                    <p> Separate <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">OU<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym of Organizational Unit. Organizational units are Active Directory containers into which you can place users, groups, computers, and other organizational units.  It is the smallest scope or unit to which you can assign Group Policy settings or delegate administrative authority.</span></a> selectors for Users and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> allows you to separately specify the OUs from which to import users, and from which to import groups. This also allows you to ignore the OUs that contain users or groups that you don't want in Okta.                 </p>
                                                    <ul>
                                                        <li value="1"><b>User OUs connected to Okta</b> – Select the organizational units from which to import users.</li>
                                                        <li value="2"><b>Group OUs connected to Okta</b> – Select the organizational units from which to import groups.</li>
                                                    </ul>
                                                    <p>To select all OUs, select the top folder. Or you can select individual OUs.</p>
                                                    <p><b>Note:</b> If you are running a <b>pre-3.3.5</b> version of the agent, changes to Group OU settings will not take effect for JIT Provisioning until you restart your agents. To avoid the need to restart agents each time you change this setting, upgrade all of your AD agents to version 3.3.5 or later.</p>
                                                    <p class="earlyaccess"><span class="okta-variablesEarlyAccess">This is an Early Access feature. To enable it, please contact Okta Support.</span>
                                                    </p>
                                                    <h4><a name="UserGroupFilters"></a>User and Group filters (EA)</h4>
                                                    <p> Using filters allows you to perform granular imports from Active Directory. Create <a href="https://technet.microsoft.com/en-us/library/aa996205(v=exchg.65).aspx">syntax queries</a> to selectively import users matching the criteria that you specify. 
						
						</p>
                                                    <p><b>Caution:</b> Changing the default filter queries can result in deprovisioning users. To avoid unintended results, Okta strongly recommends that you test these filters in your directory environment to make sure that the results match your expectations. </p>
                                                    <p>Default queries:</p>
                                                    <ul>
                                                        <li value="1"><b>User filter</b> – <span style="font-family: 'Courier New';">sAMAccountType=805306368</span></li>
                                                        <li value="2"><b>Group filter</b> – <span style="font-family: 'Courier New';">objectCategory=group</span></li>
                                                    </ul>
                                                    <p>For more about importing groups, see these related topics:</p>
                                                    <ul>
                                                        <li value="1"><a href="Directory_Groups.htm">Groups</a>
                                                        </li>
                                                        <li value="2"><a href="Directory_FAQ_Okta_and_AD_Groups.htm">FAQ:&#160;Okta and AD&#160;Groups</a>
                                                        </li>
                                                    </ul>
                                                    <h4>Just in-Time Provisioning (JIT)</h4>
                                                    <p style="text-align: left;">Select <b>Create and update users on login</b> to create and update users at sign on. This option can be used with or without scheduled imports.</p>
                                                    <p>Okta JIT&#160;allows for the automatic creation of new user accounts at sign on, as well as updates to existing user profiles. The security groups to which the user&#160;belongs are also imported if the group belongs to a selected OU. If a user signing in does not belong to a selected OU, the sign in fails.</p>
                                                    <p>

There are membership&#160;inconsistencies that can occur between “regular” imports and JIT provisioning. These membership&#160;anomalies&#160;may occur when using nested groups.
During regular imports, a child group that is outside the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">scope<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A scope is an indication by the client that it wants to access some resource.</span></a> of an AD OU or LDAP object filter cannot be detected. If a parent group is within an OU/object filter scope but its child groups are not, the parent group membership is incorrectly resolved during import. JIT provisioning would correctly resolve these memberships to the parent group because its function only detects "flat" memberships.&#160;</p>
                                                    <h5>JIT and AD Domains</h5>
                                                    <p>For details about JIT and AD domain scenarios, see <a href="Directory_FAQ_Okta_and_AD_Groups.htm" class="MCXref xref" xrefformat="{para}">FAQ: Okta and AD Groups</a>.</p>
                                                    <h5>Delegated Auth and Desktop SSO</h5>
                                                    <p>There are other forms of JIT that integrate with AD. Namely, delegated authentication for Windows environments, and Desktop <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a> for imports that can be verified on the <b>Imports</b> page. For details, see <a href="../Security/Security_Authentication.htm">Delegated Authentication</a>.</p>
                                                    <h4><b>Schedule import</b>&#160;</h4>
                                                    <p>Determine how often you want Okta to import users from AD. Select <b>Do not import new users</b>&#160;to leverage scheduled imports to keep user profiles and groups in sync without importing new users from your directory. Use it when you only want to  create new users in Okta via&#160;JIT, not via imports, yet continue to use imports to sync groups and group memberships.</p>
                                                    <p class="note"><b>Note:</b> Following a successful import, under specific conditions Okta automatically&#160;sends an email to designated administrators. The email&#160;details the number of users and groups scanned, added, updated, or removed during the import. Okta only sends the email if the scan detects&#160;any new users or groups, or changes to any existing user profile or group membership.</p>
                                                    <h4><b>Okta username format</b> </h4>
                                                    <p><b>Note:</b>&#160;Orgs created after October 4th (Preview) or October 9th, 2017 (Production)&#160;may see slightly different import and provisioning options in the user interface elements described below. These changes will be rolled out to orgs created before these dates at a later date, which will be announced in the Release Notes. For details about the import and provisioning changes, see <a href="Okta_Active_Directory_Agent_UDMappingchanges.htm">AD Updated Profile Mapping options</a>.</p>
                                                    <p>Specify a username format.&#160;When you import users from AD, Okta uses this attribute&#160;to generate the Okta username. If you select SAM Account Name, Okta combines the <b>SAM Account Name</b> with the AD domain to generate the Okta username. For example, if the SAM Account Name is&#160;<b>jdoe</b>&#160;and the AD domain is&#160;<b>mycompany.okta.com</b>, then the Okta username is&#160;<b>jdoe@mycompany.okta.com</b>.
When using the "SAM Account Name + Configurable Suffix" option, do not include the @ character before the Configurable Domain.<![CDATA[                ]]><p class="note"><b>Note:</b>&#160;All Okta users can sign in by entering the alias part of their user names as long as it maps to a single user in your organization. For example,&#160;<b>jdoe@mycompany.okta.com</b>&#160;could sign in using&#160;<b>jdoe</b>.</p></p>
                                                    <h4><b>Activation emails</b> </h4>
                                                    <p> You can optionally select&#160;<b>Don't send new user activation emails for this domain</b> to prevent Okta from sending an activation email to new users.</p>
                                                    <h4><b>USG support</b>&#160;</h4>
                                                    <p>Select the&#160;<b>Universal Security Group</b> (USG)&#160;option if you want to ignore domain boundaries when importing&#160;group memberships for your users. This assumes that the relevant&#160;domains are connected in Okta.
                <p>You must also deploy an AD agent for every domain in your forest&#160;that contains the USG&#160;object that you want to sync with Okta. Each connected&#160;domain then imports its groups. When a user’s group memberships match any groups that were imported (from any connected domain in the forest), Okta syncs the memberships for the user to each group.&#160; Only groups from connected domains are imported.</p></p>
                                                    <h3><a name="IMPORT"></a>IMPORT MATCHING RULES</h3>
                                                    <p>If there is an existing Okta account, AD allows you to import and confirm users automatically.&#160;Select the automatic confirmation option that matches the policies of your organization:</p>
                                                    <p class="note"><b class="note">Note:</b> This feature does not apply to CSV-imported user lists.</p>
                                                    <p class="note">
                                                        <img src="../../Resources/Images/UIMatching_Old.jpg" />
                                                    </p>
                                                    <p>Matching rules are used in the import of users from all apps and directories that allow importing. Establishing matching criteria allows you to specify how an imported user should be defined as a new user or mapped to an existing Okta user. </p>
                                                    <p><b>Imported user is an exact match to Okta user if</b>: the match criteria that establishes whether an imported user exactly matches an existing Okta user.
Choose any combination from the list of options to establish your criteria. For the new imported user to be considered an exact match, each option that you select must be true. Note that if you choose the third option, the first and second choices are disabled.
</p>
                                                    <p><b>Allow partial matches</b>: Partial matching occurs when the first and last name of an imported user matches that of an existing Okta user, but the user’s username or/and email address do not.
</p>
                                                    <p><b>Confirm matched users</b>: Select to automate the confirmation or activation of existing users. Unchecked, matches are confirmed manually.
</p>
                                                    <p><b>Confirm new users</b>: Select to automate the confirmation or activation of a newly imported user. If this option is selected, you can uncheck it during import confirmation. Note that this feature does not apply for users who already exist in Okta.
</p>
                                                    <h3><a name="Prov_Features_AD"></a>PROVISIONING FEATURES</h3>
                                                    <h2>Create Users&#160;</h2>
                                                    <p><b>Note:</b>&#160;Orgs created after October 19th (Preview) or October 25th, 2017 (Production)&#160;may see slightly different import and provisioning options in the user interface elements described below. These changes will be rolled out to orgs created before these dates at a later date, which will be announced in the Release Notes. For details about the import and provisioning changes, see <a href="Okta_Active_Directory_Agent_UDMappingchanges.htm">AD Updated Profile Mapping options</a>.</p>
                                                    <p>Checking the <b>Enable</b> box creates or links a user in Active Directory.
</p>
                                                    <ul>
                                                        <li value="1"><b>Activation email recipient</b> – Specify where to send&#160;the&#160;new AD account credentials. The recipient is responsible for distributing the credential information to the appropriate user.</li>
                                                        <li value="2"><b>AD username format</b>&#160;– Specify a default AD username format.
		
				</li>
                                                        <li value="3"><b>AD common name format</b>&#160;–&#160;Specify a default AD common name format.</li>
                                                        <li value="4"><b>Exclude AD username update</b>&#160;–&#160;If you select this option, Okta does not update the user names of existing AD accounts that are Okta mastered when you change the default username format. You can still provision new AD accounts from Okta.</li>
                                                    </ul>
                                                    <h2>Update User Attributes </h2>
                                                    <p>Okta updates a user's attributes in Active Directory when the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> is assigned. Future attribute changes made to the Okta user profile automatically overwrite the corresponding attribute value in Active Directory. For details, see <a href="AD_Move_user_across_OU.htm" class="MCXref xref" xrefformat="{para}">Enable Okta-mastered user OU changes</a>.</p>
                                                    <p class="earlyaccess">This is an Early Access feature. To enable it, please contact <a href="https://support.okta.com/">Okta Support</a>.</p>
                                                    <p><b>Update OU</b>:&#160;Select this option to update an Okta-mastered user's OU when the group that provisions a user to AD changes. </p>
                                                    <p><b>Note</b>:&#160;If an Okta-mastered user's OU changes in AD, that change will not be reflected in Okta since Okta is the master for that user. The next time the user is update in Okta, they will be provisioned back to the OU as set in Okta.</p>
                                                    <h2><span style="font-weight: normal;">Deactivate Users</span>
                                                    </h2>
                                                    <p>Deactivates users' Active Directory account when they are unassigned in Okta or their Okta account is deactivated. Accounts can be reactivated if the app is reassigned to a user in Okta.</p>
                                                    <h2>Profile Master</h2>
                                                    <p>Enabled by default, profile mastering makes Active Directory the identity authority for connected users. When enabled, user profiles are not editable in Okta and all changes are synced to Okta during provisioning events. AD defaults as a <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">profile master<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A profile master is an application (usually a directory service such as Active Directory, or human capital management system such as Workday) that acts as a source of truth for user profile attributes. A user can only be mastered by a single application or directory at any one time. For more details, see Using the Okta People Page.</span></a>, but you can disable this option to have AD treated as a normal application. </p>
                                                    <p>If you disable AD as the profile master, user&#160;updates performed in AD&#160;are <i>not</i>&#160;pushed back to the user in Okta.&#160;For example, if you change a user's name in AD, the name change is not pushed to the Okta user account. In addition, you cannot reset a user's AD password in Okta because their credentials are still being managed by AD. You can, however,  enable the <b>Sync Password</b> option to&#160;push passwords to Active Directory and disable <a href="../Security/Security_Authentication.htm#Enabling">Delegated Authentication</a>. Your users will have their delegated Okta password, but any subsequent password updates are pushed to AD.</p>
                                                    <p class="earlyaccess"><span class="okta-variablesEarlyAccess">This is an Early Access feature. To enable it, please contact Okta Support.</span>
                                                    </p>
                                                    <p style="font-weight: bold;">LIFECYCLE SETTINGS</p>
                                                    <p>This section allows you to determine what happens when a user is deactivated in an app: should they be <i>deactivated</i>,<i> suspended </i>or<i> remain an active user</i> is Okta? </p>
                                                    <h5><b>When a user is deactivated in the app</b>
                                                    </h5>
                                                    <p>
                                                        <img src="../../Resources/Images/LC_Settings.jpg" />
                                                    </p>
                                                    <ul>
                                                        <li value="1"><b>Do Nothing</b>:
 Prevents activity in the app from controlling the user life cycle. This still allows profile master control of attributes and mappings.

</li>
                                                        <li value="2"><b>Deactivate Okta user</b>:
This default setting allows the user to be automatically deactivated when deactivated in the target app.</li>
                                                        <li value="3"><b>Suspend Okta user</b>:
This setting allows the user to be automatically suspended when deactivated in the target app.</li>
                                                    </ul>
                                                    <h5>When a user is reactivated in the app
</h5>
                                                    <ul>
                                                        <li value="1"><b>Reactivate suspended users</b>:
Allows an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> to choose if a <i>suspended</i> Okta user should be reactivated when they have been reactivated in the app.

</li>
                                                        <li value="2"><b>Reactivate deactivated users</b>:
Allows an admin to choose if a <i>deactivated</i> Okta user should be reactivated when they have been reactivated in the app.
</li>
                                                    </ul>
                                                    <p>Only the highest priority profile master for an Okta user can deactivate or suspend an Okta user. To verify the highest priority profile master, review the <a href="Directory_Profile_Masters.htm#top">Profile Masters</a> page.

</p>
                                                    <h2>Sync Password&#160;</h2>
                                                    <p>Enable this option if you want&#160;each user's&#160;AD password to be&#160;synced to their Okta password. Any subsequent password changes users&#160;make are pushed to their user profile in AD. To enable the&#160;Sync Password option, Delegated Authentication must be disabled. For more information, see <a href="../Security/Security_Using_Sync_Password.htm">Using Sync Password</a>.</p>
                                                    <h2>Profile Attributes &amp; Mappings</h2>
                                                    <p>For information about profile attributes and mappings, see <a href="Custom_Attributes_with_AD.htm">Using Custom Attributes with Active Directory</a>.</p>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Registering Multiple Domains From One AD Agent</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>Okta AD integration support also allows you to set up multiple domains from one AD agent, reducing the number of servers or virtual machines you need to connect to multiple domains.&#160;After you install the AD agent, you can use the Okta AD Agent Management Utility to add more domains.</p>
                                                    <ol>
                                                        <li value="1">On your Windows desktop, select <b>Start &gt; All Programs &gt; Okta &gt; Okta AD Agent &gt; Okta AD Agent Manager</b>.</li>
                                                        <li value="2">Select <b>Domains</b>.</li>
                                                        <li value="3">In the drop-down menu containing the grayed-out text&#160;<b>choose another domain</b>, select the domain that you want to add, and then click&#160;<b>Register</b>. Alternatively, you can type the desired domain name in the drop-down field, and then click&#160;<b>Register</b>.</li>
                                                    </ol>
                                                    <p class="bodyindent">If you have not entered your Okta administrator credentials, you are prompted to do so.</p>
                                                    <ol data-mc-continue="true">
                                                        <li value="4">A message appears stating&#160;that your new domain has been registered and prompting you to restart the agent. Optionally register additional domains. Restart your AD agent after you are finished.</li>
                                                    </ol>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Troubles"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Troubleshooting</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>&#160;</p>
                                                </div>
                                            </div><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                        </div>
                                    </div>
                                    <div>
                                    </div>
                                </div>
                                <div class="Footer">
                                    <div>
                                        <p class="copyright">© Copyright <span class="okta-variablesYear">2018</span> <span class="okta-variablesCompanyName">Okta, Inc</span></p>
                                    </div>
                                </div>
                                <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                </script>
                                <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                </script>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>