<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Features|Directory">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Configuring Desktop SSO</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/okta-help-MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.separator-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/Stylesheets/okta_help.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.offcanvas.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap">
            <div class="off-canvas-wrap" data-offcanvas="">
                <section class="inner-wrap">
                    <nav class="tab-bar" data-mc-ignore="true">
                        <section class="middle tab-bar-section outer-row clearfix">
                            <div class="relative clearfix"><a class="logo" href="../Overview.htm" alt="Okta"></a>
                                <div class="navigation-wrapper">
                                    <ul class="navigation clearfix">
                                        <li><a href="https://support.okta.com/help/SearchAnnouncement?sub=Announcements%3ARelease_Notes">Release Notes</a>
                                        </li>
                                        <li class="has-children"><a href="#">Features</a>
                                            <ul class="sub-menu">
                                                <li><a href="../Dashboard/Dashboard.htm">Dashboard</a>
                                                </li>
                                                <li class="has-children"><a href="Directory_Directory_Integrations.htm">Directory</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="Directory_People.htm">People</a>
                                                        </li>
                                                        <li><a href="Directory_Groups.htm">Groups</a>
                                                        </li>
                                                        <li><a href="Directory_Profile_Editor.htm">Profile Editor</a>
                                                        </li>
                                                        <li><a href="Directory_Profile_Masters.htm">Profile Masters</a>
                                                        </li>
                                                        <li><a href="#" class="selected">Configuring Desktop SSO</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Apps/Apps_Apps.htm">Apps</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Apps/Apps_Apps_Page.htm">Using the Applications Page</a>
                                                        </li>
                                                        <li><a href="../Apps/Apps_App_Integration_Wizard.htm">Using the App Integration Wizard</a>
                                                        </li>
                                                        <li><a href="../Apps/Access_Request_Workflow.htm">Access Request Workflow</a>
                                                        </li>
                                                        <li><a href="../Mobile/Apps_Okta_Mobile.htm">Using Okta Mobile</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Security/Security_at_Okta.htm">Security</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Security/Security_Policies.htm">Security Policies</a>
                                                        </li>
                                                        <li><a href="../Security/Security_Authentication.htm">Authentication</a>
                                                        </li>
                                                        <li><a href="../Security/MFA.htm">Multifactor</a>
                                                        </li>
                                                        <li><a href="../Security/Identity_Providers.htm">Identity Providers</a>
                                                        </li>
                                                        <li><a href="../Security/Security_Network.htm">Network</a>
                                                        </li>
                                                        <li><a href="../Security/Administrators.htm">Administrators</a>
                                                        </li>
                                                        <li><a href="../Security/API.htm">API</a>
                                                        </li>
                                                        <li><a href="https://support.okta.com/help/answers#!/feedtype=RECENT&amp;dc=xSecurity&amp;criteria=BESTANSWERS">Community: Security Discussions</a>
                                                        </li>
                                                        <li><a href="https://support.okta.com/help/articles/Knowledge_Article/A-Quick-Look-at-Securing-Okta">Video: A Quick Look at Securing Okta</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Reports/Reports.htm">Reports</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Reports/Reports_SysLog.htm">System Log</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li><a href="../Mobile/Okta_Mobile_Connect.htm">Mobile</a>
                                                </li>
                                                <li class="has-children"><a href="../Settings/Settings.htm">Settings</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Settings/Settings_Account.htm">Account</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Appearance.htm">Appearance</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Customization.htm">Customization</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Email.htm">Email and SMS Options</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Downloads.htm">Downloads</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="https://support.okta.com">Support</a>
                                        </li>
                                    </ul>
                                </div><a class="menu-icon right-off-canvas-toggle" href="#"><span></span></a>
                            </div>
                        </section>
                        <div class="nav-search row outer-row">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie">
                                    <input class="search-field needs-pie" type="search" placeholder="Search" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="Search">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </nav>
                    <aside class="right-off-canvas-menu" data-mc-ignore="true">
                        <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="right-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True">
                        </ul>
                    </aside>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="content">
                                <div id="contentBody">
                                    <div class="row collapse">
                                        <div class="sideContent">
                                            <div class="clearfix">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component">
                                                    <div class="button-group-container-left">
                                                        <div class="button-separator">
                                                        </div>
                                                        <button class="button needs-pie print-button" title="Print">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                        </button>
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <ul class="menu _Skins_okta_side_menu mc-component">
                                                <li class="has-children"><a href="Directory_Directory_Integrations.htm">Directory</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="Directory_People.htm">People</a>
                                                        </li>
                                                        <li><a href="Directory_Groups.htm">Groups</a>
                                                        </li>
                                                        <li><a href="Directory_Profile_Editor.htm">Profile Editor</a>
                                                        </li>
                                                        <li><a href="Directory_Profile_Masters.htm">Profile Masters</a>
                                                        </li>
                                                        <li><a href="#" class="selected">Configuring Desktop SSO</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><span class="MCBreadcrumbsSelf">Features</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Directory_Directory_Integrations.htm">Directory</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Configuring Desktop SSO</span>
                                        </div>
                                        <h1>Configuring Desktop SSO</h1>
                                        <p>
		Okta IWA is a lightweight Internet Information Services (IIS) web app that enables Desktop SSO on the&#160;Okta service.&#160;Desktop SSO allows users to be automatically authenticated by Okta, and any apps accessed through Okta, whenever they sign into your Windows network. Okta's IWA Web App uses Microsoft's IWA and ASP.NET to authenticate users from specified gateway IPs.&#160;</p>
                                        <p>
                                            <br />
                                            <img alt="User-added image" src="../../Resources/Images/Desktop_SSO_1_750x333.png" style="width: 750;height: 333;" />
                                        </p>
                                        <p>
                                            <br />		To configure Desktop SSO, you must:</p>
                                        <ul>
                                            <li value="1">Install and configure the Okta&#160;Integrated Windows Authentication (IWA) Web App</li>
                                            <li value="2">Configure your browser (procedures are provided for different browsers on Windows and Mac operating systems)</li>
                                            <li value="3">Test your browser to ensure that it works</li>
                                            <li value="4">Turn on Desktop SSO</li>
                                        </ul>
                                        <p>This document&#160;describes these&#160;procedures in detail.&#160;</p>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />System Requirements</a><a name="SysReqs"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <ul>
                                                    <li value="1">Make sure that <b>Port 80</b> (for http) and <b>Port 443</b>&#160;(for&#160;https) are open for inbound traffic on the&#160;same server that hosts the Okta IWA Web App.</li>
                                                    <li value="2">Windows Server 2008 or higher.</li>
                                                    <li value="3">.NET 3.5 and ASP .NET 4.5 (installed automatically with the agent).</li>
                                                    <li value="4">IIS 7 (Windows Server 2008) or higher must be installed on the server. If the required IIS version is not installed, the installer quits and you receive an error message.</li>
                                                    <li value="5">AD Agent 3.0.4.x or higher. The AD agent does not have to be on the same server that hosts the Okta IWA Web App.&#160;</li>
                                                    <li value="6">If your enterprise has more than one domain, see the section&#160;<a href="#ConfigureUPNTransform" class="selected">Configuring UPN Transformation</a>.</li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Installing the Okta IWA Web App</a><a name="InstallingIWA"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <ol>
                                                    <li value="1">From your <strong>Administrator Dashboard</strong>, go to&#160;<strong>Security</strong>&#160;&gt;&#160;<strong>Authentication</strong>&#160;&gt;&#160;<strong>Active Directory</strong>.&#160;</li>
                                                    <li value="2">In the&#160;<strong>Desktop Single Sign-On</strong>&#160;section, click the&#160;<strong>Download the Desktop SSO installer</strong>&#160;link.</li>
                                                    <li value="3">Double-click the installation file <b><font face="courier">OktaSsoIwa-x.x.x</font></b>.</li>
                                                    <li value="4">Click <b>Run</b>.</li>
                                                    <li value="5">Click <b>Next</b>.</li>
                                                    <li value="6">At the <i>Web Application Pool Identity</i> dialog box, select <b>Create or use the OktaService</b> account, then click <b>Next</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_2.png" /></p></li>
                                                    <li value="7">(Optional) When prompted, you can specify a proxy server for your IWA Web App to connect through.</li>
                                                    <li value="8">On the&#160;<b>Register Okta Desktop Single Sign-On</b> screen, select an environment (<b>Production</b>, <b>Preview</b>, or <b>Custom</b>),&#160;enter your Okta customer subdomain name, and then click <b>Next</b>.</li>
                                                    <li value="9">On the Okta Sign&#160;In&#160;page, enter the username and password, and then click <b>Sign In</b>.</li>
                                                    <li value="10">To grant permission to access the Okta API, click <b>Allow Access</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_3_500x105.png" style="width: 500;height: 105;" /></p></li>
                                                    <li value="11">At the message <b>Installation completed</b>, click <b>Finish</b>.</li>
                                                    <li value="12">Return to your browser and reload the <strong>Security</strong>&#160;&gt;&#160;<strong>Authentication</strong>&#160;&gt;&#160;<strong>Active Directory&#160;</strong>page.</li>
                                                    <li value="13">Proceed to <a href="#ConfigSSO" class="selected">Configuring Desktop SSO with IWA</a>. &#160;</li>
                                                </ol>
                                                <p><strong>Notes</strong>:</p>
                                                <p><b>Using Multiple IWA Web Apps</b>: You can install multiple IWA web apps on separate servers for high availability purposes. However, installing multiple web apps in close geographical proximity to your users does not enhance performance. When you have multiple web apps installed on different servers, the process randomly selects which web app it uses so user location is not a factor. In addition, setting up large numbers of web apps in this manner can cause problems when the system attempts to perform status checks on their performance.</p>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring Desktop SSO with IWA</a><a id="ConfigSSO" name="ConfigSSO"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>To configure the Okta IWA Web App,&#160;perform the procedures that are&#160;mandatory&#160;for all environments, as well as other procedures, if&#160;applicable.&#160;</p>
                                                <p><strong>Mandatory procedures</strong>
                                                </p>
                                                <ol>
                                                    <li value="1">Configure SSO for <a href="#ConfigWin" class="selected">Windows</a> or <a href="#ConfigMac" class="selected">Mac</a></li>
                                                    <li value="2"><a href="#TestingIWA" class="selected">Test Your IWA Web Application</a>
                                                    </li>
                                                    <li value="3"><a href="#TestAndActivate" class="selected">Test and Activate Desktop SSO</a>
                                                    </li>
                                                </ol>
                                                <p><strong>Procedures that may be applicable to your environment</strong>
                                                </p>
                                                <ul>
                                                    <li value="1">Additional configuration is required if you <a href="https://support.okta.com/help/articles/Knowledge_Article/27644958-Installing-the-Integrated-Windows-Authentication-Agent-on-a-Virtual-Machine-with-Other-Web-Apps">installed the IWA web app on a virtual machine</a> with other web apps.</li>
                                                    <li value="2"><a href="#ConfiguringSSL" class="selected">Configure SSL</a> if you want the IWA Web App to communicate only with servers that present valid certificates with public keys known to the agent.</li>
                                                    <li value="3"><a href="#ConfigCustomSignIn" class="selected">Custom app sign-in flows</a> allow you to <a href="#AdjustTimeout" class="selected">change the IWA detection timeout period</a>&#160;or <a href="#DetectIneligibleClients" class="selected">skip IWA authentication for specified clients</a>.</li>
                                                    <li value="4">If your enterprise has more than one domain, you may need to <a href="#ConfigureUPNTransform" class="selected">configure UPN transformation</a>.</li>
                                                </ul>
                                                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring SSO for&#160;Windows</a><a name="ConfigWin"></a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>This section&#160;describes how to configure Desktop SSO using IWA in a Windows environment for <a href="#WinIEWin" class="selected">Windows Internet Explorer</a>, <a href="#FFWin" class="selected">Mozilla Firefox</a>, and <a href="#ChromeWin" class="selected">Google Chrome</a>.&#160;</p>
                                                        <ol>
                                                            <li value="1">Add the URL of the server that hosts your Desktop SSO IWA web app to your local intranet zone:
				<p><strong>Note:</strong>&#160;The URL&#160;<i>hostname.companyname.com</i>&#160;is the fully qualified domain name of the server in question.&#160; For example,&#160;&#160;<font face="courier">my-iis7-host.corp.acme.com</font>. It is not sufficient for this URL to be listed as a Trusted Site in the Trusted Sites zone.</p><p>Most organizations set up a Group Policy to configure this setting in their users' Internet options.</p><ol style="list-style-type: lower-alpha;"><li value="1">On your Windows&#160;<strong>Control Panel,</strong>&#160;select&#160;<strong>Network and Internet</strong>&#160;&gt;&#160;<strong>Internet Options</strong>&#160;&gt;&#160;<strong>Security</strong>&#160;&gt;&#160;<strong>Local intranet</strong>&#160;&gt;&#160;<strong>Sites</strong>&#160;&gt;&#160;<strong>Advanced</strong>.</li><li value="2">In the&#160;<strong>Add this website to the zone</strong>&#160;field, enter:
						<p><i>http<font color="blue"><strong>s</strong></font>://hostname.companyname.com</i></p><p>or</p><p><i>http://hostname.companyname.com</i></p></li><li value="3">Click&#160;<strong>Add</strong>.</li><li value="4">Click <b>OK</b> twice to close Internet Options.</li></ol></li>
                                                            <li value="2">Configure the browser.
				<p>Setting up IWA is different for each browser. See the setup instructions below for&#160;your browser.</p><div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a id="WinIEWin" name="WinIEWin"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Windows Internet Explorer (Windows)</a></span><div class="MCDropDownBody dropDownBody"><ol style="list-style-type: lower-alpha;"><li value="1">In Internet Explorer&#160;select&#160;<strong>Tools &gt; Internet&#160;Options</strong>.</li><li value="2">Click the <b>Advanced</b> tab, scroll down to the <b>Security</b> settings, and select&#160;<strong>Enable Integrated Windows</strong>&#160;<strong>Authentication</strong>.</li><li value="3">Click&#160;<strong>OK</strong>.</li></ol><p><strong>Note:</strong> Make sure that Internet Explorer can save&#160;session cookies (<b>Internet Options &gt; Privacy</b> tab). If it cannot, neither SSO nor standard login can work.</p></div></div><div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a id="FFWin" name="FFWin"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Mozilla Firefox&#160;(Windows)</a></span><div class="MCDropDownBody dropDownBody"><p>The following configuration permits Firefox to properly pass the Kerberos ticket with IWA, but Firefox still warns the user about the transition from an HTTPS page to an HTTP page. To resolve this issue, deploy IWA in HTTPS mode.</p><ol style="list-style-type: lower-alpha;"><li value="1">In the Firefox address bar enter:&#160;<font face="courier">about:config</font><p><strong>Note:</strong>&#160;In Firefox version 3.x and later, a warning message displays. Click the button to clear the message and proceed.</p></li><li value="2">When the configuration page loads, enter the following in the <strong>Search</strong> field:
						<pre><font face="courier">network.negotiate-auth.trusted-uris</font></pre></li><li value="3">In this field list the hostname of the IWA server(s), separating multiple values with a comma &#160;<font face="courier">','</font>&#160; if two or more IWA instances are deployed.
						<p>Okta recommends that you enter the fully qualified domain name (FQDN)&#160;of your IWA host servers. If you do not, you will also need to toggle the following values to TRUE:</p><p><b>Note:</b>&#160;If you enter more than one host name, the order does not matter.</p><pre><font face="courier">network.automatic-ntlm-auth.allow-non-fqdn</font></pre><pre><font face="courier">network.negotiate-auth.allow-non-fqdn</font></pre></li><li value="4">Right click the <strong>Value</strong> column for each of the above and toggle the value to <strong>True</strong>.</li><li value="5">Click&#160;<strong>OK</strong>.</li></ol></div></div><div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a id="ChromeWin" name="ChromeWin"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Google Chrome&#160;(Windows)</a></span><div class="MCDropDownBody dropDownBody"><p>IWA is automatically enabled on Chrome for Windows and the capability is whitelist-driven. If your browser is asked by a site to provide the Kerberos ticket, the browser only supplies the ticket to the site if the site is on a whitelist.</p><p>The whitelist is provided to the browser at startup using this command-line parameter:</p><pre><font face="courier">--auth-server-whitelist=</font></pre><p>For example:</p><pre><font face="courier">--auth-server-whitelist="*hostname.companyname.com"</font></pre><p>This tells Chrome that any URL ending in&#160;<em>hostname.companyname.com<strong>&#160;</strong></em>is in the permitted list.&#160; Without the&#160;<strong>'*'</strong>&#160;prefix, the URL has to match exactly.</p><p><strong>Note</strong>: The&#160;<em>hostname.companyname.com</em>&#160;value refers to the server hosting the Okta IWA web application.</p><p>If the<strong>&#160;'--auth-server-whitelist'</strong>&#160;command-line parameter is not specified at startup, the permitted list includes the servers in the Local Machine or Local Intranet security zone. This behavior is consistent with Internet Explorer.</p><p>To start Chrome on Windows and supply this command-line parameter:</p><ol style="list-style-type: lower-alpha;"><li value="1">Right click your desktop Chrome icon or select&#160;<strong>Start&#160;</strong>&gt;<strong>&#160;All Programs</strong>&#160;&gt;&#160;<strong>Google Chrome</strong>&#160;and right click&#160;<strong>Google Chrome</strong>, and then select&#160;<strong>Properties</strong>.</li><li value="2">In the&#160;<strong>Target</strong>&#160;field, move the cursor to the end of the existing value and add the text of your new command-line parameter.</li><li value="3">Click&#160;<strong>OK</strong>.</li></ol></div></div></li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring SSO for Mac</a><a name="ConfigMac"></a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>This&#160;section describes how to configure Desktop SSO using IWA in a Mac environment for <a href="#MacSafari" class="selected">Safari</a>, <a href="#MacFF" class="selected">Firefox</a>, and <a href="#MacChrome" class="selected">Chrome</a>.</p>
                                                        <p>Setting up IWA is different for each browser. See the appropriate section below for the setup instructions for your browser.</p>
                                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />OS/X Safari</a><a id="MacSafari" name="MacSafari"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><b>&#160;</b></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p><b>I</b>WA is enabled automatically in Safari on OS/X.&#160;Make sure that the OS/X host is a Windows domain member. For how to&#160;add your Macintosh OS/X host to a Windows domain, see the article&#160;<a href="https://support.apple.com/kb/PH11272?locale=en_US&amp;viewlocale=en_US" target="_blank">OS X Mountain Lion: Join your Mac to a network account server</a>.</p>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Mozilla Firefox&#160;(Mac)</a><a id="MacFF" name="MacFF"></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p>The following configuration permits Firefox to properly pass the Kerberos ticket with IWA, but Firefox still warns the user about the transition from an HTTPS page to an HTTP page. To resolve this issue, deploy IWA in HTTPS mode.</p>
                                                                <ol>
                                                                    <li value="1">In the Firefox address bar, enter&#160;<font face="courier">about:config</font><p><strong>Note:</strong>&#160;Firefox3.x and later displays a warning message requesting that you proceed with caution.</p></li>
                                                                    <li value="2">After the configuration page loads, enter the following in the&#160;<strong>Search</strong>&#160;field:&#160;
				<p><font face="courier">network.negotiate-auth.trusted-uris</font></p></li>
                                                                    <li value="3">In this field list the hostname of the IWA server(s), separating multiple values with a comma &#160;<font face="courier">','</font>&#160; if two or more IWA instances are deployed.
				<p><strong>Note</strong>: The order does not matter if you enter more than one hostname.</p><p>We recommend that you enter the fully qualified domain name (FQDN)&#160;of your IWA host servers. If you do not, you will also need to toggle the following values to TRUE:</p><pre><font face="courier">network.automatic-ntlm-auth.allow-non-fqdn</font></pre><pre><font face="courier">network.negotiate-auth.allow-non-fqdn</font></pre></li>
                                                                    <li value="4">Right click the <strong>Value</strong> column for each of the above and toggle the value to <strong>True</strong>.</li>
                                                                    <li value="5">Click&#160;<strong>OK</strong>.</li>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Google Chrome (Mac)</a><a id="MacChrome" name="MacChrome"></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p>IWA capability is enabled automatically in Chrome on OS/X, and just like on Windows, the capability is governed by a whitelist. If your browser is asked by a site to provide the Kerberos ticket, the browser only provides the ticket if the site is on the whitelist.</p>
                                                                <p>The whitelist&#160;is provided to the browser at startup using this command-line parameter:</p><pre><font face="courier">--auth-server-whitelist=</font></pre>
                                                                <p>For example:</p><pre><font face="courier">--auth-server-whitelist="*companyname.com"</font></pre>
                                                                <p>This tells Chrome that any URL ending in&#160;<em>hostname.companyname.com</em>&#160;is on the whitelist.&#160;Without the '*' prefix, the URL must match exactly.</p>
                                                                <p>On OS/X, there are several ways to provide this command-line parameter to Chrome. One way is to use&#160;<strong>Automator</strong>&#160;to create an application that launches Chrome with the command line parameter. Automator is available in your Applications folder.</p>
                                                                <ol>
                                                                    <li value="1">Start&#160;<strong>Automator</strong>&#160;and select&#160;<strong>Application</strong>.</li>
                                                                    <li value="2">Double-click&#160;<strong>Run Shell Script</strong>&#160;in the Library folder and replace — <span style="font-family: courier new,courier,monospace;">cat</span> — with the following:
				<pre><font face="courier">open -a "Google Chrome" --args&#160;--auth-server-whitelist="*companyname.com"</font></pre><p><strong>Note:&#160;</strong>The&#160;<em>companyname.com&#160;</em>value refers to the server hosting the Okta IWA web application.</p></li>
                                                                </ol>
                                                                <p>Save the script and use it when starting a Chrome session that uses Chrome's IWA capability.</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Testing Your IWA Web Application</a><a name="TestingIWA"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>After you download and install your IWA web application, test it to make sure the IWA server is working from a client machine. Do the following:</p>
                                                <ol>
                                                    <li value="1">From your <strong>Administrator Dashboard</strong>, go to&#160;<strong>Security</strong>&#160;&gt;&#160;<strong>Authentication</strong>&#160;&gt;&#160;<strong>Active Directory</strong>, scroll down to<strong>&#160;Desktop Single Sign-On</strong>.</li>
                                                    <li value="2">Click <b>Edit</b>.</li>
                                                    <li value="3">In the <strong>Integrated Windows Authentication (IWA) Web Applications</strong> section, click the down arrow to expand the section.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_4.png" /></p></li>
                                                    <li value="4">Select and copy the IWA redirect URL.</li>
                                                    <li value="5">Paste the IWA redirect URL in a browser that has been configured for SSO,&#160;and then add&#160;<strong>authenticated.aspx</strong> to the end of the URL. For example, if your IWA redirect URL is http://WIN-GTVLLAG671R/IWA/ enter&#160;<strong>http://WIN-</strong>GTVLLAG671R<strong>/IWA/authenticated.aspx</strong>&#160;in your browser.<p><img src="../../Resources/Images/Desktop_SSO_5.png" /></p></li>
                                                    <li value="6">Press <b>Enter</b> on your keyboard.
				<p>If you configured IWA correctly, three rows of results are returned similar to the following:</p><b> </b><p><img alt="2013-02-13_11-47-45.jpg" src="../../Resources/Images/Desktop_SSO_6_500x143.jpeg" style="width: 500;height: 143;" /></p><b> </b><p>If the Okta Sign-In page displays instead of the success message, the test failed.</p></li>
                                                </ol>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Testing&#160;and Activating Desktop SSO</a><a name="TestAndActivate"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>After you have installed and configured your IWA Web App and set up your browser, do the following:</p>
                                                <ol>
                                                    <li value="1">From your <strong>Administrator Dashboard</strong>, go to&#160;<strong>Security</strong>&#160;&gt;&#160;<strong>Authentication</strong>&#160;&gt;&#160;<strong>Active Directory</strong>, scroll down to<strong>&#160;Desktop Single Sign-On</strong>.</li>
                                                    <li value="2">Click <b>Edit</b>.</li>
                                                    <li value="3">Select <b>Test</b>, and then click the provided test URL.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_6b_500x70.png" style="width: 500;height: 70;" /></p>
			If you are authenticated successfully, continue to the following step. If you are not authenticated, check the browser configuration changes that you made in either&#160;<a href="#ConfigWindows" class="selected">Configuring Desktop SSO with IWA for Windows</a>&#160;or&#160;<a href="#ConfigMac" class="selected">Configuring Desktop SSO with IWA for Mac</a>, above.</li>
                                                    <li value="4">After you complete the test successfully, return to&#160;<strong>Desktop Single Sign-On</strong>&#160;and select&#160;<strong>On</strong>.</li>
                                                    <li value="5">If you have deployed a Mobile Device Management (MDM) solution to enable IWA for your mobile and tablet devices&#160;and you want&#160;your users to be able to authenticate their mobile devices via IWA, select&#160;<b>Redirect mobile and tablet devices</b>.
				<p><b>Important:</b> Do <u>not</u> select this option if you have <u>not</u> deployed a Mobile Device Management (MDM) solution to enable IWA for your mobile and tablet devices.</p></li>
                                                    <li value="6">Click&#160;<strong>Save</strong>.</li>
                                                </ol>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring SSL</a><a name="ConfiguringSSL"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>To ensure a secure connection between your&#160;Okta IWA Web App and cloud apps, configure Secure Socket Layer (SSL).</p>
                                                <ol>
                                                    <li value="1">On the same server that hosts your Okta IWA Web App, open <b>Internet Information Services (IIS) Manager</b> and select the server under <b>Connections</b>.

				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_7.png" /></p></li>
                                                    <li value="2">In the center pane of the IIS Manager, double-click the <b>Server Certificates</b> icon.</li>
                                                    <li value="3">Under <b>Actions</b> (on the right side), click <b>Create Domain Certificate</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_8.png" /></p></li>
                                                    <li value="4">Enter information in the <b>Distinguished Name Properties</b> dialog box, and then click&#160;<b>Next</b>.</li>
                                                    <li value="5">In the <b>Online Certification Authority</b>&#160;dialog box, do the following:
				<ol style="list-style-type: lower-alpha;"><li value="1">Click&#160;<b>Select</b>, select a certificate authority, and then click <b>OK</b></li><li value="2">Enter a name in the <b>Friendly name field</b>, and then click <b>Finish</b>.</li></ol></li>
                                                    <li value="6">Under&#160;<b>Connections</b>, expand&#160;<b>Sites</b>,&#160;and then&#160;select&#160;<b>Default Web Site</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_9.png" /></p></li>
                                                    <li value="7">Under <b>Actions</b>,&#160;click <b>Bindings</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_10.png" /></p></li>
                                                    <li value="8">In the <b>Site Bindings</b> dialog box, click <b>Add</b>.</li>
                                                    <li value="9">In the <b>Add Site Binding</b> dialog box, do the following:
				<ol style="list-style-type: lower-alpha;"><li value="1">Select <i>https</i> in the <b>Type</b> drop-down menu.</li><li value="2">In the <b>SSL certificate</b> menu, select the friendly name that you specified previously.</li><li value="3">Click <b>OK</b>.
						<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_11.png" /></p></li></ol></li>
                                                    <li value="10">Close the <b>Site Bindings</b>&#160;dialog box.</li>
                                                    <li value="11">Under <b>Connections</b>, expand <b>Sites &gt; Default Web Site</b>, and then select <b>IWA</b>.</li>
                                                    <li value="12">In the center pane of the IIS Manager, double-click the&#160;<b>SSL Settings</b> icon.</li>
                                                    <li value="13">On the <b>SSL Settings</b> page, select <b>Require SSL</b>. You can leave the <b>Client certificates </b>option as <b>Ignore</b>.</li>
                                                    <li value="14">Under <b>Actions</b>, click <b>Apply</b>.</li>
                                                    <li value="15">Log in to your Okta org and go to <b>Security &gt; Authentication &gt; Active Directory</b>.</li>
                                                    <li value="16">Scroll down to&#160;<b>Desktop Single Sign On</b>&#160;and click <b>Edit</b>.</li>
                                                    <li value="17">In the <strong>Integrated Web Authentication (IWA) Web Applications</strong> section, click the down arrow to expand the section.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_12_500x28.png" style="width: 500;height: 28;" /></p></li>
                                                    <li value="18">Change the <b>IWA redirect URL</b> from <i>http</i> to <i>http<font color="blue"><strong>s</strong></font></i>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_13_500x237.png" style="width: 500;height: 237;" /></p></li>
                                                    <li value="19">Click <b>Save</b>.</li>
                                                    <li value="20">Test the configuration as described in&#160;<a href="#TestingIWA" class="selected">Testing Your IWA Web Application</a>.</li>
                                                </ol>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring Improved App Sign-In Flows</a><a name="ConfigCustomSignIn"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p>We have improved the sign-in experience for customers with Integrated Windows Authentication (IWA) in mixed environments that include non-domain joined desktops and non-trusted Active Directory forests.</p>
                                                <p><b>Note:</b> Improvements to the IWA Web App sign-in experience were developed on a per-browser basis. Behavior&#160;may differ across different&#160;browsers. These improvements are via&#160;<b>IWA Web App version 1.9.1</b> or higher.</p>
                                                <h3>Improved Default Functionality<a name="ImprovedDefaults"></a></h3>
                                                <p>By default, Okta's IWA Web App attempts to&#160;automatically sign users in to Okta-protected apps without prompting them to&#160;enter their credentials. Default functionality was improved beginning with IWA Web App version <b>1.9.1</b> such that, if auto sign-in fails, the agent redirects the user back to an Okta Sign-In page and preserves the relay state of the desired app. The user is&#160;no longer redirected to the Okta Home page or a generic browser login prompt that cannot&#160;accept their Active Directory credentials. This ensures that non-IWA&#160;SSO-capable users can complete the sign-in process and&#160;SSO in to their desired&#160;apps,&#160;while preserving the optimal automatic app sign-in experience for IWA-capable users.</p>
                                                <h3>Customization Options<a name="CustomOptions"></a></h3>
                                                <p>You can configure the following customization options:</p>
                                                <ul>
                                                    <li value="1"><a href="#AdjustTimeout" class="selected">Changing the IWA Detection Timeout Period</a>
                                                    </li>
                                                    <li value="2"><a href="#DetectIneligibleClients" class="selected">Skipping IWA Authentication for Specified Clients</a>
                                                    </li>
                                                </ul>
                                                <h4>Changing the IWA Detection Timeout Period<a name="AdjustTimeout"></a></h4>
                                                <p>This option lets you configure how long the agent tries to automatically sign&#160;users in to apps before redirecting them to the Okta Sign-In page. This is useful for extending the app authentication timeout period&#160;in environments with slower networks.</p>
                                                <ol>
                                                    <li value="1">On the same server that hosts the IWA web app,&#160;navigate to&#160;<b>C:\inetpub\wwwroot\IWA</b>&#160;and open the file&#160;<b style="">web.config</b>.</li>
                                                    <li value="2">Search for the element <b><font face="courier">&lt;iwaDetection timeout="1000" /&gt;</font></b>&#160;and modify the timeout&#160;attribute (given in milliseconds).
				<p>Increase the attribute value if you want to give the agent&#160;more time to detect IWA SSO capability before redirecting&#160;the user back to the Okta Sign-In page.</p></li>
                                                    <li value="3">Save and close the <b>web.config</b> file.</li>
                                                </ol>
                                                <h4>Skipping IWA Authentication for Specified Clients<a name="DetectIneligibleClients"></a></h4>
                                                <p>By default, the IWA Web App attempts IWA SSO for&#160;all&#160;clients&#160;that try&#160;to access Okta-protected apps. You can change the default by&#160;creating an IIS rewrite rule that automatically redirects specified clients&#160;to the Okta Sign-In page without attempting IWA SSO. Your rule uses pattern matching to&#160;detect non-IWA SSO-capable clients&#160;and then performs the configured action.</p>
                                                <p><b>Note:</b> The following procedure requires Okta IWA Web App version <b>1.9.1</b>&#160;or higher.</p>
                                                <ol>
                                                    <li value="1">Download the <b>Microsoft URL&#160;Rewrite 2.0 module</b>&#160;from&#160;<a href="http://www.iis.net/downloads/microsoft/url-rewrite" target="_blank">http://www.iis.net/downloads/microsoft/url-rewrite</a>.</li>
                                                    <li value="2">Install the rewrite&#160;module on the same server that hosts your Desktop SSO IWA web app.</li>
                                                    <li value="3">Open <b>Internet Information Services (IIS) Manager</b>&#160;on the same server that hosts your Desktop SSO IWA web app.</li>
                                                    <li value="4">Under <b>Connections</b> (on the left side), expand&#160;<b>Sites &gt; Default Web Site</b>&#160;and select&#160;<b>IWA</b>.
				<p><img alt="User-added image" src="../../Resources/Images/Desktop_SSO_14.png" /></p></li>
                                                    <li value="5">Double-click the <b>URL Rewrite</b> icon in the center pane.</li>
                                                    <li value="6">See <a href="http://www.iis.net/learn/extensions/url-rewrite-module/creating-rewrite-rules-for-the-url-rewrite-module" target="_blank">Microsoft documentation</a>&#160;for detailed instructions on creating rules for the URL Rewrite Module. You can also refer to the example URL rewrite rules that are provided in the <b>web.config</b> file (<b>C:\inetpub\wwwroot\IWA\web.config</b>).
				<p>You can configure these rules:</p></li>
                                                </ol>
                                                <ul style="margin-left: 45px;">
                                                    <li value="1">To attempt&#160;IWA authentication for specified&#160;clients, configure this action:</li>
                                                </ul>
                                                <p style="margin-left: 100px"><b><font face="courier">action type="Rewrite" url="iwa.aspx?action=<font color="blue">iwa</font>"</font></b>
                                                </p>
                                                <ul style="margin-left: 45px;">
                                                    <li value="1">To skip&#160;IWA authentication for specified clients and redirect users to the Okta Sign-In page, configure this action:</li>
                                                </ul>
                                                <p style="margin-left: 100px;"><b><font face="courier">action type="Rewrite" url="iwa.aspx?action=<font color="red">okta</font>"</font></b>
                                                </p>
                                                <ol class="bullets" start="7">
                                                    <li value="7">Under <b>Actions</b> (on the right side), click <b>Apply</b>.</li>
                                                    <li value="8">Restart <b>Internet Information Services (IIS) Manager</b>.</li>
                                                </ol>
                                            </div>
                                        </div>
                                        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configuring UPN Transformation</a><a name="ConfigureUPNTransform"></a></span>
                                            <div class="MCDropDownBody dropDownBody">
                                                <p><b>Note: </b>This applies only to&#160;enterprises&#160;with more than one domain, and requires <b>IWA Web App Version 1.8.1</b>&#160;or later.</p>
                                                <h3>Use case<a name="UseCase"></a></h3>
                                                <p>In Windows Active Directory, the&#160;Universal Principal Name (<b>UPN</b>) is the name of a system user presented in an email format.&#160;You need to configure UPN transformation on your IWA Web Apps&#160;if the following applies to your enterprise:</p>
                                                <ol>
                                                    <li value="1">Your company has more than one domain.</li>
                                                </ol>
                                                <p style="margin-left: 45px;"><strong>. . . and</strong>
                                                </p>
                                                <ol class="bullets" start="2">
                                                    <li value="2">The domain that your users specify when they log in to work<br />				is different from the domain that your Okta org is built upon.<br /><br />			For example:</li>
                                                </ol>
                                                <p style="margin-left: 50px;">— Your users log in to work using <font face="courier">username@example-<font color="blue">abc</font>.com.</font></p>
                                                <p style="margin-left: 45px;"><strong>. . . and</strong>
                                                </p>
                                                <p style="margin-left: 50px;">— Your Okta org contains usernames such as <font face="courier">username@example-<font color="red">xyz</font>.okta.com.</font></p>
                                                <p>In this case, the authenticated usernames that your company sends to Okta will not match the usernames in your Okta org. <span style="">Instead of being logged in to their Okta dashboards automatically, y</span>our users will be prompted to enter their credentials. To fix this, add a rule in the web.config file&#160;to transform the authenticated usernames that your company sends to&#160;your Okta org.</p>
                                                <h3>Procedure<a name="Procedure"></a></h3>
                                                <ol>
                                                    <li value="1">Navigate to&#160;<b>C:\inetpub\wwwroot\IWA</b>&#160;and open the file&#160;<b style="">web.config</b>.</li>
                                                </ol>
                                                <ol class="bullets" start="2">
                                                    <li value="2">Insert the following rule inside the <b><font face="courier">&lt;upnTransformation&gt;</font></b> element (a child of&#160;the <b><font face="courier">&lt;oktaSSOConfigGroup&gt;</font></b> element). The rule will convert all usernames from the domain<br /><font face="courier"><strong>example-<font color="blue">abc</font>.com</strong></font> to the domain <font face="courier"><strong>example-<font color="red">xyz</font>.okta.com</strong></font>:</li>
                                                </ol>
                                                <p style="margin-left: 25px;"><b style=""><font face="courier" size="3">&lt;upnTransformation&gt; &lt;rule match="(.+)@<font color="blue">abc</font>\.com" replace="${1}@<font color="red">xyz</font>.com" /&gt; &lt;/upnTransformation&gt; </font></b>
                                                </p>
                                                <h3>How the UPN Transformation code works<a name="HowUPN"></a></h3>
                                                <p>The match&#160;attribute specifies a regular expression that Desktop SSO will use to check UPNs. If a UPN matches a UPN transformation rule, Desktop SSO will use the expression specified by the replace&#160;attribute to compute a transformed UPN. For more information, see:</p>
                                                <ul>
                                                    <li value="1"><b><b>match</b> <![CDATA[ ]]></b>syntax: <a href="https://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx</a></li>
                                                    <li value="2"><b>replace</b>&#160;syntax: <a href="https://msdn.microsoft.com/en-us/library/ewy2t5e0(v=vs.110).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/ewy2t5e0(v=vs.110).aspx</a></li>
                                                </ul>
                                                <p>Desktop SSO checks all rules consecutively in the order that they are specified in the configuration file&#160;and applies the first rule that matches&#160;the UPN. If no rule matches the UPN, Desktop SSO sends the original UPN to Okta.</p>
                                                <p>Administrators can use the <b>/IWA/authenticated.aspx</b> page to verify and debug the transformation rules.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a class="exit-off-canvas"></a>
                </section>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>