<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|Directory Integrations">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Install the Active Directory (AD) Password Sync agent so password changes in AD are reflected in Okta accounts and automatically pushed to mobile devices." /><title>Install and configure the Password Sync Agent | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/okta_table_white.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="z4YDeM0QxU-XwLSsXOFkUQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="z4YDeM0QxU-XwLSsXOFkUQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1><a name="aanchor3"></a>
                                                    <MadCap:concept term="dir-intg" />Install and Configure the Active Directory Password Sync Agent</h1>
                                                <p>Install the Active Directory (AD) Password Sync <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a> on <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> controllers in your domain to synchronize AD password changes and send them to Okta automatically. This functionality keeps your users' AD passwords in sync with apps that are configured to <a href="https://help.okta.com/en/prod/Content/Topics/Security/Security_Using_Sync_Password.htm">use Sync Password</a>, such as <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SWA<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Secure Web Authentication. SWA is a SSO system developed by Okta to provide single sign-on for apps that don't support proprietary federated sign-on methods or SAML. Users can enter their credentials for these apps on their homepage. These credentials are stored such that users can access their apps without entering their credentials each time. When users first sign-in to a SWA app from their homepage, they see a pop-up message asking if they were able to sign-in successfully.</span></a> apps set up to use the user's Okta password.</p>
                                                <p>If you've integrated AD and desktop <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a>, configured apps to delegate authority to AD, and your users change their AD passwords through their machine sign-in prompt, the AD Password Sync agent detects this change and sends it to Okta automatically so that when your users sign in, change their passwords, and click on apps they use, their new passwords are automatically synced. </p>
                                                <p>If you have integrated AD and configured provisioning with sync password enabled (for example, pushed your Okta password to Google Apps), the AD Password Sync agent detects a user's password change and makes sure the passwords are automatically synced.</p>
                                                <h3>Using Password Sync and Okta Mobility Management</h3>
                                                <p>For <b>mobile</b> workflows, AD password resets from the Active Directory Password Sync agent do not require sync password to be enabled. Reset password notifications trigger the distribution of an updated Exchange ActiveSync (EAS) email configuration to the corresponding devices enrolled in Okta Mobility Management (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">OMM<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Okta Mobility Management. OMM enables you to manage your users' mobile devices, applications, and data. Your users enroll in the service and can then download and use managed apps from the Apps Store. Managed apps are typically work-related, such as Box or Expensify. As an administrator, you can remove managed apps and associated data from users' devices at any time. You can configure policies, such as data sharing controls, on any of your managed apps. See Configuring Okta Mobility Management for more information.</span></a>). In such cases where sync password is not enabled for any application, the encrypted AD password is removed from Okta after pushing it to the device. <span class="s1">For devices enrolled in Okta Mobility Management (OMM), sync password does not need to be enabled.</span></p>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Deciding"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Deciding whether to implement the Password Sync agent</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Implementing the Password Sync agent requires you to install the agent on each domain controller. As agent updates are released, each domain controller must then have its agents updated. As a result, you may wish to balance the benefits which the Password Sync agent offers against the internal cost of maintaining the agents on your domain controllers. This decision will vary based on end user behavior within your organization, your application environment and your IT infrastructure. </p>
                                                        <p>When making your decision, consider these scenarios which may occur if Password Sync is not employed:</p>
                                                        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/okta_table_white.css');" class="TableStyle-okta_table_white" cellspacing="0">
                                                            <col style="width: 25%;" class="TableStyle-okta_table_white-Column-Column1" />
                                                            <col style="width: 25%;" class="TableStyle-okta_table_white-Column-Column1" />
                                                            <col style="width: -139px;" class="TableStyle-okta_table_white-Column-Column1" />
                                                            <tbody>
                                                                <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1" data-mc-conditions="Primary.do-not-publish">Scenario</td>
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1" data-mc-conditions="Primary.do-not-publish">User Experience</td>
                                                                    <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" data-mc-conditions="Primary.do-not-publish">Outcome</td>
                                                                </tr>
                                                                <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1" data-mc-conditions="Primary.do-not-publish">Okta is connected to an Active Directory and LDAP server. No Password Sync agent is deployed.</td>
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">
                                                                        <ol>
                                                                            <li value="1">The user changes their password from their workstation sign in screen.</li>
                                                                            <li value="2">The user is signed on to their device.</li>
                                                                            <li value="3">They then attempt to sign in to another application connected to an LDAP server.</li>
                                                                        </ol>
                                                                    </td>
                                                                    <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" data-mc-conditions="Primary.do-not-publish">The user will get a password error, because the new password will not have synced to LDAP. It will not be clear to the user that they must use their old password at this time.</td>
                                                                </tr>
                                                                <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1" data-mc-conditions="Primary.do-not-publish">Okta is connected to an AD Domain with Desktop SSO deployed. No Password Sync agent is deployed. LDAP may also be deployed.</td>
                                                                    <td class="TableStyle-okta_table_white-BodyE-Column1-Body1" />
                                                                    <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" data-mc-conditions="Primary.do-not-publish">The user will get a password error, because the new password will not have synced. It will not be clear to the user that they must use their old password.</td>
                                                                </tr>
                                                                <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                    <td class="TableStyle-okta_table_white-BodyB-Column1-Body1" data-mc-conditions="Primary.do-not-publish">No Desktop SSO is configured. No apps are connected to Okta that are using Password Sync or Push.</td>
                                                                    <td class="TableStyle-okta_table_white-BodyB-Column1-Body1" />
                                                                    <td class="TableStyle-okta_table_white-BodyA-Column1-Body1" data-mc-conditions="Primary.do-not-publish">Users <b>must</b> know to sign in each time after changing their password to ensure Okta captures the new password.</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <p>To use the agent, see <a href="../Security/Security_Using_Sync_Password.htm" target="_blank">Using Sync Password</a>.</p>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="SystemRequirements"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Requirements</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ul>
                                                            <li value="1">Windows Server 2008 and later, including Server 2016 and Windows Server 2019.</li>
                                                            <li value="2">Windows Server Core, Release 2</li>
                                                            <li value="3">Install and configure the Okta AD agent on at least one domain-joined server in each domain in your forest (does not need to be a Domain Controller), and then install the Okta AD Password Sync agent on <b><u>all</u></b> of the domain controllers in each domain.

					</li>
                                                            <li value="4">Ensure that the <b>Okta username format</b> is set to <b>User Principal Name (UPN)</b> or <b>sAMAccountName</b> in your AD Import and Provisioning settings (<b>Directory &gt; Directory Integrations &gt; Settings</b>). For more information, see <a href="ad-agent-install.htm#ADimportprov" target="_blank">Installing and Configuring the Active Directory Agent</a>. <p><b>Note</b>:&#160;If you have mapped Active Directory to Okta using any other username format the Password Sync Agent will fail.</p></li>
                                                            <li value="5">This feature requires that Delegated Authentication be enabled on your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>. For more about Delegated Authentication, see <a href="../Security/Security_Authentication.htm">Authentication</a>.</li>
                                                            <li value="6">To improve the security of our integrations, we now only communicate using the TLS1.2 security protocol. For Windows 2008 R2 TLS 1.2 is disabled by default and <b>must</b> be enabled through the registry. If you have Windows 2008 R2,  ensure the following regkeys are set correctly:<p style="font-family: 'Courier New';">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Server] "<span style="color: #ff0000;">Enabled</span>"=dword:00000001</p><p><span style="font-family: 'Courier New';">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Server] <span style="color: #ff0000;">"DisabledByDefault</span>"=dword:00000000</span></p><p style="font-family: 'Courier New';">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup" style="font-family: 'Courier New';">Client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a>] "<span style="color: #ff0000;">Enabled</span>"=dword:00000001</p><p><span style="font-family: 'Courier New';">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Client] "<span style="color: #ff0000;">DisabledByDefault</span>"=dword:00000000</span></p></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a id="InstallingADPasswordSyncAgent" name="InstallingADPasswordSyncAgent"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Installing the AD Password Sync Agent</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ol>
                                                            <li value="1">Download the appropriate version of the agent:
					<ul><li value="1">For the executable (<b>.exe</b>) version, go to <b>Settings &gt; Downloads &gt; AD Password Sync Installer</b> or <span style=""><b>Security &gt; Delegated Authentication</b>, look in the </span><strong style="">AD Password Sync</strong><span style=""> sidebar, and then click </span><strong style="">Download Okta AD Password Sync</strong></li><li value="2">For the Microsoft Installer (<b>.msi</b>) version, go to<span style=""> <b>Settings &gt; Downloads &gt; AD Password Sync (Windows Installer)</b></span></li></ul></li>
                                                            <li value="2">Double-click the installer file and follow the prompts.</li>
                                                            <li value="3">When prompted, enter your Okta URL. For example, <i>https://mycompany.okta.com</i>. You must use the <i>https://</i> protocol in your entry.</li>
                                                            <li value="4">When prompted, choose where you want to install the AD Password Sync agent, and then click <strong>Install</strong>.</li>
                                                            <li value="5">Click <strong>Finish</strong>.</li>
                                                            <li value="6">Restart your system.</li>
                                                        </ol>
                                                        <h4>Unattended installs</h4>
                                                        <p>You can also use a script or command line to perform an unattended install of the agent. The unattended mode will not restart the system after the installation is complete. You must restart the system manually or using the <span style="font-family: 'Courier New';">shutdown /r</span> command. The syntax is as follows:</p>
                                                        <ul>
                                                            <li value="1">
                                                                <p><span style="font-family: 'Courier New';">OktaPasswordSyncSetup.exe /install /q2 OktaURL=https://mycompany.okta.com</span>
                                                                </p>
                                                                <p>or</p>
                                                            </li>
                                                            <li value="2">
                                                                <p><span style="font-family: 'Courier New';">msiexec /i OktaPasswordSyncSetup.msi /quiet EXEOPTIONS="/q2 OktaURL=https://mycompany.okta.com"</span>
                                                                </p>
                                                            </li>
                                                        </ul>
                                                        <p>If installing on multiple servers, you may wish to create a registry file that sets the Okta username format used by the Password Sync Agent. Creating a DWORD Value called <b>Okta Username Format</b> will allow you to choose between SAM Account Name (value = 1) or UPN (value = 0).</p>
                                                        <p>For example, to set the <b>Username</b> format to SAM Account Name, create a .reg file with the following:</p>
                                                        <p style="font-family: 'Courier New';">[HKEY_LOCAL_MACHINE\SOFTWARE\Okta\AD Password Sync]</p>
                                                        <p style="font-family: 'Courier New';">"Okta username format"=dword:00000001</p>
                                                        <p><a name="InstallationCore"></a>
                                                        </p>
                                                        <h3>Installing the AD Password Sync Agent on Windows Server Core, Release 2</h3>
                                                        <p>Before you can install the Active Directory (AD) Password Sync agent on Windows Server Core, you must do the following:</p>
                                                        <ol>
                                                            <li value="1">
                                                                <p>Install the following hotfix before installation: <a href="http://support.microsoft.com/kb/2624641" target="_blank">http://support.microsoft.com/kb/2624641</a></p>
                                                            </li>
                                                            <li value="2">
                                                                <p>If you are downgrading to an earlier version of the agent, manually uninstall previous versions of the Tarma installer. The uninstaller is located here:</p>
                                                                <p><span style="font-family: courier new,courier,monospace;">%ProgramData%\InstallMate\{5433CCD3-328D-4326-9E1A-56C9B1D3A7E1}\Setup.exe</span>
                                                                </p>
                                                                <p>To perform an unattended uninstall:<span style="font-family: 'Courier New';">&#160;%ProgramData%\InstallMate{5433CCD3-328D-4326-9E1A-56C9B1D3A7E1}\Setup.exe /remove /q2</span></p>
                                                            </li>
                                                            <li value="3">
                                                                <p>The AD Password Sync agent does not support the management console and you must use <i>regedit</i> to disable the setting. You can monitor the AD Password Sync logs  located at: <b>%ProgramData%\Okta\AD Password Sync\logs</b></p>
                                                            </li>
                                                        </ol>
                                                        <p>You can now install the AD Password Sync agent as described in <a href="#InstallingADPasswordSyncAgent">Installing the AD Password Sync Agent</a> above.</p>
                                                        <p>To use the agent, see <a href="../Security/Security_Using_Sync_Password.htm" target="_blank">Using Sync Password</a>.</p>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Configuration"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configuring the AD Password Sync Agent</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ol>
                                                            <li value="1">Launch the Active Directory Password Sync Agent (<strong style="">Start</strong> &gt; <strong style="">All Programs</strong> &gt; <strong style="">Okta </strong>&gt; <strong>Okta AD Password Sync</strong> &gt; <strong>Okta AD Password Synchronization Agent Management Console</strong>). </li>
                                                            <li value="2">Click <b>Verify URL</b> to check the Okta URL&#160;is correct and the target server is reachable. If the URL is valid, a success message will appear under the Okta URL field.</li>
                                                        </ol>
                                                        <p><b>Note:</b> If an <b>error message</b> displays, see <a href="#Troubleshooting">Troubleshooting</a>.</p>
                                                        <p>You can optionally change the <strong>Log severity level</strong> setting. You can control the information that goes into logging reports by selecting one of the following options:</p>
                                                        <ul>
                                                            <li value="1"><strong>None</strong> – Logs nothing.</li>
                                                            <li value="2"><strong>Debug</strong> – Logs debug, info and error events.</li>
                                                            <li value="3"><strong>Info</strong> – This is the default logging level and it logs info and error events.</li>
                                                            <li value="4"><strong>Error</strong> – Logs error events only.</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Troubleshooting"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Troubleshooting</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>This section describes error conditions and how to correct them.</p>
                                                        <h3>The agent is installed on all Domain Controllers, user's AD password has changed, but user is not able to log in to apps via desktop SSO</h3>
                                                        <p>The problem may be that the <b>Okta username format</b> for your org is <u>not</u> set to <b>User Principal Name (UPN)</b>  or <b>sAMAccountName</b>. In most cases, the <b>Okta username format</b> must be set to <b>User Principal Name (UPN)</b> or  <b>sAMAccountName</b>in order for the AD Password Sync Agent to work.</p>
                                                        <p>To check the setting, do the following:</p>
                                                        <ol>
                                                            <li value="1">Log in to your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> Dashboard.</li>
                                                            <li value="2">Go to <b>Directory &gt; Directory Integrations &gt; Settings</b>.</li>
                                                            <li value="3">Under <b>Import and Provisioning </b> make sure that <b>User Principal Name</b>  or <b>sAMAccountName</b>is selected in the <b>Okta username format</b> picker.					</li>
                                                        </ol>
                                                        <h3>Filter was loaded successfully, but is not enabled</h3>
                                                        <p>If you launch the AD Password Sync agent and a message displays stating that the agent is not enabled, you must enter your Okta URL (for example, <i>https://mycompany.okta.com</i>) and click <strong>Verify URL</strong>.</p>
                                                        <p><strong>Note: </strong>You must use the <strong>https://</strong> prefix in your entry.</p>
                                                        <p>
                                                            <img src="../../Resources/Images/AD_PW_Sync_VerifyURL_517x201.png" style="width: 517;height: 201;" />
                                                        </p>
                                                        <h3>Password filter failed to load</h3>
                                                        <p>If you launch the AD Password Sync agent and a message displays stating that the password filter failed to load, contact Okta support.</p>
                                                        <h3><a id="SSL_error" name="SSL_error"></a>Could not establish trust relationship</h3>
                                                        <p>If you launch the AD Password Sync agent and the message displays <i>The underlying connection was closed. Could not establish trust relationship for the SSL/TLS secure channel</i>, then you installed AD Password Sync agent <b>version 1.3.0</b> or later and your environment is one in which the agent's support for SSL certificate pinning prevents communication with the Okta server. This is most likely to occur in environments that rely on <b>SSL proxies</b>. To allow installation to complete in this case, Okta recommends that you <b>bypass SSL proxy processing</b> by adding the domain okta.com to a whitelist.</p>
                                                        <p>Alternatively, you can choose to disable SSL certificate pinning as described below, but <u>be aware</u> that doing so <i>disables a security enhancement provided by the agent</i>.</p>
                                                        <h4>To disable support for SSL pinning, edit the Windows registry as follows:</h4>
                                                        <ol>
                                                            <li value="1">Go to the <b>Start</b> menu and type <i>regedit</i> in the search box.</li>
                                                            <li value="2">If a message displays <i>Do you want to allow the following program to make changes to this computer?</i>, click <b>Yes</b>.</li>
                                                            <li value="3">In the <b>Registry Editor</b>, navigate to <b>HKEY_LOCAL_MACHINE &gt; SOFTWARE &gt; Okta &gt; AD Password Sync</b>.</li>
                                                            <li value="4">Double-click the setting <b>Enable certificate pinning</b> and change the value to <b>0</b>.</li>
                                                            <li value="5">Click <b>OK</b> to save your change.</li>
                                                        </ol>
                                                        <p>For more information about SSL certificate pinning, see the article by the <a href="https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning" target="_blank">Open Web Application Security Project</a>.</p>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="72fFRs_npk21oUrKRQYswg">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="72fFRs_npk21oUrKRQYswg:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>