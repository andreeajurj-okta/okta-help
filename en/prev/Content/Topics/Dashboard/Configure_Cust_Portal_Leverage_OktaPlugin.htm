<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Configure your custom end-user portals to leverage the Okta browser plugin</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/okta-relnotes.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-docs-custom.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.offcanvas.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap">
            <div class="off-canvas-wrap" data-offcanvas="">
                <section class="inner-wrap">
                    <nav class="tab-bar" data-mc-ignore="true">
                        <section class="middle tab-bar-section outer-row clearfix">
                            <div class="relative clearfix"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Okta"></a>
                                <div class="navigation-wrapper">
                                    <ul class="navigation clearfix">
                                        <li class="has-children"><a href="../ReleaseNotes/okta-relnotes.htm">RELEASE NOTES</a>
                                            <ul class="sub-menu">
                                                <li><a href="../ReleaseNotes/production.htm">Production</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/preview.htm">Preview</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/early-access.htm">Early Access</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/app-updates.htm">Applications</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/bug-fixes.htm">Bug Fixes</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/mobile-release-status.htm">Mobile Releases</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/announcements.htm">Announcements</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../../okta-doc.htm">KEY TOPICS</a>
                                            <ul class="sub-menu">
                                                <li><a href="Dashboard.htm">Dashboard</a>
                                                </li>
                                                <li class="has-children"><a href="../Directory/Directory.htm">Directory</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Directory/Directory_People.htm">People</a>
                                                        </li>
                                                        <li><a href="../Directory/Directory_Groups.htm">Groups</a>
                                                        </li>
                                                        <li><a href="../Directory/Directory_Profile_Editor.htm">Profile Editor</a>
                                                        </li>
                                                        <li><a href="../Directory/Directory_Directory_Integrations.htm">Directory Integrations</a>
                                                        </li>
                                                        <li><a href="../Directory/Directory_Profile_Masters.htm">Profile Masters</a>
                                                        </li>
                                                        <li><a href="../Directory/Reference_Directories.htm">Directory Reference Topics</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Apps/Apps_Apps.htm">Applications</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Apps/Apps_Apps_Page.htm">Using the Applications Page</a>
                                                        </li>
                                                        <li><a href="../Apps/Apps_App_Integration_Wizard.htm">Using the App Integration Wizard</a>
                                                        </li>
                                                        <li><a href="../Apps/Access_Request_Workflow.htm">Access Request Workflow</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li><a href="../Devices/Devices_Menu.htm">Devices</a>
                                                </li>
                                                <li class="has-children"><a href="../Security/Security_at_Okta.htm">Security</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Security/Security_General.htm">General</a>
                                                        </li>
                                                        <li><a href="../Security/Security_Policies.htm">Security Policies</a>
                                                        </li>
                                                        <li><a href="../Security/Security_Authentication.htm">Authentication</a>
                                                        </li>
                                                        <li><a href="../Security/MFA.htm">Multifactor</a>
                                                        </li>
                                                        <li><a href="../Security/Identity_Providers.htm">Identity Providers</a>
                                                        </li>
                                                        <li><a href="../Security/Security_Network.htm">Network</a>
                                                        </li>
                                                        <li><a href="../Security/Administrators.htm">Administrators</a>
                                                        </li>
                                                        <li><a href="../Security/API.htm">API</a>
                                                        </li>
                                                        <li><a href="../Security/API_Access.htm">API Access Management</a>
                                                        </li>
                                                        <li><a href="https://support.okta.com/help/answers#!/feedtype=RECENT&amp;dc=xSecurity&amp;criteria=BESTANSWERS">Community: Security Discussions</a>
                                                        </li>
                                                        <li><a href="https://support.okta.com/help/articles/Knowledge_Article/A-Quick-Look-at-Securing-Okta">Video: A Quick Look at Securing Okta</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Reports/Reports.htm">Reports</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Reports/Reports_SysLog.htm">System Log</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Settings/Settings.htm">Settings</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Settings/Settings_Account.htm">Account</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Appearance.htm">Appearance</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Customization.htm">Customization</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Email.htm">Email and SMS Options</a>
                                                        </li>
                                                        <li><a href="../Settings/Settings_Downloads.htm">Downloads</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li class="has-children"><a href="../Mobile/Apps_Okta_Mobile.htm">Mobile</a>
                                                    <ul class="sub-menu">
                                                        <li><a href="../Mobile/Okta_Mobile_Connect.htm">Okta Mobile Connect</a>
                                                        </li>
                                                        <li><a href="../Mobile/device-trust-mobile.htm">Device Trust for mobile</a>
                                                        </li>
                                                        <li><a href="../Mobile/device-trust.htm">Device Trust for desktop</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="https://developer.okta.com">DEVELOPER SITE</a>
                                        </li>
                                    </ul>
                                </div><a class="menu-icon right-off-canvas-toggle" href="#"><span></span></a>
                            </div>
                        </section>
                        <div class="nav-search row outer-row">
                            <form class="search" action="#">
                                <div class="search-bar search-bar-container needs-pie">
                                    <input class="search-field needs-pie" type="search" placeholder="Search" />
                                    <div class="search-filter-wrapper">
                                        <div class="search-filter">
                                            <div class="search-filter-content">
                                                <ul>
                                                    <li>All Files</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-submit-wrapper" dir="ltr">
                                        <div class="search-submit" title="Search">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </nav>
                    <aside class="right-off-canvas-menu" data-mc-ignore="true">
                        <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="right-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True">
                        </ul>
                    </aside>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="TopBarLeftRight">
                                <div data-mc-conditions="SFDC-syndication.not-for-sfdc">
                                    <div id="feedback"><a href="mailto:okta-docs@okta.com?Subject=Feedback%20for%20OktaDocs"><img src="../../Resources/Images/okta-assets/feedback-button.png" /></a>
                                    </div>
                                </div>
                                <div data-mc-conditions="SFDC-syndication.not-for-sfdc">
                                </div>
                                <div>
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component" style="mc-topic-toolbar-items: CollapseAll ExpandAll;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="LeftRightMenu">
                                <div>
                                    <ul class="menu _Skins_okta_relnote_menu mc-component">
                                        <li class="has-children"><a href="../ReleaseNotes/okta-relnotes.htm">RELEASE NOTES</a>
                                            <ul class="sub-menu">
                                                <li><a href="../ReleaseNotes/production.htm">Production</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/preview.htm">Preview</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/early-access.htm">Early Access</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/app-updates.htm">Applications</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/bug-fixes.htm">Bug Fixes</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/mobile-release-status.htm">Mobile Releases</a>
                                                </li>
                                                <li><a href="../ReleaseNotes/announcements.htm">Announcements</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li class="has-children"><a href="../../okta-doc.htm">KEY TOPICS</a>
                                            <ul class="sub-menu">
                                                <li><a href="Dashboard.htm">Dashboard</a>
                                                </li>
                                                <li><a href="../Directory/Directory.htm">Directory</a>
                                                </li>
                                                <li><a href="../Apps/Apps_Apps.htm">Applications</a>
                                                </li>
                                                <li><a href="../Devices/Devices_Menu.htm">Devices</a>
                                                </li>
                                                <li><a href="../Security/Security_at_Okta.htm">Security</a>
                                                </li>
                                                <li><a href="../Reports/Reports.htm">Reports</a>
                                                </li>
                                                <li><a href="../Settings/Settings.htm">Settings</a>
                                                </li>
                                                <li><a href="../Mobile/Apps_Okta_Mobile.htm">Mobile</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="https://developer.okta.com">DEVELOPER SITE</a>
                                        </li>
                                    </ul>
                                </div>
                                <div>
                                    <h1><a name="top"></a>Configure your custom end user portals to leverage the Okta browser plugin</h1>
                                    <hr width="100%" size="0" align="center" />
                                    <p style="text-align: right;font-size: 9pt;color: #0000ff;">Security &gt;&#160;API &gt;&#160;Trusted Origins</p>
                                    <p>You can configure the Okta browser plugin to behave on your custom end user portal exactly as it behaves in the Okta end user dashboard. When configured, the plugin does the following:</p>
                                    <ul>
                                        <li value="1">The plugin informs the custom portal that it (the plugin) is present. You can configure your custom portal to detect when the plugin is not installed, and then display a banner prompting <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using chiclets to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a> to install the plugin.</li>
                                        <li value="2"><a name="api_calls"></a>The plugin makes the <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="API_calls"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />following API calls</a> to the Okta server to update its state:
			
					<ul style="display: none;" data-mc-target-name="API_calls"><li value="1"><span style="font-family: 'Courier New'; font-weight: bold;">/api/plugin/2/sites</span></li><p>Retrieves information about the list of sites on your custom end user portal (useful for <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a> scenarios).</p><div style="line-height:17px;"><br /></div><li value="2"><span style="font-family: 'Courier New'; font-weight: bold;">/api/v1/<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup" style="font-family: 'Courier New'; font-weight: bold;">users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "users" as the people who serve as Okta administrators. When we refer to "end users" we are generally referring to the people who the administrators serve. That is, those who use Okta chiclets to access their apps, but have no administrative control.</span></a>/me/home/tabs</span></li><p>Retrieves  information about the location of  tabs and apps on the portal in order to construct the <b>Your Apps</b> menu that displays when end users click the blue plugin icon. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="MyApps"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a><p style="display: none;" data-mc-target-name="MyApps"><img src="../../Resources/Images/MyApps-pluginIcon.png" /></p></p><div style="line-height:17px;"><br /></div><li value="3"><span style="font-family: 'Courier New'; font-weight: bold;">/api/internal/enduser/home</span></li><p>Retrieves information about the currently logged-in user such as the plugin settings that are enabled.</p><div style="line-height:17px;"><br /></div><li style="font-weight: bold;" value="4"><span style="font-family: 'Courier New';">/api/plugin/2/hashed-self-service-sites</span></li><p style="font-weight: normal;">Retrieves information useful for adding apps on-the-fly.</p></ul></li>
                                    </ul>
                                    <hr width="100%" size="0" align="center" />
                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /> <b>Procedure</b></a></span>
                                        <div class="MCDropDownBody dropDownBody">
                                            <p>This procedure has two parts:</p>
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Part Ⓐ – Configure your portal as a CORS-trusted origin</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ol>
                                                        <li value="1">Go to <b>Security &gt;&#160;API</b>.</li>
                                                        <li value="2">Click the <b>Trusted Origins</b> tab.</li>
                                                        <li value="3">Click <b>Add Origin</b> and configure settings:
								<ul><li value="1"><b>Name</b> – Enter a name for your custom portal.</li><li value="2"><b>Origin URL</b> – For example, <i>https://www.example.com</i>.</li><li value="3"><b>Type</b><![CDATA[
							]]><ul><li value="1"><b>CORS</b> – Select this option to  allow JavaScript hosted on your websites to make an <span style="font-family: 'Courier New';">XMLHttpRequest</span> to the Okta API using the Okta session cookie. </li><li value="2"><b>Redirect</b> – 
 Ignore this option. It has no effect on this feature								</li></ul></li></ul></li>
                                                        <li value="4">Click <b>Save</b>.</li>
                                                        <li value="5">Proceed to Part Ⓑ.</li>
                                                    </ol>
                                                </div>
                                            </div>
                                            <p />
                                            <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Part Ⓑ – Modify your custom portal HTML</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ol>
                                                        <li value="1">Modify your custom portal HTML by adding the following hidden frame. This effectively sends a <span style="font-family: 'Courier New';">'pluginVersion'</span> <span style="font-family: 'Courier New';">postMessage</span> request to the iframe when the iframe loads: </li>
                                                        <div style="padding:10px;border:1px solid black;min-height:30px;min-width:100px;overflow-y:hidden;overflow-x:scroll;">
                                                            <p style="width:110%;"><pre xml:space="preserve">&lt;iframe id="okta-frame"
	style="display:none"
	src="https://example.okta.com/<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a>/UserHome/plugin-info"
	onload="this.contentWindow.postMessage('pluginVersion', 'https://example.okta.com/app/UserHome/plugin-info')"/&gt;</pre>
                                                            </p>
                                                        </div>
                                                        <li value="2">
                                                            <p>You then write write code similar to the following on <i>https://www.example.com</i> to handle the <span style="font-family: 'Courier New';">postMessage</span> response from the iframe. For example:</p>
                                                        </li>
                                                        <div style="padding:10px;border:1px solid black;min-height:30px;min-width:60px;">
                                                            <p style="width:110%;"><pre xml:space="preserve">
window.addEventListener('message', function (event) {
  if (event.origin === 'https://example.okta.com' &amp;&amp;
      event.data &amp;&amp; 
      event.data.detected) {
    doSomething(event.data.pluginVersion);
}});</pre>
                                                            </p>
                                                        </div>
                                                    </ol>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr width="100%" size="0" align="center" />
                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />How it works</a></span>
                                        <div class="MCDropDownBody dropDownBody">
                                            <ol>
                                                <li value="1">The Okta browser plugin examines all frames on the page, detects that there is one frame of the form <i>https://*.okta.com/app/UserHome*</i>, and then informs that frame that it is installed.</li>
                                                <li value="2">The Okta web server receives the web request and validates that the iframe owner origin is trusted (that is, it is <i>https://www.example.com</i>). If trust is validated, the Okta web server responds with a JSP page containing Javascript code that responds to trusted origin <span style="font-family: 'Courier New';">postMessage</span> requests with the following JSON:
						<div style="padding:10px;border:1px solid black;min-height:30px;min-width:60px;"><p><pre xml:space="preserve">
{
  detected: true/false
  pluginVersion: x.y.z // if plugin is present
}</pre></p></div></li>
                                                <li value="3">The plugin detects that it is on an <span style="font-family: 'Courier New';">/app/UserHome/plugin-info</span> endpoint that loaded successfully, and then updates its state accordingly by making the four <a href="#api_calls" class="selected">API calls</a> described above.</li>
                                                <li value="4">You then write code similar to the following on <i>https://www.example.com</i> to handle the <span style="font-family: 'Courier New';">postMessage</span> response from the iframe:
                <div style="padding:10px;border:1px solid black;min-height:30px;min-width:60px;"><p style="width:110%;"><pre xml:space="preserve">
window.addEventListener('message', function (event) {
  if (event.origin === 'https://example.okta.com' &amp;&amp;
      event.data &amp;&amp; 
      event.data.detected) {
    doSomething(event.data.pluginVersion);
  }
});</pre></p></div></li>
                                            </ol>
                                        </div>
                                    </div>
                                    <hr width="100%" size="0" align="center" />
                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Security considerations</a></span>
                                        <div class="MCDropDownBody dropDownBody">
                                            <p>Okta requires an authenticated session for this functionality.</p>
                                            <p>The <span style="font-family: 'Courier New';">/plugin-info</span> endpoint is denied access if:</p>
                                            <ul>
                                                <li value="1">No trusted origin has been defined by the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a>.</li>
                                                <li value="2">The request referrer (such as the parent frame) is not in the list of CORS-trusted origins defined by the admin.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <hr width="100%" size="0" align="center" />
                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configure a fully working example</a></span>
                                        <div class="MCDropDownBody dropDownBody">
                                            <p>To configure a working example of this feature, create a local web server (for example, <b>Node.js</b> server) to host the simple HTML page below. The following example hosts the page on <i>https://example.com.html.</i></p>
                                            <div style="padding:10px;border:1px solid black;min-height:30px;min-width:100px;overflow-y:hidden;overflow-x:scroll;">
                                                <p style="width:110%;"><pre xml:space="preserve">
&lt;html&gt;
&lt;head&gt;
     &lt;script&gt;
       window.addEventListener('message', function (event) {
        <b>if</b> (event.origin === 'https://example.okta.com' &amp;&amp;
              event.data &amp;&amp;
              event.data.detected) {
            document.getElementById('pluginVersion').innerHTML = event.data.pluginVersion;
        }
      });
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  Plugin Detected: &lt;b&gt;&lt;span id="pluginVersion"&gt;&lt;/span&gt;&lt;/b&gt;
  &lt;iframe id="okta-frame"
          style="display:none"
          src="https://example.okta.com/app/UserHome/plugin-info"
          onload="this.contentWindow.postMessage('pluginVersion', 'https://example.okta.com/app/UserHome/plugin-info')"/&gt;
&lt;/body&gt;
&lt;html&gt;</pre>
                                                </p>
                                            </div>
                                            <p>The output from running the above code should be similar to this:</p>
                                            <p>
                                                <img src="../../Resources/Images/ConfigCustPortal_Output.png" />
                                            </p>
                                        </div>
                                    </div>
                                    <hr width="100%" size="0" align="center" />
                                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Related topics</a></span>
                                        <div class="MCDropDownBody dropDownBody">
                                            <p><a href="Embedding_Your_End_User_Portal.htm">Embedding your end user portal</a>
                                            </p>
                                            <p><a href="Settings_Manage_Dashboard_Tabs_for_End_Users.htm">Manage dashboard tabs for end users</a>
                                            </p>
                                            <p><a href="../Apps/Apps_Browser_Plugin.htm">About the Okta Browser Plugin</a>
                                            </p>
                                            <p><a href="Settings_Customization.htm">Customization</a>
                                            </p>
                                            <p>&#160;</p>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                </div>
                            </div>
                            <div class="Footer">
                                <div>
                                    <p class="copyright">© Copyright 2017 Okta, Inc.</p>
                                </div>
                                <div>
                                    <p>&#160;</p>
                                </div>
                                <div>
                                    <p>&#160;</p>
                                </div>
                            </div>
                        </div>
                    </section><a class="exit-off-canvas"></a>
                </section>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>