<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Configure Sophos UTM to Interoperate with Okta via RADIUS</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/okta_table_2.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <!-- <script src="../../Resources/Scripts/js/app.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.2-rc2/js/foundation.min.js">
        </script> -->
                                <!-- <script src="../../Resources/Scripts/js/vendor/jquery.js">
		</script> -->
                                <!--<script src="../../Resources/Scripts/js/vendor/what-input.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.2-rc2/js/plugins/foundation.core.min.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.2-rc2/js/plugins/foundation.tabs.min.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.2-rc2/js/plugins/foundation.util.keyboard.min.js">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.2-rc2/js/plugins/foundation.util.imageLoader.min.js">
        </script>-->
                                <div class="LeftRightTopRow">
                                    <div>
                                        <div>
                                        </div>
                                        <div class="toolbar-main">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <p />
                                    </div>
                                </div>
                                <div class="LeftRightMenu">
                                    <div>
                                        <div class="body-main">
                                            <h1>Configure Sophos UTM to Interoperate with Okta via RADIUS</h1>
                                            <p>You can extend Adaptive MFA to your VPN clients. This guide details how to configure Sophos UTM to use the <b>Okta RADIUS Server <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a></b>.</p>
                                            <p>There are five parts to the configuration, including optional settings. A list of additional resources are also provided.</p>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Part 1 – Preconfiguration: Installing, and configuring the Okta RADIUS Agent.</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>Configuring Sophos UTM to use the Okta RADIUS Agent requires pre-configuration of the RADIUS agent.</p>
                                                    <ol>
                                                        <li value="1">Download the Okta RADIUS Agent from the <b>Settings &gt; Downloads</b> page in Okta.</li>
                                                        <li value="2">Install the agent using the instructions in <a href="../Directory/Agent_Installing_the_Okta_Radius_Agent.htm"> Installing and Configuring the Okta RADIUS Server Agent</a>.</li>
                                                        <li value="3">For throughput, availability and other considerations, see <a href="../DeploymentGuides/Radius_Server_Agent/radius-server-agent-dg.htm#Okta%20RADIUS%20Server%20Agent%20Deployment%20Best%20Practices">Okta RADIUS Server Agent Deployment Best Practices</a>.</li>
                                                    </ol>
                                                    <p>After installing the Okta RADIUS Agent ensure that you have met these minimum requirements for network connectivity</p>
                                                    <table style="width: 80% %;mc-table-style: url('../../Resources/TableStyles/okta_table_2.css');" class="TableStyle_IBC_Table_2" cellspacing="0">
                                                        <col style="width: 158px;" />
                                                        <col style="width: 208px;" />
                                                        <col style="width: 326px;" />
                                                        <col style="width: 224px;" />
                                                        <thead>
                                                            <tr>
                                                                <th class="TableStyle_IBC_Table_2_Head_0_0_RowSep_ColSep">Source</th>
                                                                <th class="TableStyle_IBC_Table_2_Head_0_0_RowSep_ColSep">Destination</th>
                                                                <th class="TableStyle_IBC_Table_2_Head_0_0_RowSep_ColSep">Port/Protocol</th>
                                                                <th class="TableStyle_IBC_Table_2_Head_0_0_RowSep_ColEnd">Description</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep">Okta RADIUS Agent</td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep">Okta Identity Cloud</td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColSep">tcp/443<br />http</td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowSep_ColEnd">Configuration and authentication traffic</td>
                                                            </tr>
                                                            <tr>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColSep">Sophos UTM </td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColSep">Okta RADIUS Agent</td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColSep">
udp/1812
RADIUS
(actual port number defined in next step)
</td>
                                                                <td class="TableStyle_IBC_Table_2_Body_0_0_RowEnd_ColEnd">RADIUS traffic between the firewall (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a>) and the RADIUSs Agent (server)</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part2"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Part 2 – Use the Okta Admin Console to Configure the Okta RADIUS Agent</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>In this step, add the <b>Sophos UTM</b> <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> and apply specific settings for your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>, including the following:</p>
                                                    <ul>
                                                        <li value="1">Authentication configuration<ul><li value="1">Factor Only</li><li value="2">Primary Only</li><li value="3">Primary and Factor</li></ul></li>
                                                        <li value="2">Username format<ul><li value="1">first.last@<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a>.tld</li><li value="2">first.last</li></ul></li>
                                                        <li value="3">Customize sign-on policy</li>
                                                    </ul>
                                                    <p><b>Note:</b> The U2F&#160;Security and Windows Hello <a href="../Security/MFA.htm#Factor">MFA factors</a> are not compatible with RADIUS-enabled implementations.</p>
                                                    <p>There are some optional advanced radius configuration options that are listed at the end of this document to help with Reporting the Client IP and Sending <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> information to the firewall.</p>
                                                    <ol>
                                                        <li value="1">From the Okta Dashboard, select <b>Applications &gt; Applications&gt; Add Application</b>, search for <i>Sophos UTM)</i>, and then click <b>Add Application</b>, as shown below.
        
        <p><img src="../../Resources/Images/sophos_1.png" /></p></li>
                                                        <li value="2">Enter a distinct application label and select the visibility in the <a href="../Apps/Apps_App_Integration_Wizard.htm">App Integration Wizard</a> that open, as shown below. <p><img src="../../Resources/Images/sophos_1b.png" /></p></li>
                                                        <li value="3">In the Sign On screen, configure the Authentication Behavior, define a UDP Port, define a Secret, and configure the application username format, as shown below. You will need this information later.<p><img src="../../Resources/Images/palo_alto_networks_2.png" /></p></li>
                                                        <li value="4">
                                                            <p>Configure Advanced Authentication Settings</p>
                                                            <p>The Sophos UTM appliance does not support a RADIUS challenge message.  Configure Okta to accept the password and factor in the same message (credential concatenation), as shown below.</p>
                                                            <ul>
                                                                <li value="1">In the Sign on tab for the Sophos UTM app you just created, scroll down to <b>Advanced RADIUS Settings</b> and click <b>Edit</b>. </li>
                                                                <li value="2">Scroll to the <b>Authentication</b> section.</li>
                                                                <li value="3">Check the box for <b>Accept password and security token in the same login request</b>.</li>
                                                                <li value="4">Click <b>Save</b>.</li>
                                                            </ul>
                                                            <p>
                                                                <img src="../../Resources/Images/sophos_3.png" />
                                                            </p>
                                                        </li>
                                                        <li value="5"> You <a href="../Apps/Apps_Apps_Page.htm#Assigning">assign the app</a> to <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "users" as the people who serve as Okta administrators. When we refer to "end users" we are generally referring to the people who the administrators serve. That is, those who use Okta chiclets to access their apps, but have no administrative control.</span></a> at this time, or do it later. When done, exit the wizard.</li>
                                                        <li value="6">Optionally, you can confirm or modify the <a href="../Security/App_Based_Signon.htm">sign-on policy</a> for the app at this time. Select the <b>Sign On</b> tab and scroll down to the <b>Sign On Policy</b> section. Review and modify the sign-on policy as required, as shown below.
			 Note that the default rule is set to <b>Require multifactor every session</b>. <p><img src="../../Resources/Images/cisco_3.png" /></p></li>
                                                    </ol>
                                                    <p>For more information on the RADIUS app, including more details on setting up the app, see <a href="../Security/Okta_Radius_App.htm">Using the Okta RADIUS App</a>.</p>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part3"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Part 3 – Configure Your Sophos USM to use the Sophos UTM RADIUS OIN App</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>There are four parts to this configuration:</p>
                                                    <ul>
                                                        <li style="font-weight: normal;" value="1">Enable automatic user creation</li>
                                                        <li value="2">
                                                            <p>Configure a New Authentication Server</p>
                                                        </li>
                                                        <li style="font-weight: normal;" value="3">Create a RADIUS backend group</li>
                                                        <li style="font-weight: normal;" value="4">Allow the backend group to access resources</li>
                                                    </ul>
                                                    <h3>Step 1 – Enable automatic user creation</h3>
                                                    <ol>
                                                        <li value="1">Sign in to the Sophos UTM Web <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> console with sufficient privileges.</li>
                                                        <li value="2">Navigate to <b>Definitions &amp; Users &gt; Authentication Services</b>, and then click <b>Add</b> to define a new RADIUS server. </li>
                                                        <li value="3">On the <b>Global Settings</b> tab check the box to <b>Create users automatically</b>, as shown below.
						<p><img src="../../Resources/Images/sophos_4.png" /></p></li>
                                                        <li value="4">
                                                            <p>In the <b>Automatic User Creation for Facilities</b> check the appropriate facilities for your environment, as shown above.</p>
                                                            <p><b>Recommendation:</b> Select <b>Client Authentication</b> and <b>End-User Portal</b>.</p>
                                                        </li>
                                                    </ol>
                                                    <h3>Step 2 – Configure a New Authentication Server</h3>
                                                    <ol>
                                                        <li value="1">In the Sophos UTM Web Admin console, navigate to <b>Definitions &amp; Users &gt; Authentication Services</b>, and select the <b>Servers</b> tab. The screen shown below opens.<p><img src="../../Resources/Images/sophos_5.png" /></p></li>
                                                        <li value="2">
                                                            <p>Click the <b>New Authentication Server...</b> button. </p>
                                                        </li>
                                                        <li value="3">Enter the following information:<ul><li value="1"><b>Backend:</b> RADIUS</li><li value="2"><b>Postion:</b> Top</li></ul><p>Server</p><ul><li value="1"><b>Name:</b> Unique and appropriate name; for example OktaMFA</li><li value="2"><b>Type:</b> Host</li><li value="3"><b>IPv4 address:</b> IP address of the Okta RADIUS Server Agent</li></ul><p>Advanced</p><ul><li value="1"><b>Interface:</b> The appropriate interface for your environment</li></ul><ul><li value="1"><b>Port:</b> The UDP Port defined in Part 2, step 3, above; for example, 1815</li><li value="2"><b>Shared Secret:</b> The Secret Key defined in  Part 2, step 3, above</li></ul><p>Advanced</p><ul><li value="1"><b>Authentication timeout (sec):</b> 60</li></ul></li>
                                                        <li value="4">When done, click <b>Save</b></li>
                                                    </ol>
                                                    <h3>Step 3: Create a RADIUS Backend Group</h3>
                                                    <ol>
                                                        <li value="1">In the Sophos UTM Web Admin console, navigate to <b>Definitions &amp; Users &gt; Users &amp; Groups</b>, and select the <b>Groups</b> tab. The screen shown below opens.<p><img src="../../Resources/Images/sophos_8.png" /></p></li>
                                                        <li value="2">Click <b>New Group…</b>.</li>
                                                        <li value="3">Enter the following information in the <b>Add Group</b> section:<ul><li value="1"><b>Group Name:</b> Unique and appropriate name, such as <em>Okta RADIUS Users</em></li><li value="2"><b>Group Type</b>: Backend Membership</li><li value="3"><b>Backend:</b> RADIUS </li></ul></li>
                                                        <li value="4">
                                                            <p>Click <b>Save</b> to save the settings.</p>
                                                        </li>
                                                    </ol>
                                                    <h3>Step 4: Allow group access to resources<![CDATA[				]]></h3>
                                                    <ol>
                                                        <li value="1">In the Sophos UTM Web Admin console, navigate to <b>Remote Access</b>, and select the desired connection method. The screen shown below opens.<p><img src="../../Resources/Images/sophos_10.png" /></p></li>
                                                        <li value="2">Click <b>New HTML5 VPN Portal Connection...</b> or use an existing connection.</li>
                                                        <li value="3">
                                                            <p>Add the group you created in Step 3 to the <b>Users and Groups</b> or  <b>Allowed Users (Userportal)</b> list.</p>
                                                        </li>
                                                    </ol>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part4"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Part 4 – Test your Configuration</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>Test the configuration for the flows, shown in the following network diagram.</p>
                                                    <p>
                                                        <img src="../../Resources/Images/sophos_15.png" />
                                                    </p>
                                                    <p>The detailed web sequence is listed below and shown in this <a href="../../Resources/Images/f5_17.png" target="_blank">diagram</a>.</p>
                                                    <ol>
                                                        <li value="1">User Logs in with Username/Password</li>
                                                        <li value="2">Gateway receives data and forwards via Radius to Okta RADIUS Server Agent</li>
                                                        <li value="3">Okta RADIUS Server Agent sends to Okta Identity Cloud</li>
                                                        <li value="4">Okta Identify Cloud Determines the Authentication source and responds or optionally forwards to on-prem directory agent</li>
                                                        <li value="5">Optional: Directory Agent sends Password to Directory</li>
                                                        <li value="6">Optional: Directory Confirms the password</li>
                                                        <li value="7">Optional: Directory Agent Confirms the password to Okta Identity Cloud</li>
                                                        <li value="8">Okta Identity Cloud evaluates the authentication policy and as required sends a message to the Okta RADIUS Server Agent to challenge the user for a factor</li>
                                                        <li value="9">The Okta RADIUS Server Agent relays the challenge message to the Gateway</li>
                                                        <li value="10">The Gateway displays a message to select a factor to the user</li>
                                                        <li value="11">User supplies the desired factor</li>
                                                        <li value="12">Gateway receives data and forwards via Radius to Okta RADIUS Server Agent</li>
                                                        <li value="13">Okta RADIUS Server Agent sends to Okta Identity Cloud</li>
                                                        <li value="14">Okta Identify Cloud evaluates the Choice and triggers the appropriate response (push message shown)</li>
                                                        <li value="15">Push message is received and Responded to by the user</li>
                                                        <li value="16">Success Message returned to the Okta RADIUS Server Agent</li>
                                                        <li value="17">Success Message returned to the gateway</li>
                                                        <li value="18">Connected</li>
                                                    </ol>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Test 1 – Test with the Web Portal</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">
                                                                    <p>Open the Sophos User Portal.</p>
                                                                    <p>
                                                                        <img src="../../Resources/Images/sophos_11.png" />
                                                                    </p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>Enter your username.</p>
                                                                    <p><b>Note:</b> The username must be in the format you specified when you added the app in Okta in Part 2, above.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>Enter your password concatenated with your OTP value or keyword. Use the following examples for format:</p>
                                                                    <ul>
                                                                        <li value="1">Password1,123456</li>
                                                                        <li value="2">Password1,push</li>
                                                                        <li value="3">Password1,sms</li>
                                                                    </ul>
                                                                    <p><b>Note:</b> The Sophos UTM appliance does not support a RADIUS challenge message. Credential concatenation is required. </p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>If any of the information is incorrect, the following screen displays.</p>
                                                                    <p>
                                                                        <img src="../../Resources/Images/sophos_12.png" />
                                                                    </p>
                                                                </li>
                                                                <li value="5">
                                                                    <p>If you connected successfully, the following screen displays.</p>
                                                                    <p>
                                                                        <img src="../../Resources/Images/sophos_14.png" />
                                                                    </p>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part6"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Part 5 – Configure Optional Settings</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>There are two optional settings you can configure, Client IP Reporting and Groups response.</p>
                                                    <h3>Configure Client IP Reporting</h3>
                                                    <p>The Sophos UTM does not report the ip address of the client in its RADIUS requests.</p>
                                                    <h3>Configure Groups Response</h3>
                                                    <p>The Sophos UTM does not respond to Class or Filter messages delivered in RADIUS responses</p>
                                                </div>
                                            </div>
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Addition"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Additional Resources</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ul>
                                                        <li value="1">Okta Documentation - <a href="../Security/App_Based_Signon.htm">Configuring Sign On Policies</a></li>
                                                        <li value="2">Sophos Community: Radius Authentication: <a href="https://community.sophos.com/products/unified-threat-management/f/general-discussion/22245/radius-authentication">https://community.sophos.com/products/unified-threat-management/f/general-discussion/22245/radius-authentication</a></li>
                                                    </ul>
                                                </div>
                                            </div><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                        </div>
                                    </div>
                                    <div>
                                    </div>
                                </div>
                                <div class="Footer">
                                    <div>
                                        <p class="copyright">© Copyright <span class="okta-variablesYear">2018</span> <span class="okta-variablesCompanyName">Okta, Inc</span></p>
                                    </div>
                                </div>
                                <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                </script>
                                <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                </script>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>