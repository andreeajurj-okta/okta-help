<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Configure MFA for Electronic Prescribing for Controlled Substances to comply with government regulations and securely authenticate users with Okta MFA." /><title>MFA for Electronic Prescribing for Controlled Substances (ePCS) | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="VIenkfB4W0mHsck8v0DWrw">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="VIenkfB4W0mHsck8v0DWrw:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <p class="earlyaccess">This is an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Early Access<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Early Access (EA) features are opt-in features that you can try out in your org by asking Okta Support to enable them. Additionally, the Features page in the Okta Admin Console (Settings &gt; Features) allows Super Admins to enable and disable some EA features themselves.</span></a> feature. To enable it, contact <a href="https://support.okta.com/help/s/">Okta Support</a>.</p>
                                                <h1>MFA for Electronic Prescribing for Controlled Substances (ePCS) </h1>
                                                <p>The guide below outlines the setup process to install the Okta Multifactor <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Authentication<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Authentication is distinct from authorization, which is the process of giving individuals access to system objects based on their identity. Authentication merely ensures that the individual is who he or she claims to be, but says nothing about the access rights of the individual.

Authentication methods and protocols include direct auth, delegated auth, SAML, SWA, WS-Fed, and OpenID Connect.</span></a> (MFA) provider for ePCS.</p>
                                                <p>Electronic Prescribing for Controlled Substances (ePCS) eliminates paper prescriptions entirely by allowing clinical prescribers to electronically write prescriptions for controlled substances. It also permits pharmacies to receive, dispense and archive these e-prescriptions.</p>
                                                <p>ePCS also creates new “Identity Proofing” responsibilities for  vendors, prescribers, and pharmacies by requiring two-factor authentication, more robust audit trails and strict auditing procedures in order to comply with the Interim Final Rule regulating ePCS of the U.S. Drug Enforcement Administration (DEA). </p>
                                                <p>The following diagram shows the information flow.<p><p><img src="../../Resources/Images/epcs_1.png" /></p></p></p>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="SupportedFactors"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Supported Factors</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>The following MFA Factors are supported:</p>
                                                        <ul>
                                                            <li value="1"><a href="../Security/MFA.htm#OktaVerify">Okta Verify</a>
                                                            </li>
                                                            <li value="2"><a href="../Security/MFA.htm#VoiceCall">Voice Call</a>
                                                            </li>
                                                            <li value="3"><a href="../Security/MFA.htm#OnPremMFA">On-Prem MFA (RSA)</a>
                                                            </li>
                                                            <li value="4"><a href="../Security/MFA.htm#Email">Email</a>
                                                            </li>
                                                            <li value="5"><a href="../Security/MFA.htm#TOTPFactor">Custom TOTP Authentication</a>
                                                            </li>
                                                            <li value="6"><a href="../Security/MFA.htm#SMSAuthentication">SMS Authentication</a>
                                                            </li>
                                                            <li value="7"><a href="../Security/MFA.htm#GoogleAuthenticator">Google Authenticator</a>
                                                            </li>
                                                            <li value="8"><a href="../Security/MFA.htm#YubiKey">YubiKey</a>
                                                            </li>
                                                            <li value="9"><a href="../Security/MFA.htm#SymantecVIP">Symantec VIP</a>
                                                            </li>
                                                            <li value="10"><a href="../Security/MFA.htm#SecurityQuestion">Security Question</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <p>&#160;</p>
                                                <div>
                                                    <h2>Prerequisites</h2>
                                                    <ul>
                                                        <li value="1">User:<ul><li value="1"> Must exist in Okta</li><li value="2">Must be assigned the Epic Hyperspace <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> in Okta</li><li value="3">Must enroll in MFA&#160;prior to performing a ePCS transaction.</li></ul></li>
                                                        <li value="2">Administrator must configure Citrix servers to allow users write access to the log folder.<br />Typically <span style="font-family: 'Courier New'; font-weight: bold;">C:\Program Files (x86)\Okta\OktaHyperspaceLoginDevice\logs</span></li>
                                                    </ul>
                                                </div>
                                                <p>There are five parts to the configuration, including a pre-configuration step.</p>
                                                <p>&#160;</p>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Step 1 – Preconfiguration </a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Transport Layer Security (TLS) used by the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a>. Ensure that TLS 1.2 or higher is configured. For instructions, see <a href="../Miscellaneous/okta-ends-browser-support-for-TLS-1.1.htm">Okta ends browser support for TLS 1.1</a>.</p>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Step 2 – Configure Okta </a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Before installing the Okta Hyperspace Agent, your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a> must have the following three items configured. </p>
                                                        <ol>
                                                            <li value="1">End user/<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> who will authenticate with ePCS sign ins:<br />To manage or add a group:<ol style="list-style-type: lower-alpha;"><li value="1">Login to your Okta Org as an administrator</li><li value="2">Navigate to <b>Directory &gt; Groups.</b><br /><img src="../../Resources/Images/integrations/epcs-okta.okta.01.png" id="img_new" alt="Select Directory &gt; Groups to add a group" /></li><li value="3">Click <b>Add&#160;Group</b> to add a group and provide an appropriate name and description for the new group.</li><li value="4">Click the group name and add appropriate people, or Directories to the group. <br />For more information  see <a href="../Directory/Directory_Groups.htm#Group">Managing Groups in Okta</a>. <br /></li></ol><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">Newly created groups are intended for use with the MFA factors configured next. </p></div></li>
                                                            <li value="2">MFA factors configured for use with ePCS sign in:<ol style="list-style-type: lower-alpha;"><li value="1">Login to your Okta Org as an administrator</li><li value="2">Navigate to <b>Security &gt; Multifactor</b>.</li><li value="3">On the <b>Factor Types</b> tab set target factor active or inactive. <br /><img src="../../Resources/Images/integrations/epcs-okta.okta.02.png" id="img_new" alt="Manage factor activation" /><br />See the <a href="#SupportedFactors" class="MCXref xref">Supported Factors</a> section in this document for a list of ePCS&#160;supported factors. </li></ol><p>For more information on managing factors see <a href="../Security/MFA.htm">Multifactor Authentication</a>.</p></li>
                                                            <li value="3">Install the Epic Hyperspace application<ol style="list-style-type: lower-alpha;"><li value="1">On the <b>Applications</b> page, select <b>Add Application</b></li><li value="2">Enter <em>Epic Hyperspace EPCS (MFA)</em> in the search box. Then, add the application. </li><li value="3">Select the <b>General</b> tab.</li><li value="4">Note the value of the <i><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a> ID</i> and <i>Client secret</i>.<br />If required, use the <b>Edit</b> button to change the <i>Application label</i> value.<br />Use the <b>Show</b> button to display the hidden value of the <i>Client secret</i>.<br /><img src="../../Resources/Images/integrations/epcs-okta.okta.03.png" id="img_new" alt="Select Directory &gt; Groups to add a group" /></li></ol></li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Step 3 –  Install the Okta Hyperspace Agent.</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ol>
                                                            <li value="1">Org admins will need to request Okta Support provide the download link for the <b>Okta Hyperspace Agent.</b><br />For the agent version history, see <a href="../Settings/Version_Histories/Ver_History_Hyperspace_Agent.htm">Okta Hyperspace Agent Version History</a>.<br /></li>
                                                            <li value="2">Sign in to your Okta tenant as an <span class="disableGlossary">admin</span>.</li>
                                                            <li value="3">Navigate to the <b>Epic Hyperspace EPCS (MFA)</b> application.</li>
                                                            <li value="4">Open the <b>General</b> tab. <br />This tab contains the Okta URL, client id and client secret required by the agent install. <br />Keep this tab open as these values are required in later steps.
                    <br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">When prompted the Okta URL&#160;must be entered as either: <b>https://&lt;&lt;YOUR OKTA ORG&gt;&gt;.okta.com</b> or <b>https://&lt;&lt;YOUR OKTA ORG&gt;&gt;.oktapreview.com</b>.</p></div></li>
                                                            <li value="5">Install the agent either interactively or at the command line:<br /><b>Interactively - On the machine that will host the agent:</b><br /><ol style="list-style-type: lower-alpha;"><li value="1">Download the HyperSpace Agent MSI file and unzip.</li><li value="2">Execute the <b>OktaHyperspaceAgent.msi</b>, accepting all defaults. </li><li value="3">When promoted enter the URL, client id and client secret as shown in the <b>General</b> tab of the <b>Epic Hyperspace EPCS (MFA)</b> application. <br /></li></ol><br /><b>Command line - On the machine that will host the agent:</b><br /><ol style="list-style-type: lower-alpha;"><li value="1">Download and install the Microsoft Visual C++&#160;redistributable libraries as described at 
						<a href="https://www.microsoft.com/en-us/download/details.aspx?id=48145">https://www.microsoft.com/en-us/download/details.aspx?id=48145.</a></li><li value="2">Download the HyperSpace Agent MSI file and unzip.</li><li value="3">Open a command prompt and change directory to the location where the MSI was downloaded and unzipped.</li><li value="4">Execute the MSI installer using a command similar to:<br /><span id="code">msiexec /qb /log log.txt /i OktaHyperspaceAgent.msi CLIENT_ID="ClientID" CLIENT_SECRET="ClientSecret" OKTA_URL="Url"</span><br />Where:<br /><b>Url, ClientId and ClientSecret </b> values are as shown in the <b>General</b> tab of the <b>Epic Hyperspace EPCS (MFA)</b> application.<br style="font-weight: bold;" /><br style="font-weight: bold;" /><br style="font-weight: bold;" /></li></ol></li>
                                                        </ol>
                                                        <div class="noteOkta">
                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                            <p class="noteHeading">Note</p>
                                                            <p class="noteContent"> If the version of Okta installed <b>Epic.Core.Authentication.dll</b> is older then the EPIC library <b>Epic.Core.Authentication.dll</b>  replace the Okta version with the newer EPIC DLL.<br /><br />The default location for the plugin install file is typically : <b>c:\Program Files (x86)\Okta\OktaHyperspaceLoginDevice\</b></p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part2"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Step 4 – Configure a Device in Chronicles</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Set up and configure a new device in Chronicles.</p>
                                                        <ol>
                                                            <li value="1">In Chronicles, access the Authentication Devices (E0G) master file and navigate to <b>Enter Data &gt; Create/Edit Device</b>.
					<ul><li value="1"><p>Enter a name for the device, such as <em>Okta 2FA</em>.</p></li><li value="2"><p>Enter a new ID of 100000 or greater.</p></li><li value="3"><p>On the <b>General Settings</b> screen, enter <em>Enter 1-Desktop</em> in the <b>Platform</b> field.</p></li><li value="4">On the General Settings screen, enter a description in the <b>Description</b> field, if desired.</li><li value="5"><p>On the <b>Desktop Settings</b> screen, enter <em>OktaHyperspaceLoginDevice.OktaMFADevice</em> in the <b>ProgID</b> field.</p></li></ul></li>
                                                            <li value="2">Determine whether there is an Authentication Configuration Record defined in <b>d ^%ZeUSTBL&gt; Hyperspace &gt; Miscellaneous Security Settings</b>. If not, complete the following steps:
					<ul><li value="1">In Chronicles, navigate to <b>d ^e &gt; e0a &gt; Enter Data &gt; Create Configuration</b>.</li><li value="2"><p>Enter a unique ID and name for your Authentication Configuration record.</p></li><li value="3"><p>In the <b>Config Type</b> field enter <i>Authentication Device Settings.</i></p></li></ul></li>
                                                            <li value="3">
                                                                <p>Using that newly created, or existing, Authentication&#160;Configuration record configure as needed for the additional factor(s).</p>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part3"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Step 5– Configure Hyperspace</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>The following steps configure Hyperspace to integrate with Okta. <br />In general the intent of this section is for the EPIC administrator will:</p>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Create a device (EOG) record that represents the third-party vendor (Okta in this case).</li>
                                                            <li value="2">Enter the new device as the Secondary Device in your Authentication Administration record.</li>
                                                        </ol>
                                                        <p>&#160;</p>
                                                        <ol>
                                                            <li value="1">In Hyperspace, navigate to Authentication Administration (<b>Epic button &gt; <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> &gt; Access Management &gt; Authentication Administration</b>).</li>
                                                            <li value="2">
                        Accept the active record. (This record should be the Authentication Configuration record that you either just verified was set or just created.)</li>
                                                            <li value="3">Select the desired configuration level; for example, System, Service Area, Workstation, etc.</li>
                                                            <li value="4">
                                                                <p>In the Context field, enter <b>E-Prescribing Controlled Medications - First Context</b>.</p>
                                                            </li>
                                                            <li value="5">
                                                                <p>Set the first authentication method you want users to be prompted with as the Primary Device. Okta anticipates that most organizations will choose the standard user name and password workflow, <b>Default Login</b>, as the first method.</p>
                                                            </li>
                                                            <li value="6">
                                                                <p>In the <b>Context</b> field, enter <em>E-Prescribing Controlled Medications - Second Context</em>.</p>
                                                            </li>
                                                            <li value="7">
                                                                <p>Set Okta to be the Primary Device.</p>
                                                            </li>
                                                            <li value="8">
                                                                <p>Click <b>Accept</b>.</p>
                                                            </li>
                                                            <li value="9">
                                                                <p>Close Hyperspace and relaunch  for the new configuration to take effect.</p>
                                                            </li>
                                                        </ol>
                                                        <p>&#160;</p>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Part6"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Step 6– Test User Login Process
</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Each Okta user account, be used by EPIC for MFA, has to match an EPIC user account. (<br />For example: in Okta account  <b>JohnSmith@okta.com</b> has to correspond to a similarly named account like JohnSmith within EPIC.  
						<br /><br /><img src="../../Resources/Images/integrations/epcs-okta.01.png" id="img_new" alt="Within the Epic Hyperspace application, select Okta username profile as credential details and click save." /></p>
                                                        <ol>
                                                            <li value="1">Within the EPIC Hyperspace Okta app, configure the Okta account format to match the EPIC account credential.</li>
                                                            <p>Define the username format within the EPIC Hyperspace app within Okta.</p>
                                                            <li value="2">Ensure your Okta defined user has already authenticated into Okta and enrolled into the MFA factor to be used.  <br />Note if omitted the EPIC MFA process will fail with no message. <br />Once completed, the user can log out of Okta.</li>
                                                            <li value="3">Log into EPIC Hyperspace with the test user account and request a prescription be processed.  <br />Depending upon the EPIC configuration a password will be requested and then the Okta Factor challenge will be displayed. <br />On error review the troubleshooting steps. </li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="troubleshooting"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"> Troubleshooting<![CDATA[
]]></a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ol>
                                                            <li value="1">Examine Okta syslog for events.<br />If no events are shown then the EPIC agent may be mis-configured. <br />Possible causes include, user is not configured or enrolled in assigned Okta MFA factor. </li>
                                                            <li value="2">Ensure that the user is assigned to the group associated with the Hyperspace app.  </li>
                                                            <li value="3">Ensure that the user is enrolled in MFA.  <br />Has the user previously connected into Okta and enrolled?  If not enroll the user before continuing. </li>
                                                            <li value="4">Ensure that the app sign-on policy is prompting for MFA for the assigned users of the created Okta group for ePCS users.</li>
                                                        </ol>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
