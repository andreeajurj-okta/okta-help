<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Citrix Netscaler Gateway Radius Configuration Guide</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-relnotes.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-docs-custom.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (min-width: 1025px)" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="relative clearfix"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Okta"></a>
                                    <div class="navigation-wrapper nocontent">
                                        <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                            <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="nav-search row outer-row">
                                <form class="search" action="#">
                                    <div class="search-bar search-bar-container needs-pie">
                                        <input class="search-field needs-pie" type="search" placeholder="Search" />
                                        <div class="search-filter-wrapper">
                                            <div class="search-filter">
                                                <div class="search-filter-content">
                                                    <ul>
                                                        <li>All Files</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="search-submit-wrapper" dir="ltr">
                                            <div class="search-submit" title="Search">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row" data-mc-content-body="True">
                            <div class="TopBarLeftRight">
                                <div data-mc-conditions="SFDC-syndication.not-for-sfdc">
                                    <div id="feedback"><a href="mailto:okta-docs@okta.com?Subject=Feedback%20for%20OktaDocs"><img src="../../Resources/Images/okta-assets/feedback-button.png" /></a>
                                    </div>
                                </div>
                                <div data-mc-conditions="SFDC-syndication.not-for-sfdc">
                                </div>
                                <div>
                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: CollapseAll ExpandAll;">
                                        <div class="button-group-container-left">
                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                            </button>
                                            <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                            </button>
                                            <button class="button needs-pie next-topic-button" title="Navigate next">
                                                <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="LeftRightMenu">
                                <div>
                                    <ul class="nocontent menu _Skins_okta_relnote_menu mc-component" data-mc-linked-toc="Data/Tocs/okta_relnotesTOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                    </ul>
                                </div>
                                <div>
                                    <p>Citrix Netscaler Gateway Radius Configuration Guide</p>
                                    <p>Overview</p>
                                    <p>Citrix NetScaler Gateway integrates with Okta both directly using <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.</span></a> or oAuth and indirectly using RADIUS. Using the Okta RADIUS <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a> allows for authentication, including support for MFA to happen directly at the NetScaler Gateway login page. For authentication, the agent translates RADIUS authentication requests from NetScaler into Okta API calls that provide for user authentication. This guide explains how to configure Citrix NetScaler Gateway to use the Okta RADIUS Agent.</p>
                                    <p>This guide has been verified with the following NetScaler Gateway versions:</p>
                                    <ul>
                                        <li value="1">Version 10.5.x</li>
                                        <li value="2">Version 11.0.x</li>
                                        <li value="3">Version 11.1.x</li>
                                    </ul>
                                    <p>The following Citrix clients have been validated:</p>
                                    <ul>
                                        <li value="1">Citrix Web Receiver</li>
                                        <li value="2">Citrix Windows \ Mac Receiver</li>
                                        <li value="3">Citrix iOS \ Android Receiver</li>
                                    </ul>
                                    <p>Supported Okta Features</p>
                                    <p>The following Okta features are supported:</p>
                                    <ul>
                                        <li value="1">Authentication with Okta Credentials via RADIUS	</li>
                                        <li value="2">Authentication with Okta Credentials via SAML	</li>
                                        <li value="3">Multi-factor authentication via RADIUS	</li>
                                        <li value="4">Multi-factor authentication via SAML	</li>
                                        <li value="5">Group memberships/Attributes via RADIUS – NetScaler passes the username and password to storefront for AD group permissions</li>
                                    </ul>
                                    <p>Configuring Okta</p>
                                    <p>Complete the following two steps in Okta:</p>
                                    <ol>
                                        <li value="1">Download and install the RADIUS agent according to  <a href="../Directory/Agent_Installing_the_Okta_Radius_Agent.htm">Install the Okta Radius Agent</a>.</li>
                                        <li value="2">Download and install the AD agent according to Configure the Okta Active Directory Agent.</li>
                                    </ol>
                                    <p>The Okta username prefix must match the AD user account name.</p>
                                    <p>For example if the AD account is JSMITH in the CORP domain and her NTLM is CORP/JSMITH and her UPN is jsmith@corp.local, then in Okta her username, which is always an email address, must be jsmith@&lt;something&gt;. The Okta login name suffix and AD FQDN suffix do not have to match but the prefix of the Okta login must match the AD username as NetScaler uses impersonation to pass the credentials the user enters to pass onto Citrix Storefront and Storefront must be able to match those credentials to AD.</p>
                                    <p>Configuring Citrix NetScaler</p>
                                    <p>Process Overview</p>
                                    <p>If there is not currently a Gateway VIP configured, consult this link- http://docs.citrix.com/en-us/netscaler-gateway/10-5/ng-xa-xd-integration-edocs-landing.html.</p>
                                    <p>Create a RADIUS authentication policy.</p>
                                    <p>Bind the RADIUS policy as the only primary policy to the gateway VIP.</p>
                                    <p>Procedures</p>
                                    <p>Log into the Citrix NetScaler <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> interface with admin rights.</p>
                                    <p>Navigate to the Configuration tab</p>
                                    <p>From the Configurationpage, select + NetScaler Gateway + Policies + Authentication  + RADIUS.</p>
                                    <p>In the main body configuration for RADIUS select the Servers tab.</p>
                                    <p>Click the Add button:</p>
                                    <p>User-added image</p>
                                    <p>In the form that opens, complete all sections, selecting either Server Name” or Server IP to use to define the server running the Okta RADIUS agent. The port number and secret key can be verified in the Okta RADIUS agent admin tool.</p>
                                    <p>Click on the Details (or More) drop down and verify Password Encoding is set to pap.</p>
                                    <p>User-added image              User-added image</p>
                                    <p>The available group settings and attributes can be used for Citrix permissions if needed.</p>
                                    <p>Click OK to save the Server definition.</p>
                                    <p>Back in the RADIUS section, click on the Policies tab.</p>
                                    <p>Click on the Add button:</p>
                                    <p>User-added image</p>
                                    <p>Give the policy a name. For the Server* drop down, select the Server Entry you just created.</p>
                                    <p>In the Expression window, enter  ns_true  as the value. This will enable this policy to always be active when bound to a VIP. A more restrictive expression can be created to allow for more control over when this RADIUS policy is used and should be based on the customers need.</p>
                                    <p>Click OK to save the policy.</p>
                                    <p>User-added image</p>
                                    <p>In the left hand tree, select Virtual Servers under NetScaler Gateway section.</p>
                                    <p>Locate the virtual server you wish to bind Okta RADIUS onto.</p>
                                    <p>Highlight and select the Edit button:</p>
                                    <p>User-added image</p>
                                    <p>Scroll to the Authentication section and unbind any existing policies and close the Authentication sub-window.</p>
                                    <p>Back at the Virtual Server configuration screen, in the Authentication section, select the + (plus) on the right hand side of the section title:</p>
                                    <p>User-added image</p>
                                    <p>In the Choose Policy option select RADIUS. In the Choose Type option select Primary. Click Continue:</p>
                                    <p>User-added image</p>
                                    <p>In the Policy Binding section, click the &gt; to select the RADIUS policy you created in section 7 above. Click the radial button to the left of the policy and click OK (or Select)xx</p>
                                    <p>Set the Priority to 10 and click Bind.</p>
                                    <p>User-added image</p>
                                    <p>Now back at the Virtual Server configuration screen scroll to the end and click on Done.</p>
                                    <p>User-added image</p>
                                    <p>This completes the configuration, you can now test logins.</p>
                                    <p>​End User Experience</p>
                                    <p>Your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using chiclets to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a>' experience should continue to be similar to before, except they will be prompted for an additional validation factor after the login with their AD credentials.</p>
                                    <p>If they only have one MFA option setup, regardless of how many they have available to use they will only see that one active MFA after they login. NetScaler Gateway does not allow for the setup of MFA methods.</p>
                                    <p>If they have multiple MFA options currently setup, they will first be prompted with a request to select their authentication method. They should only enter the number corresponding to their preferred choice. They will then be prompted with that authentication choice to complete.</p>
                                    <p>&#160;</p>
                                    <p>End User Experience: Single-choice MFA Authentication</p>
                                    <p>Navigate to your VPN URL.</p>
                                    <p>Enter the Okta username and password.</p>
                                    <p>Click Logon.</p>
                                    <p>Answer the Okta MFA challenge.</p>
                                    <p>End User Experience – Multi-choice MFA Authentication</p>
                                    <p>Navigate to your VPN URL.</p>
                                    <p>Enter Okta username and password.</p>
                                    <p>Click Logon.</p>
                                    <p>Respond to the MFA Choice screen.</p>
                                    <p>Answer the chosen MFA challenge.</p>
                                    <p>&#160;</p>
                                    <p>End User Experience – MFA Methods Validated and Supported</p>
                                    <p>Okta Verify Mobile <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">App<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> – Tested and validated.</p>
                                    <p>Google Authenticator mobile app – Tested and validated.</p>
                                    <p>SMS messaging – Tested and validated.</p>
                                    <p>Security Question – Tested and validated.</p>
                                    <p>Yubikey – Not yet tested.</p>
                                    <p>Learn more about MFA in the MFA End User FAQ.</p>
                                    <p>Additional Considerations</p>
                                    <p>NetScaler Gateway does not support a user’s first time Okta setup. All <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "users" as the people who serve as Okta administrators. When we refer to "end users" we are generally referring to the people who the administrators serve. That is, those who use Okta chiclets to access their apps, but have no administrative control.</span></a> using Okta MFA at NetScaler gateway must first login to their Okta portal and configure their MFA. It is possible via Rewrite policies or CCS style sheet customizations to add links to the Gateway login page to direct first time users to their Okta login portal for initial registration.</p>
                                    <p>NetScaler Gateway also does not currently have a solution for self-service password reset. Using Rewrite policies or page customizations, a link can be added to the Gateway login page to direct a user that is unable to login, to their Okta tenant password reset page.</p>
                                    <p>Additional resources</p>
                                    <p>Citrix – NetScaler Gateway setup Guide: http://docs.citrix.com/en-us/netscaler-gateway/10-5.html</p>
                                    <p>Citrix – NetScaler Rewrite policies Guide:</p>
                                    <p>http://docs.citrix.com/en-us/netscaler/10-5/ns-appexpert-con-10/ns-rewrite-wrapper-con.html</p>
                                    <p>Okta Support - Installing RADIUS:</p>
                                    <p>https://support.okta.com/help/articles/Knowledge_Article/24434913-Installing-the-Okta-RADIUS-Agent</p>
                                    <p>Okta Support - Configuring Sign-On Policies:</p>
                                    <p>https://support.okta.com/help/articles/Knowledge_Article/99245886-Configuring-Sign-On-Policies</p>
                                </div>
                                <div>
                                </div>
                            </div>
                            <div class="Footer">
                                <div>
                                    <p class="copyright">© Copyright 2017 Okta, Inc.</p>
                                </div>
                                <div>
                                    <p>&#160;</p>
                                </div>
                                <div>
                                    <p>&#160;</p>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>