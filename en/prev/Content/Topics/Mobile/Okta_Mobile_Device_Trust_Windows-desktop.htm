<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|Device Trust">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Okta Device Trust for managed Windows computers prevents unmanaged computers from accessing apps. A Device Registration Task enrolls individual workstations." /><title>Enforce Okta Device Trust for managed Windows computers | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <!-- Google Tag Manager (noscript) -->
                                <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                </noscript>
                                <!-- End Google Tag Manager (noscript) -->
                                <!-- Coveo config parameters -->
                                <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                </div>
                                <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                </div>
                                <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                </div>
                                <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                </div>
                                <!-- End Coveo config parameters -->
                                <!-- ************************* Coveo Search bar ************************************* -->
                                <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                    <div class="slds-p-vertical_small">
                                        <!--Search Bar-->
                                        <div class="slds-grid slds-grid_align-center">
                                            <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                            </div>
                                            <div id="standaloneSearchbox">
                                                <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                </div>
                                                <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                </div>
                                                <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- **********************  Main content row  ********************** -->
                                <div class="okta-topics">
                                    <!-- *** Col1: Left Nav Col *** -->
                                    <div class="is-not-in-mobile">
                                        <div data-sticky-container="" id="dx3ZpH2OiEe1Uroftu4TJw">
                                            <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="dx3ZpH2OiEe1Uroftu4TJw:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- *** Col2: Body Col *** -->
                                    <div>
                                        <div class="is-not-in-mobile">
                                            <!-- Breadcrumbs -->
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="toolbar-main">
                                            <!-- Expand/Collapse All for drop-downs -->
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="body-main">
                                            <!-- Main content body -->
                                            <h1><a name="top"></a>Enforce Okta Device Trust for managed Windows computers</h1>
                                            <hr width="100%" size="0" align="center" />
                                            <p>Okta Device Trust for Windows allows you to prevent unmanaged Windows computers from accessing corporate <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.

Here's how SAML works through Okta:

SP-initiated flow: the end user requests (principally through a browser) a service from the SP. The SP requests and obtains an identity assertion from the IdP (in this case, Okta). On the basis of this assertion, the SP can decide whether or not to authorize or authenticate the service for the end user.
IdP-initiated flow: with Okta as the IdP, an end user goes to the Okta browser and clicks on a chiclet, sending a SAMLResponse to the configured SP. A session is established with the SP, and the end user is authenticated.</span></a> and WS-Fed cloud apps. It works with any browser or native <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> that can access the certificate store when performing the federated authentication flow to Okta. This includes Edge, Internet Explorer, Chrome, and Microsoft Office clients that support Modern Authentication. </p>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Diagram — device authentication and certificate flow</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>
                                                        <img src="../../Resources/Images/DT Flow_80per_3.png" />
                                                    </p>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Key benefits</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ul>
                                                        <li value="1">Ensures that only <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using chiclets to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a> on <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a>-joined Windows computers can seamlessly <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a> into SAML and WS-Fed cloud apps</li>
                                                        <li value="2">
                        Protects enterprise data even when there is no defined network boundary</li>
                                                        <li value="3">Provides a frictionless end user experience by utilizing the Okta Certificate Authority
</li>
                                                        <li value="4">Support for Device Trust enrollment in multi-forest environments. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="font-style: italic;" data-mc-targets="multi-forest-support"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />More</a>.
					<p style="display: none;" data-mc-target-name="multi-forest-support"><i>Requires IWA web app </i><b>version 1.12.2+</b><i>. An IWA web app running in one forest can detect and assess the trust posture of Windows desktop devices located in another trusted forest and then allow these devices to enroll in Windows Device Trust</i>.</p></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />System requirements</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <h4>Client workstations</h4>
                                                    <ul>
                                                        <li value="1">Active Directory domain-joined Windows computer(s) running Microsoft Windows 7, Windows 8.1, or Windows 10.</li>
                                                        <li value="2">.NET Framework <b>version 4.5.2</b> or higher. The Device Registration Task checks whether a supported version of .NET Framework is present, and if not, installs a supported version automatically. For details, see <a href="#KnownIssues">Known Issues</a>.</li>
                                                    </ul>
                                                    <h4>Active Directory and IWA servers</h4>
                                                    <p>For details, see Okta <a href="../Directory/ad-agent-install.htm#Requirements">AD agent</a> and <a href="../Directory/Configuring_Desktop_SSO.htm#REQUIREM">IWA&#160;agent</a> documentation.</p>
                                                    <h4>IWA agent</h4>
                                                    <p><a href="../Settings/Version_Histories/Ver_History_SSO_IWA_Agent.htm">Device Trust-capable version</a> of the Okta IWA web <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a>. For installation details, see <a href="../Directory/Configuring_Desktop_SSO.htm">IWA documentation</a>.</p>
                                                    <h4>Supported browsers</h4>
                                                    <ul>
                                                        <li value="1">Microsoft Internet Explorer versions 10 and 11</li>
                                                        <li value="2">Microsoft Edge (<a href="https://en.wikipedia.org/wiki/Microsoft_Edge#Release_history">current</a> and previous release)</li>
                                                        <li value="3">Google Chrome (<a href="https://chromereleases.googleblog.com/">current</a> and previous release)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Caveats</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ul>
                                                        <li value="1"><b>Web view must have access to the device certificate store</b> — Device Trust for managed Windows computers works with any SAML/WS-Fed-enabled app that supports authentication through a webview. The web view in which authentication is performed must have access to the certificate store on the device. This includes Microsoft Office clients that support Modern Authentication, among others (for more information, see <a href="https://blogs.office.com/en-us/2015/11/19/updated-office-365-modern-authentication-public-preview/">this Microsoft article)</a>.  </li>
                                                        <li value="2"><b>Device + end user authentication requires network connection</b> — For the IWA web app to authenticate end users and devices, they must be logged-in to your company's network at the time the Device Registration Task runs. For more details, see the <a href="#InstallIWAWebApp">IWA web app</a> section below.</li>
                                                        <li value="3"><b>Device Trust enrollment not supported when Okta is read-only mode</b> — Devices that you have targeted for this Device Trust solution cannot be enrolled in Device Trust if the cell in which your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a> resides is in <a href="javascript:void(0);" class="MCTextPopup popup popupHead">read-only mode<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>A mode during which most administrative operations are disabled and a banner is displayed in the admin (not end-user) Dashboard. During read-only mode, all background jobs such as imports, OMM enrollment, OMM deprovisioning, and JIT provisioning are queued, and all are restarted when read-only mode is disabled.</span></a>.</li>
                                                        <li value="4"><b>Support for proxy server environments</b> — To ensure that this device trust solution works in environments that implement a proxy server, you must install Device Registration Task version 1.2.1 or higher through a command line and append the appropriate HttpProxy parameter to the installation command. For details, see <a href="#MSI-installation">Install the Registration Task</a>.</li>
                                                        <li value="5">
                                                            <p><b>To verify installation of the Registration Task, use an appropriate detection setting</b> — After installing the Device Registration Task on your managed Windows computers, SCCM runs a script  to verify that installation was successful. Make sure to specify either <b>File System</b> or <b>Registry</b> in your <b>Detection Rule</b>. Do not use the <b>Windows Installer</b> setting type to detect the installation, as SCCM cannot detect the Device Registration Task using that setting. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="SCCM_DT_Detect"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></p>
                                                            <p style="display: none;" data-mc-target-name="SCCM_DT_Detect">
                                                                <img src="../../Resources/Images/DT_SCCM_FileSystemDetect_421x413.png" style="width: 421;height: 413;" />
                                                            </p>
                                                        </li>
                                                        <li value="6"><b>Ensure clients can complete the MTLS handshake</b> —  If your org implements  proxy servers/proxy clients or endpoint protection software, make sure to configure them in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For details, see <a href="#MTLS-handshake">Troubleshooting</a>.</li>
                                                        <li value="7"><b>Shared-terminal scenarios not supported</b> — This Device Trust solution does not support shared-terminal scenarios in which multiple end users log in to the same domain-joined workstation.</li>
                                                        <li value="8">
                                                            <p><b>Device Trust-secured apps are shown as locked on end-user Okta Home pages</b> — End-user Okta Home pages viewed on desktop and mobile browsers (but not in Okta Mobile) display a lock icon on <u>all</u> Device Trust-secured app <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">chiclets<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The "buttons" that appear on an end user's Home page and represent each application they wish to access through Okta. Clicking the chiclet allows the end user to instantly sign in and authenticate themselves into their chosen app.</span></a> if (1) Device Trust is enabled for the org, (2) the device is not trusted, and (3) the end user tried to access <u>any</u> Device Trust-secured app from their Home page. The lock icon remains for the duration of the session.</p>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold; font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Procedures</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p>This article has four main procedures: </p>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Part Ⓐ — Enable the global Device Trust setting for your org</a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="PartA"></a>
                                                            <div style="line-height:150%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                                <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                    <ul>
                                                                        <li value="1">
                                                                            <p>Do not disable the Windows Device Trust setting on the <b>Security &gt; Device Trust</b> page if you have also configured an app sign on policy that allows trusted Windows devices. Otherwise, your Device Trust configuration will be in an inconsistent state and users with untrusted devices will not be shown the security message advising them to contact their administrator, nor the <b>Learn more</b> link to more information (if configured; for details about the link, see <a href="#LearnMoreStep">here</a>).</p>
                                                                        </li>
                                                                    </ul>
                                                                    <hr width="100%" size="0" align="center" />
                                                                </div>
                                                            </div>
                                                            <ol>
                                                                <li value="1">From the Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> Dashboard, go to <b>Security &gt;&#160;Device Trust</b>.</li>
                                                                <li value="2">Click <b>Edit</b>.</li>
                                                                <li value="3">In the <b>Windows Device Trust</b> section, select <b>Enable Windows Device Trust</b>.</li>
                                                                <li value="4"><a name="LearnMoreStep"></a>(Optional) In the <b>Learn more link</b> field, you can enter an externally-accessible redirect URL where end users with untrusted devices can find more information. The security message shown to these end users will include a <b>Learn more</b> link that redirects to your specified URL. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="DT_URL"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a><p style="display: none;" data-mc-target-name="DT_URL"><img src="../../Resources/Images/DT_Security_URLspecified_2.png" /></p><p>If you choose not to specify a URL in this <u>optional</u> field, these end users are shown the same message but without the <b>Learn more</b> link. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="DT_noURL"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></p><p style="display: none;" data-mc-target-name="DT_noURL"><img src="../../Resources/Images/DT_Security_noURLspecified_2.png" /></p></li>
                                                                <li value="5">Click <b>Save</b>.</li>
                                                                <li value="6">Proceed to Part B.</li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">Part Ⓑ  —  Enroll the Device Trust certificate on domain-joined Windows computers</span><![CDATA[
                        ]]></a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p><a name="PartB"></a>Perform the four sub-procedures in this section to ensure that the Device Trust certificate is installed successfully on domain-joined Windows computers.</p>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="background-color: #ffffff; color: #5d5d5d; font-size: 14pt;">B.1</b> <span style="font-size: 14pt;">— Install a Device Trust-supported version of the Okta IWA web app in your AD domain</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="B.1"></a><a name="InstallIWAWebApp"></a>
                                                                    <p>Okta Device Trust for Windows uses the IWA&#160;web app to confirm the security posture of Windows computers and users by validating that both are joined to your Active Directory domain (Enrollment is also supported in multi-forest environments. <a href="javascript:void(0);" class="MCTextPopup popup popupHead" style="font-style: italic;">More<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span><i>Requires IWA web app</i> <b>version 1.12.2+</b>. <i>An IWA web app running in one forest can detect and assess the trust posture of Windows desktop devices located in another trusted forest and then allow these devices to enroll in Windows Device Trust.</i></span></a>) Okta then issues a certificate to the Windows computer enabling device trust flows to Okta-federated apps. Private keys associated with the Okta certificate never leave the Windows computer. Certificates are renewed automatically once a year, approximately 30 days before they expire.</p>
                                                                    <p>The role of the IWA web app is limited to the certificate enrollment and renewal process described above. Once the certificate is installed, the Device Registration Task no longer needs to communicate with the IWA web app in order for end users to access apps. Desktop SSO does <u>not</u> need to be <b>On</b> in <b>Security &gt; Delegated Authentication</b> for Okta Device Trust for Windows desktop to function. </p>
                                                                    <ol>
                                                                        <li value="1">To download the  IWA&#160;web app, configure a link as follows:</li>
                                                                        <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow:auto;"><pre>https://&lt;org&gt;.&lt;okta/oktapreview&gt;.com/static/agents/iwa/OktaSsoIwa-x.x.x.exe</pre>
                                                                        </div>
                                                                        <div style="line-height:115%;">
                                                                            <br />
                                                                        </div>
                                                                        <p>Where:</p>
                                                                        <ul>
                                                                            <li value="1"><span style="font-family: 'Courier New'; font-weight: bold;">&lt;org&gt;</span> is the name of your org</li>
                                                                            <li value="2"><span style="font-family: 'Courier New';font-weight: bold;">&lt;okta/oktapreview&gt;</span> denotes either your Okta <i>Production</i> or <i>Preview</i> environment.</li>
                                                                            <li value="3"><span style="font-family: 'Courier New';">oktaSsoIwa-<b>x.x.x</b>.exe</span> is the version of the IWA web app that supports Device Trust for Windows. For the current Device Trust-capable version, see <a href="../Settings/Version_Histories/Ver_History_SSO_IWA_Agent.htm">SSO IWA Web App Version History</a>.</li>
                                                                        </ul>
                                                                        <p>For example, a link for downloading version 1.11.0 to the org <span style="font-family: 'Courier New'; font-weight: bold;">example.oktapreview.com</span> would look like this:</p>
                                                                        <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow:auto;"><pre>https://example.oktapreview.com/static/agents/iwa/OktaSsoIwa-1.11.0.exe</pre>
                                                                        </div>
                                                                        <li value="2">Install the Okta IWA web app as detailed in <a href="../Directory/Configuring_Desktop_SSO.htm#top">Install and Configure the Okta IWA Web App for Desktop SSO</a>.</li>
                                                                        <li value="3"><a name="Test_IWA_web_app"></a>To make sure that IWA web agent is operational, test it as <a href="../Directory/Configuring_Desktop_SSO.htm#TestingIWA">described in the guide</a>. </li>
                                                                        <li value="4"><a name="ModWebConfig"></a>If you use HTTPS for IWA, you must modify the IWA <b>web.config</b> file as follows:</li>
                                                                        <ol style="list-style-type: lower-alpha;">
                                                                            <li value="1">On the server running the IWA web agent, access the file <i>C:\inetpub\wwwroot\IWA\<b>web.config</b></i></li>
                                                                            <li value="2">Locate the section <span style="font-family: 'Courier New'; font-weight: bold;">&lt;system.serviceModel&gt;</span> and replace it with the <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="webconfigHTTPS"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />following</a>:</li>
                                                                            <div style="padding: 10px; border: 1px solid black; line-height: 2em; min-height: 50px; min-width: 100px; overflow: auto; display: none;" data-mc-target-name="webconfigHTTPS"><pre>&lt;system.serviceModel&gt;
&lt;bindings&gt;
&lt;webHttpBinding&gt;
&lt;binding name = "SecureBindingForDeviceTrust"&gt;
&lt;security mode="Transport"&gt;
&lt;transport clientCredentialType = "Windows" proxyCredentialType="Windows"/&gt;
&lt;/security&gt;
&lt;/binding&gt;
&lt;binding name = "HttpBindingForDeviceTrust"&gt;
&lt;security mode="TransportCredentialOnly"&gt;
&lt;transport clientCredentialType = "Windows" proxyCredentialType="Windows"/&gt;
&lt;/security&gt;
&lt;/binding&gt;
&lt;/webHttpBinding&gt;
&lt;/bindings&gt;
&lt;services&gt;
&lt;service name="OktaSSO.DeviceTrust" behaviorConfiguration="OktaSSO.DeviceTrustBehavior"&gt;
&lt;endpoint binding="webHttpBinding" bindingConfiguration="SecureBindingForDeviceTrust" contract="OktaSSO.IDeviceTrust" behaviorConfiguration="webHttp"/&gt;
&lt;/service&gt;
&lt;/services&gt;
&lt;behaviors&gt;
&lt;endpointBehaviors&gt;
&lt;behavior name="webHttp"&gt;
&lt;webHttp/&gt;
&lt;/behavior&gt;
&lt;/endpointBehaviors&gt;
&lt;serviceBehaviors&gt;
&lt;behavior name="OktaSSO.DeviceTrustBehavior"&gt;
&lt;!-- To avoid disclosing metadata information, set the value below to false before deployment --&gt;
&lt;serviceMetadata httpGetEnabled="false"/&gt;
&lt;!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information --&gt;
&lt;serviceDebug includeExceptionDetailInFaults="false"/&gt;
&lt;serviceCredentials&gt;
&lt;windowsAuthentication allowAnonymousLogons="False" includeWindowsGroups="True"/&gt;
&lt;/serviceCredentials&gt;
&lt;/behavior&gt;
&lt;/serviceBehaviors&gt;
&lt;/behaviors&gt;
&lt;/system.serviceModel&gt;

</pre>
                                                                            </div>
                                                                            <p><b>Note:</b> A detailed look at the values that configure HTTP or HTTPS binding are shown below:</p>
                                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b>HTTPS</b> binding configured:</a></span>
                                                                                <div class="MCDropDownBody dropDownBody"><a name="HTTPS_Binding"></a>
                                                                                    <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow-y:hidden;overflow-x:auto;"><pre>&lt;services&gt;
&lt;service name="OktaSSO.DeviceTrust" behaviorConfiguration="OktaSSO.DeviceTrustBehavior"&gt;
<strong>&lt;endpoint binding="webHttpBinding" bindingConfiguration=<font color="red">"SecureBindingForDeviceTrust"</font> contract="OktaSSO.IDeviceTrust" behaviorConfiguration="webHttp"/&gt;</strong>
&lt;/service&gt;
&lt;/services&gt;

</pre>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b>HTTP</b> binding configured:</a></span>
                                                                                <div class="MCDropDownBody dropDownBody">
                                                                                    <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow-y:hidden;overflow-x:auto;"><pre>&lt;services&gt;
&lt;service name="OktaSSO.DeviceTrust" behaviorConfiguration="OktaSSO.DeviceTrustBehavior"&gt;
&lt;<strong>endpoint binding="webHttpBinding" bindingConfiguration=<font color="red">"HttpBindingForDeviceTrust"</font> contract="OktaSSO.IDeviceTrust" behaviorConfiguration="webHttp"/</strong>&gt;
&lt;endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" /&gt;
&lt;/service&gt;
&lt;/services&gt;

</pre>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <li value="3">Save and close the <b>web.config</b> file.</li>
                                                                            <li value="4">From your Windows command prompt, restart <b>Internet Information Services (IIS)</b> by issuing the following commands:
                   
								<p style="font-family: 'Courier New';">iisreset /stop</p><p style="font-family: 'Courier New';">iisreset /start</p></li>
                                                                            <li value="5">Before proceeding, retest the IWA web app as described in <a href="../Directory/Configuring_Desktop_SSO.htm#TestingIWA">Install and Configure the IWA&#160;Web App for Desktop SSO</a>.</li>
                                                                            <li value="6">If you have not done so already, install the Device Registration Task as described in <a href="#B.2">B.2</a>.</li>
                                                                        </ol>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div style="line-height:130%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="background-color: #ffffff;color: #5d5d5d;font-size: 14pt;">B.2</b><span style="font-size: 14pt;"> — Install the Device Registration Task on domain-joined Windows computers</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="B.2"></a>
                                                                    <div style="line-height:115%;">
                                                                        <br />
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                                        <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                            <h3> Schedule the Registration Task to run when end users are on the corporate network</h3>
                                                                            <p>Once installed on domain-joined computers, the Registration Task runs: </p>
                                                                            <ul>
                                                                                <li value="1">Immediately after it is installed</li>
                                                                                <li value="2">Whenever the user logs on to the computer</li>
                                                                                <li value="3">Once every 24 hours, starting with the time that the Registration Task first ran.</li>
                                                                            </ul>
                                                                            <p>It is important that you configure your management tool to schedule the Registration Task to run when end users are on the corporate network. When the Registration Task runs, it triggers the certificate enrollment flow and creates a Scheduled Task that will run every 24 hours and whenever the user logs on to the computer. This retry behavior helps both certificate enrollment and renewal scenarios. </p>
                                                                            <h3>Automatic certificate renewal can only occur when end users are on the corporate network</h3>
                                                                            <p>Certificates are valid for one year and are renewed automatically sometime within 30 days before expiration. In order for automatic renewal to succeed, end users must be logged on to the domain-joined computer and connected to your corporate network.</p>
                                                                            <h3>Manually force certificate renewal</h3>
                                                                            <p>You can manually force certificate renewal to try to fix the following problems (requires <b>Device Registration Task 1.3.1</b> or later):</p>
                                                                            <ul>
                                                                                <li value="1">An end user's certificate was incorrectly or accidentally revoked by the admin through the Admin Console (see <a href="#Revoke">Revoke</a>). </li>
                                                                                <li value="2">The certificate was corrupted on the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a> due to accidental deletion, file corruption, or loss of the  private key.</li>
                                                                            </ul>
                                                                            <p>For details, see <a href="#force-cert-renewal" class="MCXref xref">Force certificate renewal in some circumstances</a></p>
                                                                            <h3>Automatic certificate selection</h3>
                                                                            <p>By default, the Registration Task configures registry keys on domain-joined Windows computers to allow supported <b>Chrome</b>, <b>Edge</b>, and <b>IE</b> browsers to automatically select the device trust certificate that will be presented to Okta.  If appropriate for your environment, you can disable this behavior by adding the flag <span style="font-family: 'Courier New';"><b>SkipBrowserSetup=true</b></span> to the installation command as detailed below. For example, this would be necessary if you want to configure automatic certificate selection using a <a href="#B.4">Group Policy Object (GPO) tool</a>. </p>
                                                                            <p>If you opt not to configure automatic certificate selection — either through the Registration Task or a GPO — end users are prompted to select the certificate when accessing the app. In that case, to make the selection easier for end users, only the Okta Device Trust certificate will be shown to them.</p>
                                                                            <h3>Proxy server environment</h3>
                                                                            <p>If your organization routes internet traffic through a proxy server, note the following:</p>
                                                                            <ul>
                                                                                <li value="1">You must install Device Registration Task <b>version 1.2.1</b> or higher through a command line and append the appropriate <span style="font-family: 'Courier New'; font-weight: bold;">HttpProxy</span> parameter to the installation command. For details, see <a href="#MSI-installation">Install the Registration Task</a>. </li>
                                                                                <li value="2">   If your org implements  proxy servers/proxy clients or endpoint protection software, make sure to configure them in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For details, see <a href="#MTLS-handshake">Troubleshooting</a>.</li>
                                                                            </ul>
                                                                            <h3>Certificate revocation</h3>
                                                                            <p>You may need to revoke an end user's Device Trust certificate(s) from the Okta Certificate Authority. This is recommended if the computer is lost or stolen. To re-secure an end user's computer with Device Trust after revoking their certificate(s), you need to remove the Device Trust certificate from their computer before you enroll a new certificate. Certificate revocation does <u>not</u> remove existing certificates from managed Windows computers. For details, see <a href="#PartD">Revoke and remove Device Trust certificates</a>.</p>
                                                                            <h3>Use an appropriate Setting Type in SCCM to verify Device Registration Task installation</h3>
                                                                            <p>After installing the Device Trust client on your managed Windows computers, SCCM runs a script  to verify that installation was successful. Make sure to specify either <b>File System</b> or <b>Registry</b> in your <b>Detection Rule</b>. Do not use the <b>Windows Installer</b> setting type to detect the installation, as SCCM cannot detect the Device Trust client using that setting. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="SCCM_DT_Detect"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></p>
                                                                            <p style="display: none;" data-mc-target-name="SCCM_DT_Detect">
                                                                                <img src="../../Resources/Images/DT_SCCM_FileSystemDetect_421x413.png" style="width: 421;height: 413;" />
                                                                            </p>
                                                                            <hr width="100%" size="0" align="center" />
                                                                        </div>
                                                                    </div>
                                                                    <div style="line-height:130%;">
                                                                        <br />
                                                                    </div>
                                                                    <p>The Registration Task is available from the Downloads page in <i>.msi</i> and <i>.exe</i> formats.</p>
                                                                    <ol>
                                                                        <li value="1">From the Admin console, go to <b>Settings &gt;&#160;Downloads</b>.</li>
                                                                        <li value="2">Scroll to <b>Okta Device Trust Windows Agents</b> and then click  <b>Download Latest</b> for the type of installer you want (<i>.msi</i> or <i>.exe</i>).</li>
                                                                        <li value="3">Install the Registration Task in either of the following ways:
                                        <div style="line-height:115%;"><br /></div><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><p><a name="InstallRegTask_WinDT"></a> </p><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Distribute the Registration Task using a management tool (SCCM)</a></span><div class="MCDropDownBody dropDownBody"><p><a name="DistributeInstaller"></a>Follow your organization's procedure for distributing software to domain-joined workstations. If your organization uses SCCM, you may want to refer to the Microsoft article <a href="https://technet.microsoft.com/en-us/library/gg682082.aspx">How to Deploy Applications in Configuration Manager</a>. Execute the appropriate command for <span style="font-family: 'Courier New';">*.exe</span> or <span style="font-family: 'Courier New';">*.msi</span> installation.</p><p><b>Note:</b> <i>Make sure to replace the filename and the org name in the command provided below with the actual filename and your org name</i>.</p><h4 style="text-decoration: underline;"><a name="MSI-installation"></a>MSI installation</h4><p style="background-color: #E6E6E8;"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="proxyserver_msi-1"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="color: #0000ff;">Using a proxy server?</b></a></p><div style="display: none;" data-mc-target-name="proxyserver_msi-1"><div style="clear: none;mc-float: none;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;border-left-style: solid;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: auto;height: auto;background-color: #f9f9f9;border-left-width: 8px;border-color: #f1d10d;border-top: solid 2px #eaeaea;border-right-color: #eaeaea;border-bottom-color: #eaeaea;margin-bottom: 10px;margin-top: 10px;padding-left: 20px;padding-bottom: 10px;padding-right: 10px;padding-top: 10px;border:;"><h2>About the Device Registration Task and proxy servers</h2><p>If your organization routes internet traffic through a proxy server, you must do the following:</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Use a command line to install the Device Registration Task and include parameters</a></span><div class="MCDropDownBody dropDownBody"><p>Install Device Registration Task <b>version 1.2.2+</b>&#160;through a command line and append the appropriate <span style="font-family: 'Courier New';">HttpProxy</span> parameter to the installation command. This is necessary because the Registration Task installer installs these two scheduled tasks:</p><ul><li value="1">A <i>user task</i> that runs as the logged-in user.</li><li value="2">A <i>device task</i> that runs as a network service. If you set up your proxy server(s) as part of your Internet Explorer (IE) configuration, the device task does not detect your IE settings unless you specify that behavior through a command line as shown in the examples below.</li></ul><p>Include the parameter appropriate for your environment:</p><h4><span style="color: #4cd882;">Proxy server environments</span></h4><p style="font-family: 'Courier New';"><b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b></p><p>For example, the installation command that includes the proxy server parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b>"</div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><h4><span style="color: #4cd882;">Proxy Auto-Configuration (PAC) environments</span></h4><p> <b><span style="color: #007DC1;">① Specify the PAC location</span></b></p><p /><p style="font-family: 'Courier New';font-weight: bold;"><b>HttpProxyPacLocation=http://mypacfile.url.location</b></p><p>For example, the installation command that includes the PAC&#160;location parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b>HttpProxyPacLocation=http://mypacfile.url.location</b>"</div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><div style="line-height:115%;"><br /></div><p><b><span style="color: #007DC1;">② Whitelist your Okta org (optional)</span></b></p><p>If you implement a PAC file in your proxy environment, consider whitelisting your Okta org by adding an exception to the PAC file like this:</p><p style="font-family: 'Courier New';font-weight: bold;">if(localHostOrDomainIs(host,"*.okta.com"))</p><p style="font-family: 'Courier New';font-weight: bold;">{ return "DIRECT"; }</p><div style="line-height:115%;"><br /></div><hr /></div></div><div style="line-height:90%;"><br /></div><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Ensure clients can complete the MTLS handshake</a></span><div class="MCDropDownBody dropDownBody"><div><p data-mc-conditions="SnippetConditionsForDevices.Windows Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below). Make sure to configure  proxy servers/proxy clients, as well as any endpoint protection software you may implement, in a way that does not block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><div style="margin-left: 55px;"><p><b>*.okta.com</b></p><p><b>*.okta-emea.com</b></p></div></div></div></div></div></div><p style="line-height: 150%;"><br /></p><p>With automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;"</div></div></div><p style="line-height: 150%;"><br /></p><p><span style="color: #ff4500;">Without</span> automatic certificate challenge handling. </p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b><span style="color: #ff4500;">SkipBrowserSetup=true</span></b>"</div></div></div><p style="line-height: 150%;"><br /></p><a name="EXE-installation"></a><h4 style="text-decoration: underline;">EXE installation</h4><p style="background-color: #E6E6E8;"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="proxyserver_exe-1"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="color: #0000ff;">Using a proxy server?</b></a></p><div style="display: none;" data-mc-target-name="proxyserver_exe-1"><div style="clear: none;mc-float: none;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;border-left-style: solid;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: auto;height: auto;background-color: #f9f9f9;border-left-width: 8px;border-color: #f1d10d;border-top: solid 2px #eaeaea;border-right-color: #eaeaea;border-bottom-color: #eaeaea;margin-bottom: 10px;margin-top: 10px;padding-left: 20px;padding-bottom: 10px;padding-right: 10px;padding-top: 10px;border:;"><h2>About the Device Registration Task and proxy servers</h2><p>If your organization routes internet traffic through a proxy server, you must do the following:</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Use a command line to install the Device Registration Task and include parameters</a></span><div class="MCDropDownBody dropDownBody"><p>Install Device Registration Task <b>version 1.2.2+</b>&#160;through a command line and append the appropriate <span style="font-family: 'Courier New';">HttpProxy</span> parameter to the installation command. This is necessary because the Registration Task installer installs these two scheduled tasks:</p><ul><li value="1">A <i>user task</i> that runs as the logged-in user.</li><li value="2">A <i>device task</i> that runs as a network service. If you set up your proxy server(s) as part of your Internet Explorer (IE) configuration, the device task does not detect your IE settings unless you specify that behavior through a command line as shown in the examples below.</li></ul><p>Include the parameter appropriate for your environment:</p><h4><span style="color: #4cd882;">Proxy server environments</span></h4><p style="font-family: 'Courier New';"><b>HttpProxy=https://&lt;your proxy http url&gt;:&lt;port number&gt;</b></p><p>For example, the installation command that includes the proxy server parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com <b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b></div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><h4><span style="color: #4cd882;">Proxy Auto-Configuration (PAC) environments</span></h4><p><b><span style="color: #007DC1;">① Specify the PAC location</span></b></p><p /><p style="font-family: 'Courier New';font-weight: bold;"><b>HttpProxyPacLocation=http://mypacfile.url.location</b></p><p>For example, the installation command that includes the PAC&#160;location parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com <b>HttpProxyPacLocation=http://mypacfile.url.location</b></div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><div style="line-height:115%;"><br /></div><p><b><span style="color: #007DC1;">② Whitelist your Okta org (optional)</span></b></p><p>If you implement a PAC file in your proxy environment, consider whitelisting your Okta org by adding an exception to the PAC file like this:</p><p style="font-family: 'Courier New';font-weight: bold;">if(localHostOrDomainIs(host,"*.okta.com"))</p><p style="font-family: 'Courier New';font-weight: bold;">{ return "DIRECT"; }</p><div style="line-height:115%;"><br /></div><hr /></div></div><div style="line-height:90%;"><br /></div><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Ensure clients can complete the MTLS handshake</a></span><div class="MCDropDownBody dropDownBody"><div><p data-mc-conditions="SnippetConditionsForDevices.Windows Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below). Make sure to configure  proxy servers/proxy clients, as well as any endpoint protection software you may implement, in a way that does not block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><div style="margin-left: 55px;"><p><b>*.okta.com</b></p><p><b>*.okta-emea.com</b></p></div></div></div></div></div></div><p style="line-height: 150%;"><br /></p><p>With automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com</div></div></div><p style="line-height: 150%;"><br /></p><p style="text-decoration: none;"><span style="color: #ff4500;">Without </span>automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com/ <span style="color: #ff4500;"><b>SkipBrowserSetup=true</b></span></div></div></div></div></div><p style="font-weight: bold;">– or –</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Manually install the Registration Task</a></span><div class="MCDropDownBody dropDownBody"><p>This procedure is provided in case you want to install the Registration Task manually during the testing or Proof of Concept phase of your implementation. </p><ol style="list-style-type: lower-alpha;"><li value="1">Copy the Registration Task to the domain-joined Windows computer.</li><li value="2">Run the command prompt as an Administrator. </li><ol style="list-style-type: lower-roman;"><li value="1">Click <b>Start</b>.</li><li value="2">In the search box, type <b>cmd</b>, and then press <b>CTRL+SHIFT+ENTER</b>.								</li></ol><li value="3">Change directories to the location of the file. </li><li value="4">Issue the command appropriate for the file type:</li><p><b>Note:</b> <i>Make sure to replace the filename and the org name in the example command below with the actual file name and org name</i>.</p><h4 style="text-decoration: underline;"><a name="proxy-server-msi-2"></a>MSI installation</h4><p style="background-color: #E6E6E8;"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="proxyserver_msi-2"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="color: #0000ff;">Using a proxy server?</b></a></p><div style="display: none;" data-mc-target-name="proxyserver_msi-2"><div style="clear: none;mc-float: none;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;border-left-style: solid;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: auto;height: auto;background-color: #f9f9f9;border-left-width: 8px;border-color: #f1d10d;border-top: solid 2px #eaeaea;border-right-color: #eaeaea;border-bottom-color: #eaeaea;margin-bottom: 10px;margin-top: 10px;padding-left: 20px;padding-bottom: 10px;padding-right: 10px;padding-top: 10px;border:;"><h2>About the Device Registration Task and proxy servers</h2><p>If your organization routes internet traffic through a proxy server, you must do the following:</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Use a command line to install the Device Registration Task and include parameters</a></span><div class="MCDropDownBody dropDownBody"><p>Install Device Registration Task <b>version 1.2.2+</b>&#160;through a command line and append the appropriate <span style="font-family: 'Courier New';">HttpProxy</span> parameter to the installation command. This is necessary because the Registration Task installer installs these two scheduled tasks:</p><ul><li value="1">A <i>user task</i> that runs as the logged-in user.</li><li value="2">A <i>device task</i> that runs as a network service. If you set up your proxy server(s) as part of your Internet Explorer (IE) configuration, the device task does not detect your IE settings unless you specify that behavior through a command line as shown in the examples below.</li></ul><p>Include the parameter appropriate for your environment:</p><h4><span style="color: #4cd882;">Proxy server environments</span></h4><p style="font-family: 'Courier New';"><b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b></p><p>For example, the installation command that includes the proxy server parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b>"</div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><h4><span style="color: #4cd882;">Proxy Auto-Configuration (PAC) environments</span></h4><p> <b><span style="color: #007DC1;">① Specify the PAC location</span></b></p><p /><p style="font-family: 'Courier New';font-weight: bold;"><b>HttpProxyPacLocation=http://mypacfile.url.location</b></p><p>For example, the installation command that includes the PAC&#160;location parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b>HttpProxyPacLocation=http://mypacfile.url.location</b>"</div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><div style="line-height:115%;"><br /></div><p><b><span style="color: #007DC1;">② Whitelist your Okta org (optional)</span></b></p><p>If you implement a PAC file in your proxy environment, consider whitelisting your Okta org by adding an exception to the PAC file like this:</p><p style="font-family: 'Courier New';font-weight: bold;">if(localHostOrDomainIs(host,"*.okta.com"))</p><p style="font-family: 'Courier New';font-weight: bold;">{ return "DIRECT"; }</p><div style="line-height:115%;"><br /></div><hr /></div></div><div style="line-height:90%;"><br /></div><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Ensure clients can complete the MTLS handshake</a></span><div class="MCDropDownBody dropDownBody"><div><p data-mc-conditions="SnippetConditionsForDevices.Windows Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below). Make sure to configure  proxy servers/proxy clients, as well as any endpoint protection software you may implement, in a way that does not block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><div style="margin-left: 55px;"><p><b>*.okta.com</b></p><p><b>*.okta-emea.com</b></p></div></div></div></div></div></div><p style="line-height: 150%;"><br /></p><p>With automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;"</div></div></div><p style="line-height: 150%;"><br /></p><p><span style="color: #ff4500;">Without</span> automatic certificate challenge handling. </p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>msiexec /i OktaDeviceRegistrationTaskSetup-1.x.x-xxxxxxx INSTALLDIR="c:\Program Files\Okta\DeviceTrust" EXEOPTIONS="/q2 OktaURL=https://&lt;your Okta org&gt;/ <b><span style="color: #ff4500;">SkipBrowserSetup=true</span></b>"</div></div></div><p style="line-height: 150%;"><br /></p><h4 style="text-decoration: underline;">EXE installation</h4><a name="proxy-server-exe-2"></a><p style="background-color: #E6E6E8;"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="proxyserver_exe-2"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="color: #0000ff;">Using a proxy server?</b></a></p><div style="display: none;" data-mc-target-name="proxyserver_exe-2"><div style="clear: none;mc-float: none;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;border-left-style: solid;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: auto;height: auto;background-color: #f9f9f9;border-left-width: 8px;border-color: #f1d10d;border-top: solid 2px #eaeaea;border-right-color: #eaeaea;border-bottom-color: #eaeaea;margin-bottom: 10px;margin-top: 10px;padding-left: 20px;padding-bottom: 10px;padding-right: 10px;padding-top: 10px;border:;"><h2>About the Device Registration Task and proxy servers</h2><p>If your organization routes internet traffic through a proxy server, you must do the following:</p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Use a command line to install the Device Registration Task and include parameters</a></span><div class="MCDropDownBody dropDownBody"><p>Install Device Registration Task <b>version 1.2.2+</b>&#160;through a command line and append the appropriate <span style="font-family: 'Courier New';">HttpProxy</span> parameter to the installation command. This is necessary because the Registration Task installer installs these two scheduled tasks:</p><ul><li value="1">A <i>user task</i> that runs as the logged-in user.</li><li value="2">A <i>device task</i> that runs as a network service. If you set up your proxy server(s) as part of your Internet Explorer (IE) configuration, the device task does not detect your IE settings unless you specify that behavior through a command line as shown in the examples below.</li></ul><p>Include the parameter appropriate for your environment:</p><h4><span style="color: #4cd882;">Proxy server environments</span></h4><p style="font-family: 'Courier New';"><b>HttpProxy=https://&lt;your proxy http url&gt;:&lt;port number&gt;</b></p><p>For example, the installation command that includes the proxy server parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com <b>HttpProxy=http://&lt;your proxy http url&gt;:&lt;port number&gt;</b></div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><h4><span style="color: #4cd882;">Proxy Auto-Configuration (PAC) environments</span></h4><p><b><span style="color: #007DC1;">① Specify the PAC location</span></b></p><p /><p style="font-family: 'Courier New';font-weight: bold;"><b>HttpProxyPacLocation=http://mypacfile.url.location</b></p><p>For example, the installation command that includes the PAC&#160;location parameter would look similar to this:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.0.0-XXXX.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com <b>HttpProxyPacLocation=http://mypacfile.url.location</b></div></div></div><p><b>Note:</b> Make sure to add a space if you are also adding the parameter to disable automatic certificate handling. </p><div style="line-height:115%;"><br /></div><p><b><span style="color: #007DC1;">② Whitelist your Okta org (optional)</span></b></p><p>If you implement a PAC file in your proxy environment, consider whitelisting your Okta org by adding an exception to the PAC file like this:</p><p style="font-family: 'Courier New';font-weight: bold;">if(localHostOrDomainIs(host,"*.okta.com"))</p><p style="font-family: 'Courier New';font-weight: bold;">{ return "DIRECT"; }</p><div style="line-height:115%;"><br /></div><hr /></div></div><div style="line-height:90%;"><br /></div><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Ensure clients can complete the MTLS handshake</a></span><div class="MCDropDownBody dropDownBody"><div><p data-mc-conditions="SnippetConditionsForDevices.Windows Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below). Make sure to configure  proxy servers/proxy clients, as well as any endpoint protection software you may implement, in a way that does not block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this Device Trust flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p><div style="margin-left: 55px;"><p><b>*.okta.com</b></p><p><b>*.okta-emea.com</b></p></div></div></div></div></div></div><p style="line-height: 150%;"><br /></p><p>With automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.x.x-xxxx.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com</div></div></div><div style="line-height:150%;"><br /></div><p style="text-decoration: none;"><span style="color: #ff4500;">Without </span>automatic certificate challenge handling:</p><div class="terminal"><div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span></div><div class="terminal-content"><div>OktaDeviceRegistrationTaskSetup-1.x.x-xxxx.exe /q2 OktaURL=https://&lt;your-okta-org-url&gt;.com/ <span style="color: #ff4500;"><b>SkipBrowserSetup=true</b></span></div></div></div></ol></div></div></li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div style="line-height:130%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="background-color: #ffffff;color: #5d5d5d;font-size: 14pt;">B.3</b><span style="font-size: 14pt;"> — Verify certificate enrollment before you configure the Trusted option in App Sign On Policy rules</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="B.3"></a>
                                                                    <div style="line-height:130%;">
                                                                        <br />
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                                        <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                            <p>Before you configure the <b>Trusted</b> option for apps in App Sign On Policy rules, you must make sure that certificates are installed in the certificate store on the domain-joined computers you have targeted for this Device Trust solution. If certificates are not installed and the Trusted setting is enabled, users are denied access to the app and are redirected to a security message advising them to contact their administrator. (You can configure the message to include a <b>Learn more</b> link to more information. For details, see <a href="#LearnMoreStep">here</a>). To verify certificate enrollment, Okta recommends that you use your management tool to parse the <b>Windows Event Viewer</b>, or use a command line to query the user certificate store directly. Look for <b>Okta MTLS certificate</b>.</p>
                                                                            <p><b>Note:</b> If an end user is deactivated, all device trust certificates installed on their domain-joined Windows computer(s) are revoked (but not removed) automatically. To remove revoked certificates, see <a href="#PartD">Revoke and remove Device Trust certificates</a>.</p>
                                                                            <hr width="100%" size="0" align="center" />
                                                                        </div>
                                                                    </div>
                                                                    <div style="line-height:130%;">
                                                                        <br />
                                                                    </div>
                                                                    <p>Though you will probably use a management tool to verify that certificates are installed on multiple domain-joined computers, here are two ways to check enrollment on a single computer:</p>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Verify with Windows Event Viewer</a></span>
                                                                        <div class="MCDropDownBody dropDownBody"><a name="WinEventViewer"></a>
                                                                            <ol>
                                                                                <li value="1">Go to <b>Start</b> and type <b>event</b> in the search field.</li>
                                                                                <li value="2">When <b>Event Viewer</b> appears at the top of the <b>Start</b> menu, press <b>Enter</b> to open it.</li>
                                                                                <li value="3">Expand <b>Applications and Services Logs</b>.</li>
                                                                                <li value="4">Click <b>Okta Device Trust</b> and find Event ID&#160;1000. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="Verify_EvntVwr"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="Verify_EvntVwr">
                                                                                    <img src="../../Resources/Images/Verify_WindowsEventVwr.png" />
                                                                                </p>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Verify with Microsoft Management Console
										</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <ol><a name="VerifyCert_MMC"></a>
                                                                                <li value="2">Go to <b>Start</b> and type <b>mmc</b> in the search field to open the console.</li>
                                                                                <li value="3">Go to <b>File</b> and click <b>Add/Remove Snap-in</b>.</li>
                                                                                <li value="4">Select <b>Certificates</b> and then click <b>Add</b>.</li>
                                                                                <li value="5">In the  <b>Certificates snap-in</b> dialog box, select <b>My user account</b>.</li>
                                                                                <li value="6">Click <b>Finish</b>.</li>
                                                                                <li value="7">Click <b>OK</b>.</li>
                                                                                <li value="8">Under <b>Console Root</b>, expand  <b>Certificates - Current User</b>.</li>
                                                                                <li value="9">Expand the <b>Personal</b> folder, click <b>Certificates</b> and see the <b>Okta MTLS certificate</b>. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="VerifyMsftConsole"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="VerifyMsftConsole">
                                                                                    <img src="../../Resources/Images/Verify_MSFTMgmtConsole2.png" />
                                                                                </p>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div style="line-height:150%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b style="background-color: #ffffff;color: #5d5d5d;font-size: 14pt;">B.4</b><span style="font-size: 14pt;"> — (Optional) Use GPO to configure browsers to select the certificate automatically</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p><a name="B.4"></a>If appropriate for your environment, you can use a Group Policy Object (GPO)&#160;tool <u>instead of</u> the default capability of the Device Registration Task to configure browsers to automatically select the device trust certificate. If you use a GPO&#160;tool, make sure that you have added the flag <span style="font-family: 'Courier New';"><b>SkipBrowserSetup=true</b></span> to the Registration Task installation command as detailed in <a href="#B.1">section B.1</a>. </p>
                                                                    <p>If you opt not to configure automatic certificate selection — either through the Registration Task or a GPO — end users are prompted to select the certificate when accessing the app. To make the selection easier for end users, only the Okta Device Trust certificate will be shown to them  in this case.</p>
                                                                    <p><b>Note:</b> Depending on the refresh interval, changes you make using GPO may not be seen immediately on Windows client computers. For more information, see the Microsoft article <a href="https://technet.microsoft.com/en-us/library/cc940895.aspx">Group Policy refresh interval for computers</a>.
                                </p>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To configure Chrome to select the Device&#160;Trust certificate automatically</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <ol>
                                                                                <li value="1">Download <a href="https://dl.google.com/dl/edgedl/chrome/policy/policy_templates.zip">policy templates</a>.</li>
                                                                                <li value="2">Extract the zip file to the Desktop of the Active Directory Domain Controller.</li>
                                                                                <li value="3">Copy files to folders: </li>
                                                                                <p><u>Copy:</u>
                                                                                </p>
                                                                                <p>C:\end users\Administrator\Desktop\policy_templates\windows\admx\en-US<b>\chrome.adml</b></p>
                                                                                <p><u>To:</u>
                                                                                </p>
                                                                                <p><b>C:\Windows\PolicyDefinitions\en-US\</b>
                                                                                </p>
                                                                                <div style="line-height:125%;">
                                                                                    <br />
                                                                                </div>
                                                                                <p><u>Copy:</u>
                                                                                </p>
                                                                                <p>C:\end users\Administrator\Desktop\policy_templates\windows\admx\<b>chrome.admx</b></p>
                                                                                <p><u>To:</u>
                                                                                </p>
                                                                                <p><b>C:\Windows\PolicyDefinitions\</b>
                                                                                </p>
                                                                                <div style="line-height:110%;">
                                                                                    <br />
                                                                                </div>
                                                                                <li value="4">Open the Group Policy Management Console (GMPC).</li>
                                                                                <ol style="list-style-type: lower-alpha;">
                                                                                    <li value="1">In the <b>Start</b> menu type <b>Run</b>.</li>
                                                                                    <li value="2">In <b>Run</b>, type <b>gpmc.msc</b>.</li>
                                                                                </ol>
                                                                                <li value="5">
										Expand to the appropriate domain, navigate to <b>Group Policy Objects</b>, right click <b>Default Domain Policy</b>, and then click <b>Edit</b>.
									<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="GPCM_Edit"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="GPCM_Edit">
                                                                                    <img src="../../Resources/Images/GPCM_1_602x402.png" style="width: 602;height: 402;" />
                                                                                </p>
                                                                                <li value="6">Navigate to <b>Computer Configuration &gt; Policies &gt; Administrative Templates: Policy definitions (ADMX files) retrieved from the local computer &gt; Google Chrome &gt; Content Settings</b>.</li>
                                                                                <li value="7">In the right pane click <b>Automatically select client certificate for these sites</b>, and then under <b>Content Settings</b>, click <b>Edit <u>policy setting</u></b>. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="AutoSelectChrome"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="AutoSelectChrome">
                                                                                    <img src="../../Resources/Images/GPCM_2.png" />
                                                                                </p>
                                                                                <li value="8">In the dialog box that opens, click <b>Enabled</b>.</li>
                                                                                <li value="9">Under <b>Options</b>, click <b>Show</b>.</li>
                                                                                <li value="10">In the <b>Show Contents</b> dialog box, enter  a value that specifies the subdomain of your org and indicates whether it applies to your <i>Preview</i> or <i>Production</i> org. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="ShowSites"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="ShowSites">
                                                                                    <img src="../../Resources/Images/GPCM_3.png" />
                                                                                </p>
                                                                                <P>For example:</P>
                                                                                <p> If your Okta <b style="text-decoration: underline;">Preview</b> org URL is <i>https://[*.]oktapreview.com</i>, you would enter the following value:</p>
                                                                                <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow:auto;"><pre>{"pattern":"https://[*.]<b>oktapreview</b>.com","filter":{"ISSUER":{"CN":"MTLS Certificate Authority"}}} </pre>
                                                                                </div>
                                                                                <div style="line-height:150%;">
                                                                                    <p>If your Okta <b style="text-decoration: underline;">Production</b> org URL is <i>https://[*.]okta.com</i>, you would enter the following value:</p>
                                                                                </div>
                                                                                <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow:auto;"><pre>{"pattern":"https://[*.]<b>okta</b>.com","filter":{"ISSUER":{"CN":"MTLS Certificate Authority"}}}</pre>
                                                                                </div>
                                                                                <li value="11">Click <b>OK</b>. </li>
                                                                                <li value="12">Confirm that auto certificate settings are configured:</li>
                                                                                <ol style="list-style-type: lower-alpha;">
                                                                                    <li value="1">Refresh GPO, either by waiting for the next GPO refresh interval, or by issuing the <span style="font-family: 'Courier New';">gpupdate</span> command.
										</li>
                                                                                    <li value="2">In Chrome, enter <i>chrome://policy</i> in the address bar, and then press <b>Enter</b>. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="VerifyPolicy"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                    <p style="display: none;" data-mc-target-name="VerifyPolicy">
                                                                                        <img src="../../Resources/Images/VerifyPolicy_Chrome.png" />
                                                                                    </p>
                                                                                    <li value="3">Click <b>Show value</b> and verify that the policy <b>AutoSelectCertificateForUrls</b> displays this value: </li>
                                                                                    <div style="padding:10px;border:1px solid black;line-height:2em;min-height:23px;min-width:100px;overflow:auto;"><pre>{"pattern":"https://[*.]oktapreview.com","filter":{"ISSUER":{"CN":"MTLS Certificate Authority"}}}</pre>
                                                                                    </div>
                                                                                </ol>
                                                                                <p>You can also confirm settings through the Windows <b>Registry Editor</b>:</p>
                                                                                <ol style="list-style-type: lower-alpha;" data-mc-continue="true">
                                                                                    <li value="4">Go to <b>Start</b> and type <b>regedit</b> in the search field</li>
                                                                                    <li value="5">In Registry Editor, navigate to:</li>
                                                                                    <p> <span style="font-family: 'Courier New';">HKEY_LOCAL_MACHINE &gt;&#160;SOFTWARE &gt;&#160;Policies &gt;&#160;Google &gt;&#160;Chrome &gt;&#160;AutoSelectCertificateForUrls</span> <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="VerifyRegedit"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></p>
                                                                                    <p style="display: none;" data-mc-target-name="VerifyRegedit">
                                                                                        <img src="../../Resources/Images/VerifyPolicy_Regedit.png" />
                                                                                    </p>
                                                                                </ol>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To configure IE to select the Device&#160;Trust certificate automatically</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <ol>
                                                                                <li value="1">From the Active Directory Domain Controller, open the Group Policy Management Console (GMPC).</li>
                                                                                <ol style="list-style-type: lower-alpha;">
                                                                                    <li value="1">In the <b>Start</b> menu type <b>Run</b>.</li>
                                                                                    <li value="2">In <b>Run</b>, type <b>gpmc.msc</b> and then press <b>Enter</b>.</li>
                                                                                </ol>
                                                                                <li value="2">
										Expand to the appropriate domain, navigate to <b>Group Policy Objects</b>, right click on <b>Default Domain Policy</b>, and then click <b>Edit</b>.
									<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="GPCM_Edit_IE"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="GPCM_Edit_IE">
                                                                                    <img src="../../Resources/Images/GPCM_1_602x402.png" style="width: 602;height: 402;" />
                                                                                </p>
                                                                                <li value="3"><a name="trusted-sites-zone"></a>Navigate to <b>Computer Configuration &gt; Policies &gt; Administrative Templates: Policy definitions (ADMX files) retrieved from the local computer &gt; Windows Components &gt; Internet Explorer &gt; Internet Control Panel &gt;&#160;Security Page &gt;&#160;Trusted Sites Zone</b>.</li>
                                                                                <li value="4">In the right pane under <b>Settings</b>, double click <b>Do not prompt for client certificate selection when no certificates or only one certificate exists</b>.
									<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="DoNotPrompt"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="DoNotPrompt">
                                                                                    <img src="../../Resources/Images/GPCM_2a_IE.png" />
                                                                                </p>
                                                                                <li value="5"> In the dialog box that opens, click <b>Enabled</b>.
									</li>
                                                                                <li value="6">Close open windows.</li>
                                                                                <li value="7">Navigate to <b>Computer Configuration &gt; Policies &gt; Administrative Templates: Policy definitions (ADMX files) retrieved from the local computer &gt; Windows Components &gt; Internet Explorer &gt; Internet Control Panel &gt;&#160;Security Page</b>.</li>
                                                                                <li value="8">In the right pane under <b>Settings</b>, double click <b>Site to Zone Assignment List</b>. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="SiteToZone"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                <p style="display: none;" data-mc-target-name="SiteToZone">
                                                                                    <img src="../../Resources/Images/GPCM_3_IE_SiteToZone.png" />
                                                                                </p>
                                                                                <li value="9">In the dialog box that opens, click <b>Enabled</b>. 
									</li>
                                                                                <li value="10">Under <b>Options</b>, next to <b>Enter the zone assignments here</b>, click <b>Show</b>.</li>
                                                                                <li value="11">Enter the following in the <b>Show Contents</b> dialog box:
													
													
													<ol style="list-style-type: lower-alpha;"><li value="1">In the <b>Value name</b> column, enter either <i>*okta.com</i> or <i>*oktapreview.com</i> depending on whether you are deploying this feature in your Okta <i>Production</i> or <i>Preview</i> org.</li><li value="2">In the <b>Value</b> column, enter <b>2</b>. This value corresponds to the security zone setting <b>Trusted sites zone</b> that you configured in a <a href="#trusted-sites-zone">previous step</a>. 
												
												
												<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="SiteToZoneEnable"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a><p style="display: none;" data-mc-target-name="SiteToZoneEnable"><img src="../../Resources/Images/GPCM_4_IE_SiteToZone.png" /></p></li></ol></li>
                                                                                <li value="12">Click <b>OK</b> to close open windows.</li>
                                                                                <li value="13">Confirm that the GPO settings are configured:</li>
                                                                                <ol style="list-style-type: lower-alpha;">
                                                                                    <li value="1">Refresh GPO, either by waiting for the next GPO refresh interval, or by issuing the <span style="font-family: 'Courier New';">gpupdate</span> command in a command line.</li>
                                                                                    <li value="2">In the <b>Start</b> menu type <b>Run</b>.</li>
                                                                                    <li value="3">In <b>Run</b>, type <b>gpedit.msc</b> and then press <b>Enter</b>.</li>
                                                                                    <li value="4">
											Navigate to <b>Computer Configuration &gt; Policies &gt; Administrative Templates: Policy definitions (ADMX files) retrieved from the local computer &gt; Windows Components &gt; Internet Explorer &gt; Internet Control Panel &gt;&#160;Security Page &gt;&#160;Internet Zone</b>.
										</li>
                                                                                    <li value="5">
											In the right pane under <b>Settings</b>, double click <b>Do not prompt for client certificate selection when no certificates or only one certificate exists</b>.
										</li>
                                                                                    <li value="6">In the dialog box that opens, confirm that the setting is <b>Enabled</b>.
										<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="VerifyEnable"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a></li>
                                                                                    <p style="display: none;" data-mc-target-name="VerifyEnable">
                                                                                        <img src="../../Resources/Images/GPCM_e_IE_VerifyEnabled.png" />
                                                                                    </p>
                                                                                </ol>
                                                                            </ol>
                                                                            <hr width="100%" size="0" align="center" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">Part Ⓒ — Configure app Sign On policy rules in Okta</span> </a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="PartC"></a>
                                                            <div style="line-height:150%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                                <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                    <ul>
                                                                        <li value="1">Only App, Org, and Super admins can configure app Sign On policies.</li>
                                                                        <li value="2">
                                                                            <p>Before you configure the <b>Trusted</b> option for apps in App Sign On Policy rules, you must make sure that certificates are installed in the certificate store on the domain-joined computers you have targeted for this Device Trust solution. If certificates are not installed and the Trusted setting is enabled, users are denied access to the app and are redirected to a security message advising them to contact their administrator. (You can configure the message to include a <b>Learn more</b> link to more information. For details, see <a href="#LearnMoreStep">here</a>). To verify certificate enrollment, Okta recommends that you use your management tool to parse the <b>Windows Event Viewer</b>, or use a command line to query the user certificate store directly. Look for <b>Okta MTLS certificate</b>.</p>
                                                                        </li>
                                                                        <li value="3">
                                                                            <p>Do not disable the Windows Device Trust setting on the <b>Security &gt; Device Trust</b> page if you have also configured an app sign on policy that allows trusted Windows devices. Otherwise, your Device Trust configuration will be in an inconsistent state and users with untrusted devices will not be shown the security message advising them to contact their administrator, nor the <b>Learn more</b> link to more information (if configured; for details about the link, see <a href="#LearnMoreStep">here</a>).</p>
                                                                        </li>
                                                                        <li value="4">If you decide to ask Okta Support to disable Device Trust capability for your org, make sure to first change the Device Trust setting in the app sign on policy rules to <b>Any</b> (<b>Applications &gt; <i>app</i> &gt; Sign On</b>). If you do not make this change and then later have Okta Support re-enable Device Trust capability for your org, the Device Trust setting in app sign on policy rules will take effect immediately, which you may not have expected.
									</li>
                                                                    </ul>
                                                                    <hr width="100%" size="0" align="center" />
                                                                </div>
                                                            </div>
                                                            <h3>Overview</h3>
                                                            <div>
                                                                <p>By default, all Client options in the <b>App Sign On Rule</b> dialog box are pre-selected. Notice that the <b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are not selectable unless you <i>deselect</i> all of the following options in the <b>Client</b> section <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="dt-trusted-options-availability"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>:</p>
                                                                <ul>
                                                                    <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                    <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                    <li value="3">Other desktop (e.g. Linux)</li>
                                                                    <p style="display: none;" data-mc-target-name="dt-trusted-options-availability">
                                                                        <img src="../../Resources/Images/dt-trusted-options-availability.png" />
                                                                    </p>
                                                                </ul>
                                                            </div>
                                                            <div>
                                                                <p>To configure more granular access to the app, selectively apply conditions  as you create one or more prioritized rules based on:</p>
                                                                <ul>
                                                                    <li value="1">Who users are and/or the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> to which they belong</li>
                                                                    <li value="2">Whether they are on or off network or within a defined network zone</li>
                                                                    <li value="3">The type of client running on their device  (<span class="MobileO365">Office 365</span> apps only)</li>
                                                                    <li value="4">The platform of their mobile or desktop device</li>
                                                                    <li value="5">Whether or not their devices are Trusted</li>
                                                                </ul>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Whitelist approach to creating Sign On policy rules</a></span>
                                                                <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                    <ul>
                                                                        <ol>
                                                                            <li value="1">Create one or more permissive rules to support the scenarios that will allow access to the app, then assign those rules the highest priority. </li>
                                                                            <li value="2">Create a Deny <i>catch-all</i> rule that will apply to users who don't match the permissive scenarios you created in Step 1. Assign the Deny catch-all rule the lowest priority, just above Okta's <b><a href="javascript:void(0);" class="MCTextPopup popup popupHead">Default Rule<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>The Default Rule is already created and cannot be edited. The Default Rule is designed to allow access to all client types from any device and platform and network locations. It is applied to users who don't match any of the more restrictive rules that have higher priority. </span></a></b>. In the whitelist approach described here, the Default rule is never reached because it is effectively negated by the Deny catch-all rule.</li>
                                                                        </ol>
                                                                        <p>For important information about creating Sign On policy rules, see <a href="../Security/App_Based_Signon.htm#user-agent" target="_blank">Add Sign On policies for applications</a>.</p>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <hr width="100%" size="0" align="center" />
                                                            <h3><a name="SignInRulesProcedure"></a>Procedure</h3>
                                                            <ol>
                                                                <li value="1">In Okta, go to <b>Applications</b> and click the SAML or WS-Fed-enabled app that you want to protect with Device&#160;Trust.</li>
                                                                <li value="2">Click the <b>Sign On</b> tab, scroll down to the <b>Sign On Policy</b>, and click <b>Add Rule</b>.</li>
                                                                <li value="3">Configure one or more rules using the following examples as a guide. </li>
                                                            </ol>
                                                            <p><b>Note:</b> This example shows Device Trust rules for managing access to <b>Office 365</b>. For other apps, note that the section <b>If the user's client is any of these</b> is not present.</p>
                                                            <h3>Example Whitelist</h3>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Ex2_R1"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Example Rule 1 — Exchange ActiveSync or Legacy Auth; All platforms; Any Trust; Allow access</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="E2_R1"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>
                                                                    </p>
                                                                    <p style="display: none;" data-mc-target-name="E2_R1">
                                                                        <img src="../../Resources/Images/E2_R1_EAS-AnyP-AnyT-Allow.png" />
                                                                    </p>
                                                                    <ol>
                                                                        <li value="1">Enter a descriptive name for the rule.</li>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="2">Under <b>People</b>, specify whether to apply the rule to individuals only or to individuals and groups. The People option you select needs to be the same for all the rules you create for this example.</li>
                                                                        <li value="3">Under <b>Location</b>, specify the user location to which the rule will apply. The Location option you select needs to be the same for all the rules you create for this example.</li>
                                                                        <li value="4">Configure client settings:</li>
                                                                        <p>Type:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Web browser or Modern Auth client</b> unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Exchange ActiveSync client or Legacy Auth client</b> is selected.</p>
                                                                        <p style="font-weight: normal;">Mobile:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                        <p>Desktop: </p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected</p>
                                                                        <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                    <ul>
                                                                                        <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                        <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                        <li value="3">Other desktop (e.g. Linux)</li>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">ACTIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="6">Configure <b>Access</b>.</li>
                                                                        <p><b>Allowed</b> is selected.</p>
                                                                        <li value="7">Click <b>Save</b>.</li>
                                                                        <li value="8">Create <b>Rule 2</b>.</li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Ex2_R2"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Example Rule 2 — Web browser or Modern Auth; Windows; Trusted; Allow access  +&#160;MFA </a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="E2_R2"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>
                                                                    </p>
                                                                    <p style="display: none;" data-mc-target-name="E2_R2">
                                                                        <img src="../../Resources/Images/E2_R2_Web-Win-Trust-Allow-MFA.png" />
                                                                    </p>
                                                                    <ol>
                                                                        <li value="1">Enter a descriptive name for the rule.</li>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="2">
									Under <b>People</b>, select the same People option that you selected in <a href="#Ex2_R1">Rule 1</a>.  The People option needs to be the same for all rules in this example.</li>
                                                                        <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#Ex2_R1">Rule 1</a>.  The Location option needs to be the same for all rules in this example.</li>
                                                                        <li value="4">Configure client settings:</li>
                                                                        <p>Type:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is is unselected.</p>
                                                                        <p style="font-weight: normal;">Mobile:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>iOS</b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Android</b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Other mobile</b> is unselected.</p>
                                                                        <p>Desktop: </p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>macOS</b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Other desktop</b> is unselected.</p>
                                                                        <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                    <ul>
                                                                                        <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                        <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                        <li value="3">Other desktop (e.g. Linux)</li>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Any </b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Trusted </b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">ACTIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="6">Configure <b>Access</b>:</li>
                                                                        <p><b>Allowed</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Prompt for factor</b> is selected.</p>
                                                                        <li value="7">Click <b>Save</b>.</li>
                                                                        <li value="8">Create <b>Rule 3</b>.</li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Ex2_R3"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Example Rule 3 — Web browser or Modern Auth; All platforms except Windows; Any Trust, Allow access +&#160;MFA </a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="E2-R3"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>
                                                                    </p>
                                                                    <p style="display: none;" data-mc-target-name="E2-R3">
                                                                        <img src="../../Resources/Images/E2_R3_Web_AllButWin_AnyT_MFA_640x908.png" style="width: 640;height: 908;" />
                                                                    </p>
                                                                    <ol>
                                                                        <li value="1">Enter a descriptive name for the rule.</li>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="2">
									Under <b>People</b>, select the same People option that you selected in <a href="#Ex2_R1">Rule 1</a>.  The People option needs to be the same for all rules in this example.</li>
                                                                        <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#Ex2_R1">Rule 1</a>.  The Location option needs to be the same for all rules in this example.</li>
                                                                        <li value="4">Configure client settings:</li>
                                                                        <p>Type:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is unselected.</p>
                                                                        <p style="font-weight: normal;">Mobile:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                        <p>Desktop: </p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected</p>
                                                                        <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                    <ul>
                                                                                        <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                        <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                        <li value="3">Other desktop (e.g. Linux)</li>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">ACTIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="6">Configure <b>Access</b>.</li>
                                                                        <p><b>Allowed</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Prompt for factor</b> is selected.</p>
                                                                        <li value="7">Click <b>Save</b>.</li>
                                                                        <li value="8">Create <b>Rule 4</b>.</li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Ex2_R4"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Example Rule 4 — Any client; All platforms; Any Trust; Deny access</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="E2_R4"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>
                                                                    </p>
                                                                    <p style="display: none;" data-mc-target-name="E2_R4">
                                                                        <img src="../../Resources/Images/E2_R4_AnyClien_AnyP_AnyT_Denied.png" />
                                                                    </p>
                                                                    <ol>
                                                                        <li value="1">Enter a descriptive name for the rule.</li>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="2">Under <b>People</b>, select the same People option that you selected in <a href="#Ex2_R1">Rule 1</a>. The People option you select needs to be the same for all the rules you create for this example.</li>
                                                                        <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#Ex2_R1">Rule 1</a>. The Location option you select needs to be the same for all the rules you create for this example.</li>
                                                                        <li value="4">Configure client settings:</li>
                                                                        <p>Type:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Exchange ActiveSync client</b> is selected.</p>
                                                                        <p style="font-weight: normal;">Mobile:
									</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                        <p>Desktop: </p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected.</p>
                                                                        <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                    <ul>
                                                                                        <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                        <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                        <li value="3">Other desktop (e.g. Linux)</li>
                                                                                    </ul>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                        <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                    </ol>
                                                                    <p><span style="color: #4cd882;">ACTIONS</span>
                                                                    </p>
                                                                    <ol data-mc-continue="true">
                                                                        <li value="6">Configure <b>Access</b>.</li>
                                                                        <p><b>Denied</b> is selected.</p>
                                                                        <li value="7">Click <b>Save</b>.</li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="WL-Rule5"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><MadCap:dropDownHotspot>Rule 5 — Default sign on rule – Any client; All platforms; Any Trust; Allow access</MadCap:dropDownHotspot></a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>The Default sign-on rule is already created and cannot be edited. Note that in this whitelist example, the Default rule is never reached because it is effectively negated by Rule 4.</p>
                                                                    <p><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="TWL-Rule5"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>
                                                                    </p>
                                                                    <p style="display: none;" data-mc-target-name="TWL-Rule5">
                                                                        <img src="../../Resources/Images/dt-android-rule-5-default.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">Part Ⓓ  – Revoke and remove Device Trust certificates</span></a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="PartD"></a>
                                                            <p><a name="You"></a>You may need to revoke an end user's Device Trust certificate(s) from the Okta Certificate Authority. This is recommended if the computer is lost or stolen, or if the end user is deactivated. To re-secure an end user's computer with Device Trust after revoking their Device Trust certificate(s), you need to remove the revoked certificate from their computer before enrolling a new certificate.</p>
                                                            <div>
                                                                <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                                    <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                                        <ul>
                                                                            <li value="1"><b>Steps 1 - 4</b> of this procedure revoke all Device Trust certificates from the Okta Certificate Authority that were issued to the end user. Certificate revocation does <u>not</u> remove existing certificates from managed Windows computers. In order to re-secure a Windows computer with Device Trust after revoking certificates, <i style="color: #ff4500;">you must first remove any existing Device Trust certificate from the computer and then re-enroll the computer with a new certificate</i> as detailed in <b>Step 5</b>. The Device Registration Task will not enroll a new certificate if another certificate (whether revoked or not) is present on the computer.</li>
                                                                            <li value="2">Deactivating an end user in Okta also revokes their Device Trust certificate from the Okta Certificate Authority (but does not remove the certificate from their computer).</li>
                                                                        </ul>
                                                                        <hr />
                                                                    </div>
                                                                </div>
                                                                <ol>
                                                                    <li value="1">
                                                                        <p>Go to <b>Directories &gt; People</b>.</p>
                                                                    </li>
                                                                    <li value="2">
                                                                        <p>Click the end user whose Device Trust certificate you want to revoke.</p>
                                                                    </li>
                                                                    <li value="3">
							In the <b>More Actions</b> menu, click <b>Revoke Trust Certificate</b>. <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="revokeTrustCert"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a><p style="display: none;" data-mc-target-name="revokeTrustCert"><img src="../../Resources/Images/DT_revokeTrustCert_80per.png" /></p></li>
                                                                    <li value="4">
                                                                        <p>Read the message that displays, and then click <b>Revoke Trust Certificate</b>.</p>
                                                                    </li>
                                                                    <li value="5">
                                                                        <p>(Optional) If you want to re-secure the end user's computer with Device Trust, first remove any existing Device Trust certificate from the computer.</p>
                                                                        <ul>
                                                                            <li value="1">
                                                                                <p>To remove a certificate from a <b>single computer</b> (such as during testing or the <i>Proof of Concept</i> phase of your implementation), use a third-party management tool such as <a href="https://docs.microsoft.com/en-us/dotnet/framework/tools/certmgr-exe-certificate-manager-tool">Certificate Manager Tool</a> (Certmgr.exe) to remove the certificate issued by the <i>Okta MTLS Certificate Authority</i>.</p>
                                                                            </li>
                                                                            <li value="2">
                                                                                <p>To remove certificates from <b>multiple computers</b>, use a third-party management tool such as <a href="https://support.microsoft.com/en-us/help/816102/how-to-use-group-policy-to-remotely-install-software-in-windows-server">GPO</a> or <a href="https://docs.microsoft.com/en-us/sccm/core/understand/introduction">SCCM</a> to remove the certificate issued by the <i>Okta MTLS Certificate Authority</i>.</p>
                                                                            </li>
                                                                        </ul>
                                                                    </li>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Troubleshooting</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <p><a name="Troubleshooting_DT-Win"></a>Device Trust for Windows generates a certificate on domain-joined Windows devices and presents it to Okta when a Device Trust-secured WS-Fed or SAML app is launched. The two problems that you are most likely to encounter are:</p>
                                                    <ul>
                                                        <li value="1">Trusted devices are <u>un</u>able to access Device Trust-secured apps.</li>
                                                        <li value="2">Untrusted devices are <u>able</u> to access Device Trust-secured apps.</li>
                                                    </ul>
                                                    <p>If you encounter either problem, try to correct it by performing <i>Basic Troubleshooting</i>. If the problem persists, perform <i>Advanced Troubleshooting</i>.</p>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Basic Troubleshooting</a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="BasicTroubleshooting_DT-Win"></a>
                                                            <p>To perform basic troubleshooting, review the following areas:</p>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />IWA web app installation and setup</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Verify the following:</p>
                                                                    <ul>
                                                                        <li value="1">You have <a href="#InstallIWAWebApp">installed</a> a Device Trust-capable version of the IWA web app in your Active Directory domain.</li>
                                                                        <li value="2">If you use HTTPS for IWA, you have <a href="#ModWebConfig">modified the IWA web.config file</a> to support HTTPS binding.</li>
                                                                    </ul>
                                                                    <p>If the problem persists, proceed to <a href="#AdvancedTroubleshooting_DT-Win">Advanced Troubleshooting</a>.</p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Enablement</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Verify that you have <a href="#PartB">enabled the global Device Trust setting</a> in <b>Security &gt; Device Trust</b>.</p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Registration task</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Verify that you have <a href="#DistributeInstaller">distributed</a> the Device Registration Task to Windows domain-joined workstations.</p>
                                                                    <p><b>Proxy server environments</b> — In order for the Registration Task installation to succeed in environments that implement a proxy server, you must install Device Registration Task <b>version 1.2.1</b> or higher through a command line and append the appropriate HttpProxy parameter to the installation command. </p>
                                                                    <p>For details, see <a href="#MSI-installation">Install the Registration Task</a>. </p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Certificate</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <div>
                                                                        <h4>Verify that the certificate is installed</h4>
                                                                        <ol>
                                                                            <li value="1">Open <b>Microsoft Management Console</b> as described in <a href="#B.3">section B.3</a>.</li>
                                                                            <li value="2">Open the end user's personal store (not the Local computer store).</li>
                                                                            <li value="3">Verify that a single certificate appears under <b>Personal &gt; Certificates</b> issued by <b>MTLS Certificate Authority</b>.</li>
                                                                            <li value="4">If no certificate appears, see <a href="#AdvancedTroubleshooting_DT-Win">Advanced Troubleshooting</a>.</li>
                                                                        </ol>
                                                                    </div>
                                                                    <div>
                                                                        <h4><a name="Certific"></a>Known Issue – Auth failure caused by blocked Mutual TLS certificate exchange</h4>
                                                                        <p><a name="MTLS-handshake"></a>
                                                                            <div>
                                                                                <p data-mc-conditions="SnippetConditionsForDevices.Windows Only">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are <i>separate</i> from your Okta org URL (indicated by the wildcard character (*) in the example below). Make sure to configure  proxy servers/proxy clients, as well as any endpoint protection software you may implement, in a way that does not block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, <i>including the wildcard character</i> (*), as shown here:</p>
                                                                                <div style="margin-left: 55px;">
                                                                                    <p><b>*.okta.com</b>
                                                                                    </p>
                                                                                    <p><b>*.okta-emea.com</b>
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Sign On Policy</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Verify the following:</p>
                                                                    <p>You have <a href="#PartC">configured a Sign On Policy</a> that:</p>
                                                                    <ul>
                                                                        <li value="1">Is applied to the WS-Fed or SAML app that you want to secure with Device Trust.</li>
                                                                        <li value="2">Is applied to the correct user(s) and/or groups.</li>
                                                                        <li value="3">Includes, at minimum, an <b>Active</b> <a href="#SignInRulesProcedure">rule</a> that denies access to untrusted devices.</li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="DT_Win_SysLog"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">System Log</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Review the <a href="../Reports/Reports_SysLog.htm">System Log</a> to verify the following Device Trust System Log events: 
                                    
                                </p>
                                                                    <h4>Authentication</h4>
                                                                    <ul>
                                                                        <li value="1"><b>DisplayMessage</b>: Authentication of device via certificate</li>
                                                                        <li value="2"><b>EventType</b>: user.authentication.authenticate</li>
                                                                    </ul>
                                                                    <h4>Enrollment</h4>
                                                                    <ul>
                                                                        <li value="1"><b>DisplayMessage</b>: Device Trust certificate enrollment</li>
                                                                        <li value="2"><b>EventType</b>: user.credential.enroll</li>
                                                                    </ul>
                                                                    <h4>Issuance</h4>
                                                                    <ul>
                                                                        <li value="1"><b>DisplayMessage</b>: Device Trust certificate issuance</li>
                                                                        <li value="2"><b>EventType</b>: pki.cert.issue</li>
                                                                    </ul>
                                                                    <h4>Revocation</h4>
                                                                    <ul>
                                                                        <li value="1"><b>DisplayMessage</b>: Device Trust certificate revocation</li>
                                                                        <li value="2"><b>EventType</b>: pki.cert.revoke</li>
                                                                    </ul>
                                                                    <h4>Renewal</h4>
                                                                    <ul>
                                                                        <li value="1"><b>DisplayMessage:</b> Device Trust certificate renewal</li>
                                                                        <li value="2"><b>EventType:</b> pki.cert.renew</li>
                                                                    </ul>
                                                                    <div>
                                                                        <hr />
                                                                        <h3>View unique device IDs in DebugContext</h3>
                                                                        <p>DebugData shows the unique ID of the devices associated with Device Trust events and is useful for debugging purposes. This information can also help you  verify that Device Trust is being enforced on devices in your device inventory, which may be useful prior to rolling out the feature to a large group of users.</p>
                                                                        <p class="earlyaccess"><span style="color: #0000ff; font-weight: bold;">Important:</span> The information contained in <b>debugContext.debugData</b> is intended to add context when troubleshooting customer platform issues. Note that key names and values are subject to change without notice and should be used primarily as a debugging aid, not as a data contract.  For more about the DebugContext, see the <a href="https://developer.okta.com/docs/api/resources/system_log/#debugcontext-object">DebugContext Object</a> in Okta Developer documentation. </p>
                                                                        <ol>
                                                                            <li value="1">In the Okta Admin Console, go to <b>Reports &gt; System Log</b>.</li>
                                                                            <li value="2">Search for the Device Trust Event (date) that you’re interested in, then navigate to:
                                        <p><b>Event &gt; AuthenticationContext &gt; System &gt; DebugContext &gt; DebugData</b></p></li>
                                                                        </ol>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="AdvancedTroubleshooting_DT-Win"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Advanced Troubleshooting</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>If Basic Troubleshooting did not resolve the problem you are experiencing, and the certificate is not installed on the Windows workstation, check in the following locations:</p>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />In the Okta Admin app</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>Verify the following:</p>
                                                                    <ul>
                                                                        <li value="1">The org has an active Active Directory (AD) integration (<b>Directory &gt; Directory Integrations</b>)</li>
                                                                        <li value="2">The end user of the domain-joined Windows computer is:<![CDATA[
									]]><ul><li value="1">Present in <b>Directory &gt; People</b></li><li value="2">Activated</li><li value="3">A member of the Active Directory domain</li></ul></li>
                                                                        <li value="3">The IWA web app is:
									<ul><li value="1">Primary</li><li value="2">Enabled</li></ul></li>
                                                                        <li value="4">A Device Trust-capable <a href="../Settings/Version_Histories/Ver_History_SSO_IWA_Agent.htm">version</a></li>
                                                                    </ul>
                                                                    <p>(<b>Security &gt; Delegated Authentication &gt; Desktop Single Sign On &gt; Integrated Windows Authentication</b>)</p>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_Trouble_IWA_status.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />On the IWA server</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Check IIS settings for the IWA web app</h4>
                                                                    <ol>
                                                                        <li value="1">Click <b>Start</b>.</li>
                                                                        <li value="2">In the search box, type <i>IIS</i>.</li>
                                                                        <li value="3">Right click <b>Internet Information Services Manager</b> and select <b>Run as administrator</b>.</li>
                                                                        <li value="4">If the IWA web app is configured for SSL, open SSL settings and make sure the option Require SSL is selected.</li>
                                                                        <li value="5">Open the Authentication feature and make sure Windows Authentication is Enabled.</li>
                                                                    </ol>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_Trouble_IWA_IIS_1.png" />
                                                                    </p>
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Check for errors in the web.config file</h4>
                                                                    <ol>
                                                                        <li value="1">Go to <i>C:\Inetpub\wwwroot\IWA\web.config</i>.</li>
                                                                        <li value="2">Use a validation tool to make sure the web.config file contains valid XML syntax.</li>
                                                                        <li value="3">If HTTPS was enabled in IIS on the site, make sure that the web.config file enables SecureBindingForDeviceTrust.</li>
                                                                    </ol>
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Check for errors in Windows Logs &gt; Applications and Services Logs &gt; Okta Single Sign On</h4>
                                                                    <ol>
                                                                        <li value="1">Click Start.</li>
                                                                        <li value="2">In the search box, type Event Viewer.</li>
                                                                        <li value="3">Expand Application and Services Logs.</li>
                                                                        <li value="4">Check for errors in Okta Single Sign On.</li>
                                                                    </ol>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_Trouble_AppSvcLogs.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />On the domain-joined Windows computer</a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Make sure Okta Device Trust Tasks were installed and successful:</h4>
                                                                    <ol>
                                                                        <li value="1">Click <b>Start</b>.</li>
                                                                        <li value="2">In the search box, type <i>Task Scheduler</i>.</li>
                                                                        <li value="3">Right click <b>Task Scheduler</b> and select <b>Run as administrator</b>.</li>
                                                                        <li value="4">Make sure the tasks <i>okta-devicetrust-devicetask</i> and <i>okta-devicestrust-usertask</i> appear and have completed successfully.</li>
                                                                    </ol>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_TaskSched.png" />
                                                                    </p>
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Check for errors in Windows Logs &gt; Applications and Services Logs &gt; Okta Device Trust:</h4>
                                                                    <ol>
                                                                        <li value="1">Click <b>Start</b>.</li>
                                                                        <li value="2">In the search box, type <i>Event Viewer</i>.</li>
                                                                        <li value="3">Expand <b>Application and Services Logs</b>.</li>
                                                                        <li value="4">Click <b>Okta Device Trust</b>.</li>
                                                                    </ol>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_EViewer.png" />
                                                                    </p>
                                                                    <div>
                                                                        <hr class="terminal" width="100%" size="0" align="center" />
                                                                        <h4><a name="force-cert-renewal"></a>Force certificate renewal in some circumstances</h4>
                                                                        <p>Certificates are valid for one year and are renewed automatically sometime within 30 days before expiration. In order for automatic renewal to succeed, end users must be logged on to the domain-joined computer and connected to your corporate network.</p>
                                                                        <p>You can manually force certificate renewal to try to fix the following problems (requires <b>Device Registration Task 1.3.1</b> or later):</p>
                                                                        <ul>
                                                                            <li value="1">An end user's certificate was incorrectly or accidentally revoked by the admin through the Admin Console (see <a href="#PartD">Revoke</a>). </li>
                                                                            <li value="2">The certificate was corrupted on the client due to accidental deletion, file corruption, or loss of the  private key.</li>
                                                                        </ul>
                                                                        <p>Open a command prompt and issue the following command:</p>
                                                                        <div class="terminal">
                                                                            <div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span>
                                                                            </div>
                                                                            <div class="terminal-content">
                                                                                <div>"C:\Program Files\Okta\DeviceTrust\OktaDeviceReg.exe" --forceRenewal</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <hr class="terminal" width="100%" size="0" align="center" />
                                                                    <h4>Run the task in debug mode as the logged-on user</h4>
                                                                    <ol>
                                                                        <li value="1">Make sure the IWA server is reachable when the task is run (either directly over the internet or via VPN).</li>
                                                                        <li value="2">Open a command prompt and issue the following command:</li>
                                                                        <div class="terminal">
                                                                            <div class="terminal-toolbar"><span class="terminal-circle red"></span><span class="terminal-circle yellow"></span><span class="terminal-circle green"></span>
                                                                            </div>
                                                                            <div class="terminal-content">
                                                                                <div>"C:\Program Files\Okta\DeviceTrust\OktaDeviceReg.exe" --user --debug</div>
                                                                            </div>
                                                                        </div>
                                                                        <li value="3">If the device trust certificate is not generated on the device, the task executes the following actions:
									<ul><li value="1">Contacts Okta at the registry value pointed to by <span style="font-family: 'Courier New';">HKLM\Software\Okta\DeviceTrust\OktaOrgUrl</span> and gets the location of the IWA server for the org.</li><li value="2">Contacts the IWA server to generate the device token for the device.</li><li value="3">Contacts the IWA server to generate a user token based on the device token.</li><li value="4">Contacts Okta with the generated user token to generate the certificate.</li><li value="5">Installs the certificate in the user's personal store.</li></ul></li>
                                                                    </ol>
                                                                    <p>The user token is a set of JWT claims signed by the IWA server. You may be asked to copy the token and provide it to <b>Okta Support</b> for analysis.</p>
                                                                    <p>
                                                                        <img src="../../Resources/Images/DT_OktaDeviceReg-Running2.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">Known Issues</span></a><a name="KnownIssues"></a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <ul>
                                                        <li value="1"><b>Multiple apps opening simultaneously</b> — If multiple apps secured by Device Trust are configured to open automatically when end users sign in to their Okta dashboard from IE or Edge browsers, only one of the apps completes the Device Trust flow. Access to the remaining apps fails and end users are presented a message advising them to contact their administrator. (For details about this message, see <a href="#LearnMoreStep">here</a>.)</li>
                                                        <li value="2"><b>Device Trust for Windows desktop + certificate-based IWA for SSO</b> — Configuring this Device Trust solution may cause an incompatibility issue if your org is configured with certificate-based IWA to support SSO for iOS and Android mobile devices. In that case, end users signing in to Okta using IWA from Windows computers with a Device Trust certificate <u style="font-style: italic;">and</u> an IWA certificate installed may be presented with a certificate picker containing both certificates during the Desktop SSO flow, which may cause confusion. If end users select the device trust certificate, they will get a 403 error during the IWA flow.
It may be possible to  enable certificate hinting in <b>IIS</b> so that only one certificate is shown to users.	For details, see <a href="https://technet.microsoft.com/en-au/library/dn786429.aspx">this Microsoft article</a>.		</li>
                                                        <li value="3"><a name=".NETFramework"></a><b>Checking .NET version</b> — The Device Registration Task checks the version of the .NET Framework running on managed Windows computers. If the version is not <b>4.5.2</b> or higher, the Registration Task installs version 4.5.2 automatically and, during installation, progress indicators and other installation dialog boxes will appear on end user screens.</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div style="line-height:150%;">
                                                <br />
                                            </div>
                                            <hr width="100%" size="0" align="center" />
                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-size: 14pt;"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Related Topics</a></span>
                                                <div class="MCDropDownBody dropDownBody">
                                                    <h4>From Okta</h4>
                                                    <p><a href="../Directory/Configuring_Desktop_SSO.htm">Install and Configure the Okta IWA Web App for Desktop SSO</a>
                                                    </p>
                                                    <p><a href="device-trust-overview.htm">Device Trust</a>
                                                    </p>
                                                    <p><a href="../Apps/Apps_Apps.htm#EAS">Configuring Microsoft Exchange ActiveSync (EAS)</a>
                                                    </p>
                                                    <p><a href="../Security/O365_Client-Access-Policies.htm">Office 365 Client Access Policies</a>
                                                    </p>
                                                    <p><a href="Apps_OMM.htm">Configure Okta Mobility Management</a>
                                                    </p>
                                                    <p><a href="../Apps/Apps_Okta_Enhancements_Office_365_Integration.htm">Okta Enhancements with Microsoft Office 365 Integration</a>
                                                    </p>
                                                    <h4>External sources</h4>
                                                    <p><a href="https://technet.microsoft.com/en-us/library/hh147307(v=ws.10).aspx">Group Policy for Beginners</a>
                                                    </p>
                                                    <p><a href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/working-with-certificates">Working with Certificates</a>
                                                    </p>
                                                    <p><a href="https://support.microsoft.com/en-us/help/816102/how-to-use-group-policy-to-remotely-install-software-in-windows-server">How to use Group Policy to remotely install software in Windows Server 2008 and in Windows Server 2003</a>
                                                    </p>
                                                    <p><a href="https://technet.microsoft.com/en-us/library/cc940895.aspx">Group Policy refresh interval for computers</a>
                                                    </p>
                                                    <p><a href="https://www.microsoft.com/en-us/microsoft-365/blog/2015/11/19/updated-office-365-modern-authentication-public-preview/">Updated Office 365 modern authentication</a>
                                                    </p>
                                                    <p><a href="https://social.technet.microsoft.com/wiki/contents/articles/36101.office-365-enable-modern-authentication.aspx">Office 365: Enable Modern Authentication</a>
                                                    </p>
                                                    <p><a href="https://docs.microsoft.com/en-us/dotnet/framework/tools/certmgr-exe-certificate-manager-tool">Certificate Manager Tool (certmgr.exe)</a>
                                                    </p>
                                                    <p><a href="https://docs.microsoft.com/en-us/sccm/core/understand/introduction">Introduction to System Center Configuration Manager (SCCM)</a>
                                                    </p>
                                                </div>
                                            </div>
                                            <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                        </div>
                                    </div>
                                    <!-- *** Col3: Right menu Col *** -->
                                    <div class="is-not-in-mobile">
                                        <div data-sticky-container="" id="k-JTdVhVJkCSLc7OmSSxvw">
                                            <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="k-JTdVhVJkCSLc7OmSSxvw:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- ***************************** Footer rows ********************************* -->
                                <div class="footer-temp">
                                    <div class="is-not-in-mobile">
                                        <p> </p>
                                    </div>
                                    <div>
                                        <p class="copyright">©  <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                    </div>
                                </div>
                                <!-- ***************************** Scripts ************************************* -->
                                <!-- Foundation -->
                                <script src="../../Resources/Scripts/js/app.js">
                                </script>
                                <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                </script>
                                <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                </script>
                                <!-- Ours -->
                                <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                </script>
                                <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                </script>
                                <!-- Coveo -->
                                <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                </script>
                                <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                </script>
                                <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                </script>
                                <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                </script>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>