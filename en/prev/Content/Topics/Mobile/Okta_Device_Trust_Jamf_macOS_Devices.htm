<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Device Trust">
    <!-- ******************************************************************************** -->
    <!-- IMPORTANT: replicate changes in this file to other master pages, as appropriate. -->
    <!-- ******************************************************************************** -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Okta Device Trust for Jamf Pro-managed macOS devices prevents unmanaged computers from accessing apps. A Device Registration Task enrolls individual computers." /><title>Enforce Okta Device Trust for Jamf Pro-managed macOS devices | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main-nav-poc.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPubish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <!--<div class="title-bar-layout outer-row">-->
                                        <!--<div class="navigation-wrapper nocontent">
					<ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True" data-mc-chunk="Data/Toc.xml">                               
						<li class="has-children" data-mc-id="0"><a href="javascript:void(0);">Documentation</a></li>
						<li data-mc-id="1"><a href="https://support.okta.com/help/s/documentation">Knowledge base</a></li>
						<li class="has-children" data-mc-id="2"><a href="javascript:void(0);">Community</a></li>
						<li class="has-children" data-mc-id="3"><a href="javascript:void(0);">Product</a></li>
						<li data-mc-id="4"><a href="https://www.okta.com/services/education-services/">Training</a></li>
					</ul>
				</div>-->
                                        <div class="navbar">
                                            <div class="dropdown" data-mc-conditions="MultiProdPubish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="../ReleaseNotes/okta-relnotes.htm">Release notes</a>
                                                    </div>
                                                    <div><a href="../../index.htm">Product documentation</a>
                                                    </div>
                                                    <div><a href="https://developer.okta.com/documentation">Developer documentation</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://support.okta.com/help/s/knowledge">Knowledge base</a>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Community <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/questions" target="_blank">Discussions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/group/CollaborationGroup/00BF00000071aM5MAI" target="_blank">Groups</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/events" target="_blank">Events</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Product <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/ideas" target="_blank">Ideas<img src="../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/productroadmap">Roadmap</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/betas" target="_blank">Betas<img src="../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://www.okta.com/services/education-services/" target="_blank">Training<span><img src="../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></span></a>
                                            </div>
                                        </div>
                                        <div class="logo_container"><a class="logo" href="https://support.okta.com/help/s/"><img src="../../Resources/Images/okta-assets/Logo.png" alt="Okta Support" title="Okta Support" /></a>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** ****commented out, with new left accordion implementation***-->
                                        <!--<div class="is-not-in-mobile">
                <MadCap:menuProxy data-mc-skin="/Project/Skins/okta-left-menu.flskn" mc-linked-toc="/Project/TOCs/left-nav-TOC.fltoc" style="mc-toc-depth: 2;mc-context-sensitive: False;mc-include-parent: True;mc-include-siblings: True;mc-include-children: True;" />
            </div>-->
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs, next/prev buttons -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_nav_poc mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img alt="Expand all" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                        <button class="button needs-pie previous-topic-button" title="Previous topic">
                                                            <img alt="Navigate previous" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Next topic">
                                                            <img alt="Navigate next" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Enforce Okta <span class="okta-feature-namesDevice Trust">Device Trust</span> for Jamf Pro-managed macOS devices</h1>
                                                    <hr width="100%" size="0" align="center" />
                                                    <p><span class="okta-feature-namesOkta Device Trust">Okta Device Trust</span> for Jamf Pro-managed macOS devices allows you to prevent unmanaged macOS&#160;devices from accessing corporate SAML and WS-Fed cloud apps. <span class="okta-feature-namesOkta Device Trust">Okta Device Trust</span> ensures that only known and secured devices can access your Okta-managed applications.</p>
                                                    <p>
                                                        <img src="../../Resources/Images/dt-macos-flow.png" />
                                                    </p>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-size: 14pt;" href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Prerequisites</a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="Prerequi"></a>
                                                            <ul>
                                                                <li value="1">This solution works with:
                <ul><li value="1">Apple computers running <a href="Okta_Mobile_VerHistory.htm">Okta-supported versions</a> of macOS.</li><li value="2">Jamf Pro MDM solution</li><li value="3">The following browsers and native apps capable of accessing the Okta Keychain on the managed computer when performing the federated authentication flow to Okta:
						<ul><li value="1">Browsers: Chrome and Safari browsers</li><li value="2">Modern Auth-enabled native apps:
					<ul><li value="1">Box</li><li value="2">Google Drive</li><li value="3">Microsoft Office</li><li value="4">Skype for Business</li><li value="5">Slack</li></ul></li></ul></li></ul></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-size: 14pt;" href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Before you begin</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ul>
                                                                <li value="1"><b>Modern Authentication required for securing Microsoft Office apps</b> — To secure Microsoft Office apps with this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution they must be enabled to support Modern Authentication. For more information, see <a href="https://docs.microsoft.com/en-us/office365/enterprise/modern-auth-for-office-2013-and-2016?redirectSourcePath=%252fen-us%252farticle%252fusing-office-365-modern-authentication-with-office-clients-776c0036-66fd-41cb-8928-5495c0f9168a" rel="noreferrer" target="_blank">this</a> Microsoft article. For information about securing Office 365 clients that use legacy protocols, see <a href="../Security/O365_Client-Access-Policies.htm" rel="noreferrer" target="_blank">Office 365 Client Access Policies</a>.</li>
                                                                <li value="2">
                                                                    <p><b><span class="okta-feature-namesDevice Trust">Device Trust</span> isn't supported with all versions of Microsoft Office thick clients</b> — This <span class="okta-feature-namesDevice Trust">Device Trust</span> solution has been tested to work with Microsoft Office thick client versions 16.13.1 and 16.15. However, it doesn't work with Microsoft Office thick client version 16.14 (build 180610). </p>
                                                                </li>
                                                                <li value="3"><b>Prevent iCloud from transferring the Okta keychain to other Apple devices</b> — To prevent iCloud from transferring the Okta keychain from DT-secured macOS devices to other Apple devices, Okta strongly recommends that you create a Configuration Profile in Jamf Pro that disables <b>Allow iCloud Keychain syncing</b>. (<b>Note</b>:&#160;Be aware that disabling syncing blocks all keychain transfers.) See the <a href="#disable-keychain-syncing">Add the modified Okta Device Registration Task to Jamf Pro and distribute it to macOS devices</a>.</li>
                                                                <li value="4">
                                                                    <p><b>Webview must have access to the device keychain</b> — <span class="okta-feature-namesDevice Trust">Device Trust</span> for managed macOS computers works with any SAML/WS-Fed-enabled app that supports authentication through a webview. The webview in which authentication is performed must have access to the Okta Keychain on the device. To prevent&#160;end users&#160;from being prompted for consent when the certificate is used in the authentication flow, Okta whitelists the following apps. See <a href="#PartG">Modify the default whitelist</a>:</p>
                                                                    <ul>
                                                                        <li value="1">Box</li>
                                                                        <li value="2">Chrome</li>
                                                                        <li value="3">Safari</li>
                                                                        <li value="4">Microsoft Office</li>
                                                                        <li value="5">Skype for Business</li>
                                                                        <li value="6">Google Drive</li>
                                                                        <li value="7">Slack</li>
                                                                    </ul>
                                                                </li>
                                                                <li value="5"><b>Per-device unbound certificate limit</b> —  A certificate becomes bound to a given user the first time that user accesses a device trust-secured application from a device trust-secured macOS device. Unused certificates are unbound. Okta can issue up to five unbound certificates to the device, one each time you perform the enrollment procedure. As a security precaution, Okta will not issue more than five unbound certificates to a given device. To avoid reaching the unbound certificate limit, ensure that users use the unbound certificates already on the device before you attempt to obtain more certificates through enrollment. If you reach the enrollment limit, the Syslog indicates an enrollment failure and the error message <b>Maximum enrollment limit of 5 certificates for a device is reached</b> appears in the JAMF log.</li>
                                                                <li value="6"><b>Per-org enrollment limit</b> — A given macOS device can only be secured by the <span class="okta-feature-namesDevice Trust">Device Trust</span> configuration of a single Okta org. Put another way, macOS devices can't be secured by the <span class="okta-feature-namesDevice Trust">Device Trust</span> configuration of multiple Okta orgs simultaneously. This is because the client certificate issued to the device is signed by the CA of a particular org. This limit applies to Okta Preview and Production orgs.</li>
                                                                <li value="7"><b>Shared-terminal scenarios are not supported</b> — This <span class="okta-feature-namesDevice Trust">Device Trust</span> solution doesn't support shared-terminal scenarios in which multiple Okta end users log in to the same account from the same macOS workstation.</li>
                                                                <li value="8"><b>Device Trust enrollment not supported when Okta is read-only mode</b> — Devices that you have targeted for this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution cannot be enrolled in <span class="okta-feature-namesDevice Trust">Device Trust</span> if the cell in which your Okta org resides is in <a href="#" class="MCTextPopup popup popupHead">read-only mode<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>A mode during which most administrative operations are disabled and a banner is displayed in the admin (not end-user) Dashboard. During read-only mode, all background jobs such as imports, OMM enrollment, OMM deprovisioning, and JIT provisioning are queued, and all are restarted when read-only mode is disabled.</span></a>.</li>
                                                                <li value="9"><b>End users may need to clear the browser cache</b>  — Some browsers (for example, Chrome) cache the <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate. After the certificate is renewed automatically (once per year), these browsers may continue to present the expired certificate to Okta instead of the new certificate. In that case, end users are shown the <b>Security requirements</b> message and are denied access to <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured apps. Okta recommends that you advise affected end users to clear browser cache by quitting and then restarting the browser (not just closing the browser window).</li>
                                                                <li value="10">
                                                                    <p><b><span class="okta-feature-namesDevice Trust">Device Trust</span>-secured apps are shown as locked on end-user Okta Home pages.</b>  If all of the following are true, a lock icon appears on all <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured app icons on end-user Okta Home pages viewed on desktop and mobile browsers (but not in <span class="MobileOkta Mobile">Okta Mobile</span>):</p>
                                                                    <ul>
                                                                        <li value="1"> <span class="okta-feature-namesDevice Trust">Device Trust</span> is enabled for the org .</li>
                                                                        <li value="2">The device is not trusted.</li>
                                                                        <li value="3">The end user tried to access any <span class="okta-feature-namesDevice Trust">Device Trust</span> -secured app from their Home page. </li>
                                                                    </ul>
                                                                    <p>The lock icon remains for the duration of the session.</p>
                                                                </li>
                                                                <li value="11">
                                                                    <p><b>Apps must support Modern Authentication</b> — To secure Microsoft Office apps with this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution they must be enabled to support Modern Authentication. For more information, see the Microsoft article <a href="https://docs.microsoft.com/en-us/office365/enterprise/modern-auth-for-office-2013-and-2016" target="_blank">How modern authentication works for Office 2013 and Office 2016 client apps</a>. Also see <a href="../Security/O365_Client-Access-Policies.htm">Office 365 Client Access Policies</a>.</p>
                                                                </li>
                                                                <li value="12">
                                                                    <p>Make sure that certificates are installed in the keychain on the devices you have targeted for this Device Trust solution. If certificates are not installed and the Trusted setting is enabled in your App Sign On Policy, users are denied access to the app and are redirected to a security message advising them to contact their administrator. (You can configure the message to include a <b>Learn more</b> link to more information. See <a href="#learn-more-link">Step 1 — Enable the global Device Trust setting for your org</a>). </p>
                                                                </li>
                                                                <li value="13">
                                                                    <p><b>Take care when disabling the macOS Device Trust setting</b> — Don't disable the macOS <span class="okta-feature-namesDevice Trust">Device Trust</span> setting on the <b>Security &gt; <span class="okta-feature-namesDevice Trust">Device Trust</span></b> page if you have also configured an app sign on policy that allows trusted macOS devices. Otherwise, your <span class="okta-feature-namesDevice Trust">Device Trust</span> configuration will be in an inconsistent state. To disable <span class="okta-feature-namesDevice Trust">Device Trust</span> for your org, first remove any app sign on policies that contain a <span class="okta-feature-namesDevice Trust">Device Trust</span> setting, then disable macOS&#160;<span class="okta-feature-namesDevice Trust">Device Trust</span> in <b>Security &gt; <span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</p>
                                                                </li>
                                                                <li value="14"> <b>Before asking Okta Support to disable </b><span style="font-weight: bold;" class="okta-feature-namesDevice Trust">Device Trust</span> — If you ask Okta Support to disable <span class="okta-feature-namesDevice Trust">Device Trust</span> capability for your org, make sure to first change the <span class="okta-feature-namesDevice Trust">Device Trust</span> setting in the app sign on policy rules to <b>Any</b> (<b>Applications &gt; app &gt; Sign On</b>). If you don't make this change and then later have Okta Support re-enable <span class="okta-feature-namesDevice Trust">Device Trust</span> capability for your org, the <span class="okta-feature-namesDevice Trust">Device Trust</span> setting in app sign on policy rules takes effect immediately, which you may not have expected.
					</li>
                                                                <li value="15"><b>Ensure clients can complete the MTLS handshake</b> — The Mutual TLS certificate exchange (handshake) in this <span class="okta-feature-namesDevice Trust">Device Trust</span> flow occurs on Okta URLs that are separate from your Okta org URL (indicated by the wildcard character (*) in the following example). If you implement endpoint protection software, make sure to configure it in a way that doesn't block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, including the wildcard character (*):

					<p id="code">*.okta.com</p><p id="code">*.okta-emea.com</p></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-weight: bold; font-size: 14pt;" href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Procedures</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><div style="line-height:150%;"><br /></div><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">STEP 1 — Enable the global <span class="okta-feature-namesDevice Trust">Device Trust</span> setting for your org</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="PartA"></a>
                                                                    <ol>
                                                                        <li value="1">In the <span class="okta-feature-namesAdministrator dashboard">Admin Console</span>, go to <b>Security</b> &gt; <span style="font-weight: bold;" class="okta-feature-namesDevice Trust">Device Trust</span></li>
                                                                        <li value="2">In the macOS <span class="okta-feature-namesDevice Trust">Device Trust</span> section, click <b>Edit</b>.</li>
                                                                        <li value="3">In the wizard that launches, select <b>Enable macOS <span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                        <li value="4"><a name="learn-more-link"></a>Optional. In the <b>Learn more</b> field, you can enter an externally-accessible redirect URL where end users with untrusted devices can find more information. The security message shown to these end users will include a Learn more link that redirects to your specified URL. 
							
							
						<p><img src="../../Resources/Images/DT_Security_URLspecified_2.png" /></p><p>If you choose not to specify a URL in this optional field, these end users will be shown the same message but without the <b>Learn more</b> link. </p><p><img src="../../Resources/Images/DT_Security_noURLspecified_2.png" /></p></li>
                                                                        <li value="5">In <b>Trust is established by</b>, select <b>Jamf Pro</b>.</li>
                                                                        <li value="6">Enter information about the Jamf Pro API, such as the Jamf Pro tenant URL (for example, <span class="code">https://example.jamfcloud.com</span>, not the API URL), credentials, and key.                             <p>This information allows Okta to verify that end user devices are managed by Jamf Pro at the time of certificate enrollment. For Jamf Pro, you need at least these READ privileges to access Jamf APIs in order for Okta to verify that the device is managed:</p><ul><li value="1"><b>Computers</b> —&#160;READ</li><li value="2"><b>Jamf Pro User Accounts &amp;&#160;Groups</b> —&#160;READ</li><li value="3"><b>Users</b> —&#160;READ</li></ul></li>
                                                                        <p>
                                                                            <div class="noteOkta">
                                                                                <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                                                <p class="noteHeading">Important</p>
                                                                                <p class="noteContent">Okta strongly recommends that you create a separate user for API access that is separate from the user your organization uses to access the Jamf Pro admin interface.</p>
                                                                            </div>
                                                                        </p>
                                                                        <li value="7">Click <b>Test API&#160;credentials</b>. A&#160;success&#160;message&#160;appears&#160;if&#160;a connection is established with your MDM provider's API.</li>
                                                                        <li value="8">Click <b>Next</b>.</li>
                                                                        <li value="9">On the Configure MDM&#160;Provider screen, click <b>Download</b> to obtain a python script. You'll modify the script later in <b><a href="#PartB">STEP 2 — Modify the Okta Device Registration Task</a></b>.</li>
                                                                        <li value="10">To copy the  provided <b><span class="disableGlossary">Secret Key</span> Value</b> and  <b>Org URL</b> to your clipboard, click the copy icon <img src="../../Resources/Images/DT-copy-to-clipboard.png" /> adjacent to the fields. </li>
                                                                        <p>
                                                                            <div class="noteOkta">
                                                                                <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                                                <p class="noteHeading">Important</p>
                                                                                <p class="noteContent">Make  a note of the provided <b><span class="disableGlossary">Secret Key</span> Value</b> and <b>Org URL</b>, as this is the only time these will appear in Okta. Also, if you later want to edit your configuration and generate a new <span class="disableGlossary">Secret Key</span> through the <b>Reset macOS&#160;<span class="disableGlossary">Secret Key</span></b> button, you must perform this procedure again.</p>
                                                                            </div>
                                                                        </p>
                                                                        <li value="11">Click <b>Done</b>.</li>
                                                                        <li value="12">Modify the downloaded Okta Device Registration Task as described in <b><a href="#PartB">STEP 2</a></b>.
                            <p>The <a href="../Settings/Version_Histories/Ver_History_Device_Trust_MacOS.htm" rel="noreferrer" target="_blank">latest version</a> of the Okta Device Registration Task is also available from the Okta Admin Console  <b>Settings &gt; Downloads</b> page.</p></li>
                                                                    </ol>
                                                                </div>
                                                            </div>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">STEP 2 — Modify the Okta Device Registration Task</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="PartB"></a>
                                                                    <div style="line-height:115%;">
                                                                        <br />
                                                                    </div>
                                                                    <div style="line-height:90%;">
                                                                        <br />
                                                                    </div>
                                                                    <div class="noteOkta">
                                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                                        <p class="noteHeading">Important<a name="MTLS-handshake"></a></p>
                                                                        <p class="noteContent">The Mutual TLS certificate exchange (handshake) in this Device Trust flow occurs on Okta URLs that are separate from your Okta org URL (indicated by the wildcard character (*) in the following example). If you implement endpoint protection software, make sure to configure it in a way that doesn't block your clients from completing the certificate exchange with Okta. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, including the wildcard character (*):</p>
                                                                        <p id="code">*.okta.com
							</p>
                                                                        <p id="code">*.okta-emea.com
							</p>
                                                                    </div>
                                                                    <p style="line-height: 110%;">
                                                                        <br />
                                                                    </p>
                                                                    <ol>
                                                                        <li value="1">On the Admin's computer, go to the <b>Downloads</b> folder and open the script you downloaded from Okta.</li>
                                                                        <li value="2">Modify the script by pasting in the  <b><span class="disableGlossary">Secret Key</span> Value</b> and <b>Org URL</b> you generated in <a href="#PartA">STEP 1 — Enable the global  setting for your org</a>. </li>
                                                                        <p>When entering the key and the URL, retain the single quotation marks ( ' ) but replace the parentheses and the placeholder text with the actual <b><span class="disableGlossary">Secret Key</span> Value</b> and <b>Org URL</b>, as shown in the following example:</p>
                                                                        <br />
                                                                        <h4>Example: Script before modification</h4><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macos-key-url-before.png"><img class="MCPopupThumbnail img" data-mc-width="523" data-mc-height="81" src="../../Resources/Images/dt-macos-key-url-before_thumb_0_88.png" style="mc-thumbnail-max-height: 88px;mc-thumbnail: popup;width: 522px;height: 80px;" tabindex="" /></a>
                                                                        <p>
                                                                        </p>
                                                                        <h4>Example: Modified script. Note that you must retain the single quotation marks but not the parentheses.</h4><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macos-key-url-after.png"><img class="MCPopupThumbnail img" data-mc-width="522" data-mc-height="79" src="../../Resources/Images/dt-macos-key-url-after_thumb_0_88.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 88px;" tabindex="" /></a>
                                                                        <li value="3">Optional. Modify the default app whitelist.</li>
                                                                        <p>By default, the Okta Device Registration Task whitelists some <a href="#" class="MCTextPopup popup popupHead">popular apps<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>Microsoft Office 365, Box, Google Drive, Skype for Business, Slack</span></a> so that end users aren't prompted for the keychain password when accessing them. To modify the default whitelist, see <a href="#PartG">Modify the app whitelist</a>.</p>
                                                                        <li value="4">Save the script. </li>
                                                                        <li value="5">Proceed to <a href="#PartC">STEP 3 — Add the modified Okta Device Registration Task to  Jamf Pro and distribute it to macOS devices</a>.</li>
                                                                    </ol>
                                                                    <hr width="100%" size="0" align="center" />
                                                                </div>
                                                            </div>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div><a name="PartC"></a>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">STEP 3 — </span><span style="font-size: 14pt;"> Add the modified Okta Device Registration Task to  Jamf Pro and distribute it to macOS devices</span></a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <div style="line-height:150%;">
                                                                        <br />
                                                                    </div>
                                                                    <p>The Okta Device Registration Task is a script that is distributed by  Jamf Pro to the macOS&#160;devices you have targeted for this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution. When deployed on the device, the Okta Device Registration Task does the following:</p>
                                                                    <ul>
                                                                        <li value="1">
                                                                            <p>Registers with Okta to obtain a <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate. Okta checks with Jamf Pro to make sure the device is managed.</p>
                                                                        </li>
                                                                        <li value="2">
                                                                            <p>Configures Chrome and Safari browsers and <a href="#" class="MCTextPopup popup popupHead">tested native apps<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>These Modern Auth-enabled native apps: Microsoft Office 365, Box, Google Drive, Skype for Business, Slack</span></a> on the device to present the certificate automatically during secure app access.</p>
                                                                            <li value="2">
                                                                                <p>Schedules a lightweight task that runs once a day and whenever users log in to their computer. The task checks whether the <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate  is expired and tries to renew the certificate 30 days before expiry. Certificates are valid for 1 year.</p>
                                                                            </li>
                                                                        </li>
                                                                        <li value="3">During renewal, Okta performs  checks similar to those that occur during registration, such as checking whether the device is managed before issuing a new certificate.
										
										
										
										</li>
                                                                        <li value="4">After the script runs on the device once, Jamf Pro removes it from the device automatically.</li>
                                                                        <li value="5">You can use the following query to determine which version of the Registration Task is installed on the device:<p /><p id="code">python ~/Library/Okta/okta_device_trust.py version</p></li>
                                                                        <p />
                                                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macos-flow.png"><img class="MCPopupThumbnail img" data-mc-width="933" data-mc-height="676" src="../../Resources/Images/dt-macos-flow_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" id="imgimg_new" /></a>
                                                                        </p>
                                                                    </ul>
                                                                    <div>
                                                                    </div>
                                                                    <p>Create the workflows that make sense for your organization, making sure  that the script runs at least once successfully to enroll the Okta certificate.</p>
                                                                    <ol>
                                                                        <li value="1">In Jamf Pro click the gear icon <img src="../../Resources/Images/DT-macOS-gear-icon.png" /> to go to <b>All Settings</b>.</li>
                                                                        <li value="2">Go to <b>Computer Management &gt;&#160;Scripts</b>.</li>
                                                                        <li value="3">Create a new script and paste into it the Okta Device Registration Task you downloaded from Okta in <a href="#PartA">STEP 1 — Enable the global Device Trust setting for your org</a> and modified in <a href="#PartA">STEP 2 — Modify the Okta Device Registration Task</a>.</li>
                                                                        <li value="4">Save the script.</li>
                                                                        <li value="5">Create a policy to deploy the script to one or more Target Computers and/or Target Users:</li>
                                                                        <ol style="list-style-type: lower-alpha;">
                                                                            <li value="1">Go to <b>Computers &gt;&#160;Policies</b>.</li>
                                                                            <li value="2">Click <b>+ New</b>.</li>
                                                                            <li value="3">Click <b>General</b> in the left pane.</li>
                                                                            <li value="4">Give the policy a name.</li>
                                                                            <li value="5">&#160;Select the following Trigger events that will initiate the policy:
								<ul><li value="1"><b>Enrollment Complete</b> – the script runs immediately after devices complete the enrollment process.</li><li value="2"><b>Recurring Check-in</b> – the script runs according to the recurring check-in frequency configured in <b>Jamf Pro</b>.</li></ul></li>
                                                                            <li value="6">Set the <b>Execution Frequency</b> to <b>Once per computer per user</b>.
                                <p><b>Note:</b>&#160;There are other approaches that you can implement in Jamf Pro to trigger deployment of the script (for example,  Extension Attributes, which allow you to validate that the certificate is on the device and to deploy the certificate if it is missing).</p></li>
                                                                            <li value="7">Click <b>Scripts</b> and add the script you created earlier to this policy.</li>
                                                                            <li value="8">Click <b>Scope</b>.</li>
                                                                            <li value="9">In <b>Target Computers</b> and/or <b>Target Users</b>, specify the computers and users to whom the policy will apply.</li>
                                                                            <li value="10">Save the policy.</li>
                                                                        </ol>
                                                                        <li value="6"> <a name="disable-keychain-syncing"></a>Recommended. To prevent iCloud from transferring the Okta keychain from <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured macOS devices to other Apple devices, you should create a Configuration Profile in Jamf Pro that disables <b>Allow iCloud Keychain syncing</b>.  
							
							
							<p><img src="../../Resources/Images/disable-iCloud-keychaing-sync.png" /></p></li>
                                                                        <li value="7">Check the log in Jamf Pro to verify that the Okta Device Registration Task ran successfully.
								<ol style="list-style-type: lower-alpha;"><li value="1">Go to <b>Policies</b> and click&#160;your policy.</li><li value="2">Click <b>Logs</b> at the bottom of the screen.</li></ol></li>
                                                                        <li value="8">Proceed to <a href="#PartD">STEP 4 — Configure app Sign&#160;On policy rules in Okta</a>.</li>
                                                                    </ol>
                                                                    <hr width="100%" size="0" align="center" />
                                                                </div>
                                                            </div>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">STEP 4 — </span><span style="font-size: 14pt;"> Configure app Sign On policy rules in Okta</span> </a></span>
                                                                <div class="MCDropDownBody dropDownBody"><a name="PartD"></a>
                                                                    <h3>About App sign on policy rules</h3>
                                                                    <p>By default, all Client options in the App Sign On Rule dialog box are pre-selected. To configure more granular access to the app, create rules  that reflect:</p>
                                                                    <ul>
                                                                        <li value="1">Who users are and/or the groups to which they belong</li>
                                                                        <li value="2">Whether they are on or off network or within a defined network zone</li>
                                                                        <li value="3">The type of client running on their device  (<span class="MobileO365">Office 365</span> apps only)</li>
                                                                        <li value="4">The platform of their mobile or desktop device</li>
                                                                        <li value="5">Whether or not their devices are Trusted</li>
                                                                    </ul>
                                                                    <div>
                                                                        <h4>Taking a whitelist approach to Sign On policy rules</h4>
                                                                        <ul>
                                                                            <ol>
                                                                                <li value="1">Create one or more permissive rules to support the scenarios that will allow access to the app, then assign those rules the highest priority. </li>
                                                                                <li value="2">Create a Deny catch-all rule that will apply to users who don't match the permissive scenarios you created in Step 1. Assign the Deny catch-all rule the lowest priority, just above Okta's <b><a href="#" class="MCTextPopup popup popupHead">Default Rule<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>The Default Rule is already created and can't be edited. The Default Rule is designed to allow access to all client types from any device and platform and network locations. It is applied to users who don't match any of the more restrictive rules that have higher priority. </span></a></b>. In the whitelist approach described here, the Default rule is never reached because it is effectively negated by the Deny catch-all rule.</li>
                                                                            </ol>
                                                                            <p>For important information about creating Sign On policy rules, see <a href="../Security/App_Based_Signon.htm#top" target="_blank">Add Sign On policies for applications</a>.</p>
                                                                        </ul>
                                                                    </div>
                                                                    <hr width="100%" size="0" align="center" />
                                                                    <h3><a name="Procedur"></a>Procedure</h3>
                                                                    <ol>
                                                                        <li value="1">In the <span class="okta-feature-namesAdministrator dashboard">Admin Console</span>, go to <b>Applications</b> &gt;<![CDATA[  ]]><b>Applications</b> and click the SAML or WS-enabled app that you want to protect with <span class="okta-feature-namesDevice Trust">Device Trust</span>.</li>
                                                                        <li value="2">Click the <b>Sign On</b> tab, scroll down to the <b>Sign On Policy</b>, and click <b>Add Rule</b>.</li>
                                                                        <li value="3">Configure one or more rules using the following example as a guide. </li>
                                                                    </ol>
                                                                    <p>&#160;</p>
                                                                    <div class="noteOkta">
                                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                        <p class="noteHeading">Note</p>
                                                                        <p class="noteContent">This example shows <span class="okta-feature-namesDevice Trust">Device Trust</span> rules for managing access to Office 365. For other apps, note that the section <b>If the user's client is any of these</b> isn't present.</p>
                                                                    </div>
                                                                    <p>
                                                                    </p>
                                                                    <h3>Example Whitelist </h3>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><MadCap:dropDownHotspot>Example Rule 1 – Exchange ActiveSync; All&#160;platforms; Any trust; Allow access </MadCap:dropDownHotspot></a></span>
                                                                        <div class="MCDropDownBody dropDownBody"><a name="WL-Rule1"></a>
                                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macOS-rules-2-1.png"><img class="MCPopupThumbnail img" data-mc-width="604" data-mc-height="767" src="../../Resources/Images/dt-macOS-rules-2-1_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                                            </p>
                                                                            <ol>
                                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                                            </ol>
                                                                            <p><b>CONDITIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="2">Under <b>People</b>, specify whether to apply the rule to individuals only or to individuals and groups. The People option you select must be the same for all the rules you create for this example.</li>
                                                                                <li value="3">Under <b>Location</b>, specify the user location to which the rule will apply. The Location option you select must be the same for all the rules you create for this example.</li>
                                                                                <li value="4">Configure client settings:</li>
                                                                                <p>Type:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Web browser or Modern Auth client</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Exchange ActiveSync client</b> is is unselected.</p>
                                                                                <p style="font-weight: normal;">Mobile:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                                <p>Desktop: </p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected.</p>
                                                                                <li value="5">Configure  <b><span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i>Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                                    <div class="MCDropDownBody dropDownBody">
                                                                                        <div>
                                                                                            <p><b>Trusted</b> and <b>Not trusted</b> options in the <b><span class="okta-feature-namesDevice Trust">Device Trust</span> </b> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                                            <ul>
                                                                                                <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                                <li value="2">Other mobile (for example, BlackBerry)</li>
                                                                                                <li value="3">Other desktop (for example,  Linux)</li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                            </ol>
                                                                            <p><b>ACTIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="6">Configure <b>Access</b>:</li>
                                                                                <p><b>Allowed</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Prompt for factor</b> is unselected.</p>
                                                                                <li value="7">Click <b>Save</b>.</li>
                                                                                <li value="8">Create <b>Rule 2</b>.</li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><MadCap:dropDownHotspot>Example Rule 2 – Web browser or Modern Auth; macOS; Trusted; Allow access </MadCap:dropDownHotspot></a></span>
                                                                        <div class="MCDropDownBody dropDownBody"><a name="WL-Rule2"></a>
                                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macOS-rules-2-2.png"><img class="MCPopupThumbnail img" data-mc-width="603" data-mc-height="730" src="../../Resources/Images/dt-macOS-rules-2-2_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                                            </p>
                                                                            <ol>
                                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                                            </ol>
                                                                            <p><b>CONDITIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="2">
									Under <b>People</b>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The People option must be the same for all rules in this example.</li>
                                                                                <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The Location option must be the same for all rules in this example.</li>
                                                                                <li value="4">Configure client settings:</li>
                                                                                <p>Type:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is unselected.</p>
                                                                                <p style="font-weight: normal;">Mobile:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>iOS</b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Android</b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Other mobile</b> is unselected.</p>
                                                                                <p>Desktop: </p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Windows</b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Other desktop</b> is unselected</p>
                                                                                <li value="5">Configure  <b><span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i>Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                                    <div class="MCDropDownBody dropDownBody">
                                                                                        <div>
                                                                                            <p><b>Trusted</b> and <b>Not trusted</b> options in the <b><span class="okta-feature-namesDevice Trust">Device Trust</span> </b> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                                            <ul>
                                                                                                <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                                <li value="2">Other mobile (for example, BlackBerry)</li>
                                                                                                <li value="3">Other desktop (for example,  Linux)</li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Any </b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Trusted </b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                            </ol>
                                                                            <p><b>ACTIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="6">Configure <b>Access</b>.</li>
                                                                                <p><b>Allowed</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Prompt for factor</b> is unselected.</p>
                                                                                <li value="7">Click <b>Save</b>.</li>
                                                                                <li value="8">Create <b>Rule 3</b>.</li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><MadCap:dropDownHotspot>Example Rule 3 – Web browser or Modern Auth; All platforms except macOS; Any Trust; Allow access +&#160;MFA</MadCap:dropDownHotspot></a></span>
                                                                        <div class="MCDropDownBody dropDownBody"><a name="WL-Rule3"></a>
                                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macOS-rules-2-3.png"><img class="MCPopupThumbnail img" data-mc-width="604" data-mc-height="880" src="../../Resources/Images/dt-macOS-rules-2-3_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                                            </p>
                                                                            <ol>
                                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                                            </ol>
                                                                            <p><b>CONDITIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="2">
									Under <b>People</b>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>. The People option you select must be the same for all rules you create for this example.</li>
                                                                                <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>. The Location option you select must be the same for all rules you create for this example.</li>
                                                                                <li value="4">Configure client settings:</li>
                                                                                <p>Type:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is unselected.</p>
                                                                                <p style="font-weight: normal;">Mobile:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>iOS</b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                                <p>Desktop: </p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected.</p>
                                                                                <li value="5">Configure  <b><span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i>Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                                    <div class="MCDropDownBody dropDownBody">
                                                                                        <div>
                                                                                            <p><b>Trusted</b> and <b>Not trusted</b> options in the <b><span class="okta-feature-namesDevice Trust">Device Trust</span> </b> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                                            <ul>
                                                                                                <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                                <li value="2">Other mobile (for example, BlackBerry)</li>
                                                                                                <li value="3">Other desktop (for example,  Linux)</li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                            </ol>
                                                                            <p><b>ACTIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="6">Configure <b>Access</b>.</li>
                                                                                <p><b>Allowed</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Prompt for factor</b> is selected.</p>
                                                                                <li value="7">Click <b>Save</b>.</li>
                                                                                <li value="8">Create <b>Rule 4</b>.</li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><MadCap:dropDownHotspot>Example Rule 4 – Any client type; All platforms; Any Trust; Deny access</MadCap:dropDownHotspot></a></span>
                                                                        <div class="MCDropDownBody dropDownBody"><a name="WL-Rule4"></a>
                                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macOS-rules-2-4.png"><img class="MCPopupThumbnail img" data-mc-width="602" data-mc-height="667" src="../../Resources/Images/dt-macOS-rules-2-4_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                                            </p>
                                                                            <ol>
                                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                                            </ol>
                                                                            <p><b>CONDITIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="2">
									Under <b>People</b>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>. The People option you select must be the same for all rules you create for this example.</li>
                                                                                <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>. The Location option you select must be the same for all rules you create for this example.</li>
                                                                                <li value="4">Configure client settings:</li>
                                                                                <p>Type:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Exchange ActiveSync client</b> is selected.</p>
                                                                                <p style="font-weight: normal;">Mobile:
									</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                                <p>Desktop: </p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected.</p>
                                                                                <li value="5">Configure  <b><span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i>Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                                    <div class="MCDropDownBody dropDownBody">
                                                                                        <div>
                                                                                            <p><b>Trusted</b> and <b>Not trusted</b> options in the <b><span class="okta-feature-namesDevice Trust">Device Trust</span> </b> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                                            <ul>
                                                                                                <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                                <li value="2">Other mobile (for example, BlackBerry)</li>
                                                                                                <li value="3">Other desktop (for example,  Linux)</li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                                <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                            </ol>
                                                                            <p><b>ACTIONS</b>
                                                                            </p>
                                                                            <ol data-mc-continue="true">
                                                                                <li value="6">Configure <b>Access</b>.</li>
                                                                                <p><b>Denied</b> is selected.</p>
                                                                                <li value="7">Click <b>Save</b>.</li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Rule 5 — Default sign on rule – Any client, All platforms; Any Trust; Allow access</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <p>The Default sign on rule is already created and can't be edited. In this example, the Default rule is never reached because it is effectively negated by Rule 4. </p>
                                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macOS-rules-default.png"><img class="MCPopupThumbnail img" data-mc-width="602" data-mc-height="764" src="../../Resources/Images/dt-macOS-rules-default_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;">Revoke and remove <span class="okta-feature-namesDevice Trust">Device Trust</span> certificates</span></a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="PartE"></a>
                                                            <p>You may need to revoke an end user's <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate(s) from the Okta Certificate Authority. This is recommended if the computer is lost or stolen, or if the end user is deactivated. To re-secure an end user's computer with <span class="okta-feature-namesDevice Trust">Device Trust</span> after revoking their <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate(s), you need to remove the revoked certificate from their computer before enrolling a new certificate.</p>
                                                            <div>
                                                                <ul>
                                                                    <li value="1">Steps 1 - 4 of this procedure revoke all <span class="okta-feature-namesDevice Trust">Device Trust</span> certificates from the Okta Certificate Authority that were issued to the end user. Certificate revocation does not remove existing certificates from macOS computers. In order to re-secure a macOS&#160;computer with <span class="okta-feature-namesDevice Trust">Device Trust</span> after revoking certificates, you must first remove any existing Device Trust certificate from the computer and then re-enroll the computer with a new certificate as detailed in <b><a href="#remove-cert">Step 5</a></b>. The Device Registration Task will not enroll a new certificate if another certificate (whether revoked or not) is present on the computer.</li>
                                                                    <li value="2">When an end user is deactivated Okta also revokes their <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate from the Okta Certificate Authority automatically (but does not remove the certificate from their computer). To remove the certificate from the computer, use either removal method described in Step 5.</li>
                                                                </ul>
                                                                <ol>
                                                                    <li value="1">
                                                                        <p>In the <span class="okta-feature-namesAdministrator dashboard">Admin Console</span>, go to <b>Directory</b> &gt; <b>People</b>.</p>
                                                                    </li>
                                                                    <li value="2">
                                                                        <p>Click the end user whose <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate you want to revoke.</p>
                                                                    </li>
                                                                    <li value="3">
							In the <b>More Actions</b> menu, click <b>Revoke Trust Certificate</b>. 
					
					
					<p><img src="../../Resources/Images/DT_revokeTrustCert_80per.png" /></p></li>
                                                                    <li value="4">
                                                                        <p>Read the message that displays, and then click <b>Revoke Trust Certificate</b>.</p>
                                                                    </li>
                                                                    <li value="5"><a name="remove-cert"></a>To remove the <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate for any reason (such as prior to re-securing a computer with <span class="okta-feature-namesDevice Trust">Device Trust</span>), first remove any existing <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate from the computer. You can use a command line or create an uninstall script in Jamf Pro. Both uninstall methods remove all <span class="okta-feature-namesDevice Trust">Device Trust</span> related artifacts from the macOS device.</li>
                                                                    <p />
                                                                    <div class="noteOkta">
                                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Note" alt="Note" />
                                                                        <p class="noteHeading">Note</p>
                                                                        <p class="noteContent">If you plan to reuse the script that you downloaded and modified in <a href="#PartB">Step 2 — Modify the Okta Device Registration Task</a>, make sure to first remove the Org Token before using it. Also, the token is not necessary for the uninstall operation.</p>
                                                                    </div>
                                                                    <p />
                                                                    <ul>
                                                                        <li value="1"><b>Remove through a command line</b> — Open a terminal on the target computer and issue the command <span class="code">python &lt;fileName&gt;.py uninstall</span> where <span class="code">&lt;fileName&gt;</span> is the name of Okta Device Registration Task. For example, if the name of the Okta Registration Task is <span class="code">MacOktaDeviceRegistrationTaskSetup.1.0.2.py</span>, you would issue this command:
                                    <p><span class="code">python MacOktaDeviceRegistrationTaskSetup.1.0.2.py uninstall</span></p></li>
                                                                        <li value="2"><b>Remove with an uninstall script</b> — Create an uninstall script in Jamf Pro configured to pass the <span class="code">uninstall</span> parameter. For details, see the procedure <a href="http://docs.jamf.com/10.6.0/jamf-pro/administrator-guide/Managing_Scripts.html#src-18787582_id-.ManagingScriptsv10.6.0-AddingaScripttoJamfPro" target="_blank">Adding a Script to Jamf Pro</a> in Jamf Pro documentation.</li>
                                                                    </ul>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a name="PartF"></a><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /> <span style="font-size: 14pt;"> View certificate enrollment logs</span> </a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <div style="line-height:75%;">
                                                                <br />
                                                            </div>
                                                            <h3><a name="View"></a>View logs in Jamf Pro</h3>
                                                            <p>During deployment, the Okta Device Registration Task publishes logs in Jamf at three log levels (INFO, WARN, ERROR). To diagnose deployment issues, Jamf administrators can view deployment logs on a policy or individual computer basis.&#160;To generate more granular logs, use the <span class="code">verbose</span> option as the Parameter Value in Jamf Pro. </p>
                                                            <p>
                                                                <img src="../../Resources/Images/dt-macos-jamf-policy-logs-verbose.png" />
                                                            </p>
                                                            <p>In addition, end users can view log messages on their local macOS&#160;computers by having the Console app open while the script runs on their computer.</p>
                                                            <h3>View logs on macOS&#160;computers</h3>
                                                            <p>You can watch and monitor Okta-related log messages during certificate enrollment. The method depends on the operating system running on the device.
								</p>
                                                            <h4>If running version <b>10.11.6</b> (OS X El Capitan):</h4>
                                                            <ol>
                                                                <li value="1">Open <b>Utilities &gt; Console</b>.</li>
                                                                <li value="2">Click <b>All Messages</b>.</li>
                                                                <li value="3">Type Okta in the search field and press <b>Enter</b> to filter all Okta-related messages.
									</li>
                                                            </ol>
                                                            <div style="line-height:75%;">
                                                                <br />
                                                            </div>
                                                            <h4>If running either of the following operating systems:</h4>
                                                            <ul>
                                                                <li value="1">macOS 10.12.6 (Sierra)</li>
                                                                <li value="2">macOS 10.13.4 (High Sierra)</li>
                                                            </ul>
                                                            <ol>
                                                                <li value="1">Open <b>Utilities &gt; Console</b>.</li>
                                                                <li value="2">Click your device under <b>Devices</b> in the left pane.</li>
                                                                <li value="3">Type Okta in the search field and press <b>Enter</b> to filter all Okta-related messages.</li>
                                                            </ol>
                                                            <div style="line-height:75%;">
                                                                <br />
                                                            </div>
                                                            <h4>To view past logs for all supported operating systems:</h4>
                                                            <ol>
                                                                <li value="1">Open <b>Utilities &gt; Console</b>.</li>
                                                                <li value="2">Go to <b>/var/log &gt;&#160;asl</b> in the left pane.</li>
                                                                <li value="3">Select the date you want to search on.</li>
                                                                <li value="4">Type Okta in the search field and press <b>Enter</b> to filter all Okta-related messages.</li>
                                                            </ol>
                                                            <div style="line-height:75%;">
                                                                <br />
                                                            </div>
                                                            <h4>To see the system calls executed on the device, run the following command and then execute the Device Registration Task:</h4>
                                                            <p id="code">log stream --predicate 'eventMessage contains "okta"'</p>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                        <hr width="100%" size="0" align="center" />
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="font-size: 14pt;"> Modify the app whitelist</span></a></span>
                                                        <div class="MCDropDownBody dropDownBody"><a name="PartG"></a>
                                                            <p>The Okta Device Registration Task whitelists some popular apps by default  so that end users aren't prompted for the keychain password when trying to access them. You can customize the default whitelist as described in this procedure. </p>
                                                            <p>&#160;</p>
                                                            <p>Keep in mind the following: </p>
                                                            <ul>
                                                                <li value="1">Keep a copy of your preferred whitelist. Your modified whitelist is overwritten whenever you push a new Okta Device Registration Task to your targeted macOS computers, so you'll have to recreate it. </li>
                                                                <li value="2">If you add apps to the original Okta-defined whitelist, you should consider testing your modified whitelist with a subset of users before rolling it out to all users.
                                        </li>
                                                                <li value="3">Unlike TeamIdentifiers for the other whitelisted apps, the TeamIdentifier for Safari is simply <span class="code">apple:</span> (notice the colon) without a <span class="code">teamid:</span> prefix. </li>
                                                                <li value="4">&#160;You can whitelist any SAML/WS-Fed-enabled app that supports authentication through a webview. The webview in which authentication is performed must have access to the Okta Keychain on the device. The original Okta-provided whitelist currently includes the following apps:

										<ul><li value="1">Box</li><li value="2">Chrome</li><li value="3">Safari</li><li value="4">Microsoft Office</li><li value="5">Skype for Business</li><li value="6">Google Drive</li><li value="7">Slack</li></ul></li>
                                                            </ul>
                                                            <div style="line-height:70%;">
                                                                <br />
                                                            </div>
                                                            <ol>
                                                                <li value="1">Find the TeamIdentifier for the app(s) you want to whitelist:</li>
                                                                <ol style="list-style-type: lower-alpha;">
                                                                    <li value="1">On a macOS device that has the apps you want to whitelist, open a command line  and  list the apps in the Applications folder:</li>
                                                                    <p id="code">ls /Applications</p>
                                                                    <li value="2">Find an app's TeamIdentifier:</li>
                                                                    <p id="code">codesign -dv --verbose=4 /Applications/<b>exampleapp</b>.app</p>
                                                                    <p>where <span class="code">exampleapp</span> is the app you are investigating.
                                        </p>
                                                                    <li value="3">Locate the TeamIdentifier value in the output and make a note of it. </li>
                                                                    <p>For example, here's how to find the team TeamIdentifier for RingCentral:</p>
                                                                    <p id="code">codesign -dv --verbose=4/App /Applications/RingCentral\ Meetings.app
</p>
                                                                    <p>And here's the output:</p>
                                                                    <p>
                                                                    </p>
                                                                    <img src="../../Resources/Images/dt-teamID-ring-central.png" />
                                                                    <div style="line-height:110%;">
                                                                        <br />
                                                                    </div>
                                                                </ol>
                                                                <li value="2">Modify the whitelist in the Okta Device Registration Task:</li>
                                                                <h4>Example before modification </h4>
                                                                <p>Whitelist includes the original Okta-defined whitelist:</p>
                                                                <div style="line-height:80%;">
                                                                    <br />
                                                                </div>
                                                                <img src="../../Resources/Images/dt-macos-whitelist-before-mod.png" />
                                                                <div style="line-height:120%;">
                                                                    <br />
                                                                </div>
                                                                <h4>Example after modification</h4>
                                                                <p> Whitelist with RingCentral added:</p>
                                                                <div style="line-height:80%;">
                                                                    <br />
                                                                </div>
                                                                <img src="../../Resources/Images/dt-macos-whitelist-after-mod.png" />
                                                                <div style="line-height:120%;">
                                                                    <br />
                                                                </div>
                                                                <li value="3">Save your changes.</li>
                                                                <li value="4"> When appropriate, push the Okta Device Registration Task as described <a href="#PartC">STEP 3 - Add the modified Okta Device Registration Task to Jamf Pro and distribute it to macOS devices</a>.</li>
                                                            </ol>
                                                            <div class="noteOkta">
                                                                <img src="../../Resources/Images/assets/Icons/Notes/icon-lightbulb.png" class="noteImgFloat" title="Tip" alt="Tip" />
                                                                <p class="noteHeading">Tip</p>
                                                                <p class="noteContent">Keep a copy of your preferred whitelist. Your modified whitelist is overwritten whenever you push a new Okta Device Registration Task to your targeted macOS computers, so you'll have to recreate it.</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                    </div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Troubleshooting_dt-macOS"></a><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false"><span style="font-size: 14pt;">Troubleshooting</span></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p>The Okta Device Registration Task is a python script that you obtain from&#160;Okta, modify, and then upload to Jamf Pro for distribution to the macOS devices you have targeted for this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution.</p>
                                                                <h4>About the Okta Device Registration Task</h4>
                                                                <p>When deployed on the device, the Okta Device Registration Task does the following:</p>
                                                                <ul>
                                                                    <li value="1">
                                                                        <p>Registers with Okta to obtain a <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate. Okta checks with Jamf Pro to make sure the device is managed.</p>
                                                                    </li>
                                                                    <li value="2">
                                                                        <p>Configures Chrome and Safari browsers and <a href="#" class="MCTextPopup popup popupHead">tested native apps<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>These Modern Auth-enabled native apps: Microsoft Office 365, Box, Google Drive, Skype for Business, Slack</span></a> on the device to present the certificate automatically during secure app access.</p>
                                                                        <li value="2">
                                                                            <p>Schedules a lightweight task that runs once a day and whenever users log in to their computer. The task checks whether the <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate  is expired and tries to renew the certificate 30 days before expiry. Certificates are valid for 1 year.</p>
                                                                        </li>
                                                                    </li>
                                                                    <li value="3">During renewal, Okta performs  checks similar to those that occur during registration, such as checking whether the device is managed before issuing a new certificate.
										
										
										
										</li>
                                                                    <li value="4">After the script runs on the device once, Jamf Pro removes it from the device automatically.</li>
                                                                    <li value="5">You can use the following query to determine which version of the Registration Task is installed on the device:<p /><p id="code">python ~/Library/Okta/okta_device_trust.py version</p></li>
                                                                    <p />
                                                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/dt-macos-flow.png"><img class="MCPopupThumbnail img" data-mc-width="933" data-mc-height="676" src="../../Resources/Images/dt-macos-flow_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" id="imgimg_new" /></a>
                                                                    </p>
                                                                </ul>
                                                                <h4>Basic and Advanced troubleshooting</h4>
                                                                <p> The two problems that you are most likely to encounter are:</p>
                                                                <ul>
                                                                    <li value="1">Trusted devices are unable to access <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured apps.</li>
                                                                    <li value="2">Untrusted devices are able to access <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured apps.</li>
                                                                </ul>
                                                                <p>If you encounter either problem, try to correct it by performing Basic Troubleshooting. If the problem persists, perform Advanced Troubleshooting.</p>
                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="BasicTroubleshooting_dt-macOS"></a><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Basic Troubleshooting</a></span>
                                                                    <div class="MCDropDownBody dropDownBody">
                                                                        <p>To perform basic troubleshooting, review the following areas:</p>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Enablement</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <p>Verify the following:</p>
                                                                                <ul>
                                                                                    <li value="1">This device trust feature is included in your org's version of Okta  (your SKU) </li>
                                                                                    <li value="2">You have <a href="#PartA">enabled the global <span class="okta-feature-namesDevice Trust">Device Trust</span> setting</a> in <b>Security &gt; Device Trust &gt;&#160;Enable macOS&#160;<span class="okta-feature-namesDevice Trust">Device Trust</span></b>.</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Registration task</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <p>Verify that you have correctly configured Jamf Pro to distribute the Device Registration Task to targeted macOS devices as detailed in <a href="#PartC">Part C</a>.</p>
                                                                                <p>You can use the following query to determine which version of the Registration Task is running on the device:
				
				
									<p id="code">python ~/Library/Okta/okta_device_trust.py version</p></p>
                                                                            </div>
                                                                        </div>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Certificate</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <p>
                                                                                    </p>
                                                                                    <h3>Verify that the certificate is installed</h3>
                                                                                    <p>Make sure that certificates are installed in the keychain on the devices you have targeted for this Device Trust solution. If certificates are not installed and the Trusted setting is enabled in your App Sign On Policy, users are denied access to the app and are redirected to a security message advising them to contact their administrator. (You can configure the message to include a <b>Learn more</b> link to more information. See <a href="#learn-more-link">Step 1 — Enable the global Device Trust setting for your org</a>). </p>
                                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To verify installation from a terminal:</a></span>
                                                                                        <div class="MCDropDownBody dropDownBody">
                                                                                            <h4>Show keychain info</h4>
                                                                                            <p id="code">security show-keychain-info okta.keychain</p>
                                                                                            <h4>Show the certificate</h4>
                                                                                            <p id="code">security find-certificate -a -c 'Okta MTLS' -Z -p okta.keychain</p>
                                                                                            <h4>Show the password</h4>
                                                                                            <p id="code">security find-generic-password -l device_trust -w</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div style="line-height:110%;">
                                                                                        <br />
                                                                                    </div>
                                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To verify installation through the GUI on targeted devices:</a></span>
                                                                                        <div class="MCDropDownBody dropDownBody">
                                                                                            <div>
                                                                                                <ol>
                                                                                                    <li value="1">On the macOS&#160;device, search for Keychain Access.</li>
                                                                                                    <li value="2">Double click to open the Keychain Access app.</li>
                                                                                                    <li value="3">Verify that the Okta Keychain exists and that it includes the <b>Okta MTLS certificate</b>.</li>
                                                                                                    <p>
                                                                                                        <img src="../../Resources/Images/dt-macos-keychain-troubleshooting.png" />
                                                                                                    </p>
                                                                                                    <p>If either the Okta Keychain, the certificate, or the private key are missing, the registration task did not complete successfully. In this case, <a href="#View">view logs in Jamf Pro</a>. </p>
                                                                                                    <li value="4">In the <b>login</b> keychain, verify that the <b>device_trust</b> password and <b>identity preferences</b> appear. </li>
                                                                                                    <p>
                                                                                                        <img src="../../Resources/Images/dt-macos-keychain-pw-troubleshooting.png" />
                                                                                                    </p>
                                                                                                    <p>If the <b>device_trust</b> password isn't present then device trust-secured apps can't access the Okta keychain. To remedy, uninstall the certificate (see <a href="#PartE">Revoke and remove Device Trust certificates</a>) and then re-enroll the device (see <a href="#PartC">STEP 3 — Add the modified Okta Device Registration Task to Jamf Pro and distribute it to macOS devices</a>).</p>
                                                                                                </ol>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
                                                                                    <p>
                                                                                    </p>
                                                                                    <h3>Maximum certificate enrollment limit</h3>
                                                                                    <p> A certificate becomes bound to a given user the first time that user accesses a device trust-secured application from a device trust-secured macOS device. Unused certificates are unbound. Okta can issue up to five unbound certificates to the device, one each time you perform the enrollment procedure. As a security precaution, Okta will not issue more than five unbound certificates to a given device. To avoid reaching the unbound certificate limit, ensure that users use the unbound certificates already on the device before you attempt to obtain more certificates through enrollment. If you reach the enrollment limit, the Syslog indicates an enrollment failure and the error message <b>Maximum enrollment limit of 5 certificates for a device is reached</b> appears in the JAMF log.</p>
                                                                                </div>
                                                                                <div>
                                                                                    <h3><a name="MTLS-handshake"></a>Prevent an auth failure caused by blocked Mutual TLS certificate exchange
</h3>
                                                                                    <div>
                                                                                        <p data-mc-conditions="SnippetConditionsForDevices.macOS Only">The Mutual TLS certificate exchange (handshake) in this <span class="okta-feature-namesDevice Trust">Device Trust</span> flow occurs on Okta URLs that are separate from your Okta org URL (indicated by the wildcard character (*) in the following example).  If your org implements endpoint protection software, make sure to configure it in a way that does not block the Mutual TLS certificate exchange (handshake) that occurs during this <span class="okta-feature-namesDevice Trust">Device Trust</span> flow. For example, if your organization uses a whitelist to limit outbound traffic, add these exact URLs to the whitelist, including the wildcard character (*):</p>
                                                                                        <p id="code">*.okta.com</p>
                                                                                        <p id="code">*.okta-emea.com
                </p>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Sign On Policy</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <p>Verify that you have configured a Sign On Policy that:</p>
                                                                                <ul>
                                                                                    <li value="1">Is applied to the WS-Fed or SAML app(s) that you want to secure with <span class="okta-feature-namesDevice Trust">Device Trust</span>.</li>
                                                                                    <li value="2">Is applied to the correct user(s) and/or groups.</li>
                                                                                    <li value="3">Includes, at minimum, an Active rule that denies access to untrusted devices.</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="DT_macOS_SysLog"></a><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">System Log</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <div>
                                                                                    <h3>Verify <span class="okta-feature-namesDevice Trust">Device Trust</span> events</h3>
                                                                                    <p>Review the <a href="../Reports/Reports_SysLog.htm" rel="noreferrer" target="_blank">System Log</a> to verify the following <span class="okta-feature-namesDevice Trust">Device Trust</span> System Log events:
</p>
                                                                                    <h4>Authentication</h4>
                                                                                    <ul>
                                                                                        <li value="1"><b>DisplayMessage</b>: Authentication of device via certificate</li>
                                                                                        <li value="2"><b>EventType</b>: <span class="code">user.authentication.authenticate</span></li>
                                                                                    </ul>
                                                                                    <h4>Enrollment</h4>
                                                                                    <ul>
                                                                                        <li value="1"><b>DisplayMessage</b>: <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate enrollment</li>
                                                                                        <li value="2"><b>EventType</b>: <span class="code">user.credential.enroll</span></li>
                                                                                    </ul>
                                                                                    <h4>Issuance	</h4>
                                                                                    <ul>
                                                                                        <li value="1"><b>DisplayMessage</b>: <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate issuance</li>
                                                                                        <li value="2"><b>EventType</b>: <span class="code">pki.cert.issue</span></li>
                                                                                    </ul>
                                                                                    <h4>Revocation</h4>
                                                                                    <ul>
                                                                                        <li value="1"><b>DisplayMessage</b>: <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate revocation</li>
                                                                                        <li value="2"><b>EventType</b>: <span class="code">pki.cert.revoke</span></li>
                                                                                    </ul>
                                                                                    <h4>Renewal</h4>
                                                                                    <ul>
                                                                                        <li value="1"><b>DisplayMessage</b>: <span class="okta-feature-namesDevice Trust">Device Trust</span> certificate renewal</li>
                                                                                        <li value="2"><b>EventType</b>: <span class="code">pki.cert.renew</span></li>
                                                                                    </ul>
                                                                                </div>
                                                                                <div>
                                                                                    <h3>View unique device IDs in DebugContext</h3>
                                                                                    <p>DebugData shows the unique ID of the devices associated with <span class="okta-feature-namesDevice Trust">Device Trust</span> events and is useful for debugging purposes. This information can also help you  verify that<span class="okta-feature-namesDevice Trust">Device Trust</span> is being enforced on devices in your device inventory, which may be useful prior to rolling out the feature to a large group of users.</p>
                                                                                    <div class="noteOkta">
                                                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                                                        <p class="noteHeading">Important</p>
                                                                                        <p class="noteContent">The information contained in debugContext.debugData is intended to add context when troubleshooting customer platform issues. Note that key names and values are subject to change without notice and should be used primarily as a debugging aid, not as a data contract.  See <a href="https://developer.okta.com/docs/reference/api/system-log/#debugcontext-object" target="_blank">DebugContext Object</a> in Okta Developer documentation.</p>
                                                                                    </div>
                                                                                    <ol>
                                                                                        <li value="1">In the <span class="okta-feature-namesAdministrator dashboard">Admin Console</span>, go to <b>Reports</b> &gt; <b>System Log</b>.</li>
                                                                                        <li value="2">Search for the <span class="okta-feature-namesDevice Trust">Device Trust</span> Event (date) that you’re interested in, then navigate to:
                                        <p><b>Event &gt; AuthenticationContext &gt; System &gt; DebugContext &gt; DebugData</b></p></li>
                                                                                    </ol>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Verify Jamf Pro setup</a></span>
                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                <ul>
                                                                                    <li value="1">In the Okta Admin Console, are the <b><span class="disableGlossary">Secret Key</span> Value</b> and the <b>Org URL</b> correctly populated in the Okta Device Registration Task (see <a href="#PartB">STEP 2 — Modify the Okta Device Registration Task</a>)?</li>
                                                                                    <li value="2">Is the Okta Device Registration Task that you modified and added to Jamf Pro the latest version? (See <a href="../Settings/Settings_Downloads.htm#Device" rel="noreferrer" target="_blank">Version History</a>.)</li>
                                                                                    <li value="3">Do the trigger events in your Jamf Pro policy  include <b>Enrollment Complete</b> and <b>Recurring Check-in</b>? (See <a href="#PartC">STEP 3 — Add the modified Okta Device Registration Task to Jamf Pro and distribute it to macOS devices</a>.)</li>
                                                                                    <li value="4">

											Have you viewed deployment logs? (See <a href="#PartF">View certificate enrollment logs</a>.)
										</li>
                                                                                    <li value="5">Do Jamf Pro Policy Logs show that the script execution status is <b>Completed</b>? </li>
                                                                                    <p>
                                                                                        <img src="../../Resources/Images/dt-macos-jamf-policy-logs-troubleshooting.png" />
                                                                                    </p>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="AdvancedTroubleshooting_dt-macOS"></a><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Advanced Troubleshooting</a></span>
                                                                    <div class="MCDropDownBody dropDownBody">
                                                                        <p>If Basic Troubleshooting did not resolve the problem you are experiencing, and the certificate isn't installed on the macOS&#160;device, check in the following locations:</p>
                                                                        <h3>In the Okta Admin app</h3>
                                                                        <p>Verify that the end user of the macOS device is present and Activated in <b>Directory &gt; People</b>.</p>
                                                                        <h3>On the macOS&#160;device</h3>
                                                                        <h4>Confirm that auto certificate settings are configured in Chrome:</h4>
                                                                        <ol>
                                                                            <li value="1">In Chrome, enter chrome://policy in the address bar, and then press <b>Enter</b>.</li>
                                                                            <li value="2">Click <b>Show value</b> and verify that the policy <b>AutoSelectCertificateForUrls</b> displays either of the following values:

								<p id="code">{"pattern":"https://[cell]-devicetrust.okta.com","filter":{"ISSUER":{"CN":"MTLS Certificate Authority”}}}</p><p id="code">{"pattern":"https://[cell]-devicetrust.okta-emea.com","filter":{"ISSUER":{"CN":"MTLS Certificate Authority”}}}
                                        </p></li>
                                                                            <p>where <span class="code">[cell]</span> is the cell where your Okta org resides as shown in the footer on your Okta Admin Console.</p>
                                                                        </ol>
                                                                        <h4>Verify that native apps are whitelisted in the keychain</h4>
                                                                        <p>Issue the following command to verify that <a href="#" class="MCTextPopup popup popupHead">whitelisted apps<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody" aria-hidden="true"><span class="MCTextPopupArrow"></span>Microsoft Office 365, Box, Google Drive, Skype for Business, Slack</span></a> can access the certificate (see <a href="#PartG">Modify the app whitelist</a>): </p>
                                                                        <p id="code">security dump-keychain -a okta.keychain</p>
                                                                        <div style="line-height:150%;">
                                                                            <br />
                                                                        </div>
                                                                        <p>
                                                                            <img src="../../Resources/Images/dt-macos-dump-keychain-troubleshooting.png" />
                                                                        </p>
                                                                        <h4>Validate remediation</h4>
                                                                        <p>Try to access a <span class="okta-feature-namesDevice Trust">Device Trust</span>-secured app from a browser or thick client. If an error displays while trying to access the app, <b>Quit</b> and <b>Close</b> the browser (Chrome or Safari), then relaunch the browser and try to access the app again.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:150%;">
                                                        <br />
                                                    </div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-size: 14pt;" href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Known issues</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ul>
                                                                <li value="1"><b>Security requirements page not shown when accessing O365 native apps</b> — End users with unmanaged macOS devices are not shown the <b>Security requirements</b> page when they try to access Office O365 native apps secured by this <span class="okta-feature-namesDevice Trust">Device Trust</span> solution. (This problem occurs only with Office Native apps; it doesn't occur when trying to access O365 apps through desktop browsers like Chrome and Safari.) <p><img src="../../Resources/Images/DT_Security_URLspecified_2.png" /></p></li>
                                                                <li value="2"><b>Problem accessing Google Backup and Sync app</b> — When signing in to the Backup and Sync app (part of Google Drive), the authentication flow stops on the Google Account page instead of progressing to the app. Google is aware of this issue. To complete signing in, click the <b>Sign in with your browser instead</b> link in the lower portion of the page.</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div style="line-height:120%;">
                                                        <br />
                                                    </div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a style="font-size: 14pt;" href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Related topics</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <h4>From Okta</h4>
                                                            <p><a href="../device-trust/device-trust-landing.htm" rel="noreferrer" target="_blank">Device Trust</a>
                                                            </p>
                                                            <p><a href="../Settings/Version_Histories/Ver_History_Device_Trust_MacOS.htm" class="MCXref xref">Device Trust for macOS Registration Task Version History</a>
                                                            </p>
                                                            <p><a href="../Security/O365_Client-Access-Policies.htm" rel="noreferrer" target="_blank">Office 365 Client Access Policies</a>
                                                            </p>
                                                            <p><a href="../Apps/Apps_Apps.htm#EAS" rel="noreferrer" target="_blank">Configuring Microsoft Exchange ActiveSync (EAS)</a>
                                                            </p>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div>
                                                            <h4>External resources</h4>
                                                            <p><u style="font-style: normal; text-decoration: none;">Microsoft</u>
                                                            </p>
                                                            <p><a href="https://docs.microsoft.com/en-us/office365/enterprise/modern-auth-for-office-2013-and-2016?redirectSourcePath=%252fen-us%252farticle%252fusing-office-365-modern-authentication-with-office-clients-776c0036-66fd-41cb-8928-5495c0f9168a" rel="noreferrer" target="_blank">How modern authentication works for Office 2013 and Office 2016 client apps</a>
                                                            </p>
                                                            <p><a href="https://social.technet.microsoft.com/wiki/contents/articles/36101.office-365-enable-modern-authentication.aspx" rel="noreferrer" target="_blank">Office 365: Enable Modern Authentication</a>
                                                            </p>
                                                            <p><a href="https://www.microsoft.com/en-us/microsoft-365/blog/2015/11/19/updated-office-365-modern-authentication-public-preview/" rel="noreferrer" target="_blank">Updated Office 365 modern authentication</a>
                                                            </p>
                                                            <p><a href="https://social.technet.microsoft.com/wiki/contents/articles/30253.office-2013-and-office-365-proplus-modern-authentication-and-client-access-filtering-policies-things-to-know-before-onboarding.aspx" rel="noreferrer" target="_blank">Office 2013 and Office 365 ProPlus modern authentication and client access filtering policies</a>
                                                            </p>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div>
                                                            <p><a name="related-jamf"></a>Jamf Pro
                </p>
                                                            <p><a href="http://docs.jamf.com/9.9/casper-suite/administrator-guide/Computer_Extension_Attributes.html" rel="noreferrer" target="_blank">Computer Extension Attributes</a>
                                                            </p>
                                                            <p><a href="https://www.jamf.com/resources/videos/introduction-to-extension-attributes/" rel="noreferrer" target="_blank">Introduction to Extension Attributes (video)</a>
                                                            </p>
                                                            <p><a href="http://docs.jamf.com/10.6.0/jamf-pro/administrator-guide/Managing_Scripts.html" rel="noreferrer" target="_blank">Managing Scripts</a> </p>
                                                            <p><a href="http://docs.jamf.com/10.4.0/jamf-pro/quickstart-computers/How_to_Use_This_Guide.html" rel="noreferrer" target="_blank">QuickStart Guide for Managing Computers 10.4.0</a>
                                                            </p>
                                                            <p><a href="http://docs.jamf.com/10.4.0/jamf-pro/quickstart-mobile-devices/How_to_Use_This_Guide.html" rel="noreferrer" target="_blank">QuickStart Guide for Managing Mobile Devices 10.4.0</a>
                                                            </p>
                                                            <p><a href="http://docs.jamf.com/10.4.0/jamf-pro/install-guide-mac/About_This_Guide.html" rel="noreferrer" target="_blank">Jamf Pro Installation and Configuration Guide for Mac 10.4.0</a>
                                                            </p>
                                                            <p><a href="http://docs.jamf.com/10.4.0/jamf-pro/administrator-guide/About_This_Guide.html" rel="noreferrer" target="_blank">Jamf Pro Administrator's Guide 10.4.0</a>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Right menu Col ***  ****commented out temporarily until redesign for "on this page" implementation, redundant to new left accordion implementation***-->
                                        <!--<div class="is-not-in-mobile">
                <MadCap:menuProxy data-mc-skin="/Project/Skins/okta-right-menu.flskn" mc-linked-toc="/Project/TOCs/okta-TOC.fltoc" style="mc-context-sensitive: True;mc-include-parent: True;mc-include-siblings: False;mc-include-children: True;" />
            </div>-->
                                    </div>
                                    <div class="toolbar-bottom">
                                        <!-- Expand/Collapse All for drop-downs -->
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie previous-topic-button" title="Previous topic">
                                                    <img alt="Navigate previous" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                                <button class="button needs-pie next-topic-button" title="Next topic">
                                                    <img alt="Navigate next" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <!--         <div class="footer2">
            <div>
                <ul>
                    <li><a href="https://fulluat-okta.cs67.force.com/help/s/article/Okta-Community-FAQs">Community FAQ</a>
                    </li>
                    <li><a href="https://support.okta.com/help/s/article/Okta-Community-Terms-and-Conditions">Terms &amp; Conditions</a>
                    </li>
                    <li>Trust</li>
                    <li><a href="https://www.okta.com/contact/">Contact</a>
                    </li>
                    <li>Feedback</li>
                </ul>
            </div>
            <div>
                <p class="try-okta-button"><a role="button" href="https://www.okta.com/free-trial/">Try Okta For Free</a>
                </p>
            </div>
        </div> -->
                                    <div class="footer2">
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                        <!--             <div>
                <ul>
                    <li><a href="https://twitter.com/okta"><img src="../Images/okta-assets/twitter.png" /></a>
                    </li>
                    <li><a href="https://www.facebook.com/OktaIdentity"><img src="../Images/okta-assets/facebook.png" /></a>
                    </li>
                    <li><a href="https://www.linkedin.com/company/okta-inc-/"><img src="../Images/okta-assets/linkedin.png" /></a>
                    </li>
                    <li><a href="https://www.youtube.com/user/OktaInc"><img src="../Images/okta-assets/youtube.png" /></a>
                    </li>
                    <li><a href="https://www.okta.com"><img src="../Images/okta-assets/okta.png" /></a>
                    </li>
                </ul>
            </div> -->
                                    </div>
                                    <!-- Qualtrics setup to use with script below, replacing getfeedback -->
                                    <div id="ZN_6fGBJ8J3VcIBymN">
                                        <!--DO NOT REMOVE-CONTENTS PLACED HERE-->
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <!--         <script type="text/javascript" src="../Scripts/get-feedback.js">
        </script> -->
                                    <script type="text/javascript" src="../../Resources/Scripts/js/vendor/qualtrics.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
