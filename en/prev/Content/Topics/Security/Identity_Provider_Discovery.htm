<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" class="_Skins_okta_html5_topnav_old" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Identity Provider Discovery</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
		/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
		/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <!--<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		</script>-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/sanitize-html.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <div class="LeftRightTopRow">
                                        <div>
                                            <div>
                                            </div>
                                            <div class="toolbar-main is-not-in-mobile">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <p />
                                        </div>
                                    </div>
                                    <div class="LeftRightMenu">
                                        <div class="body-main">
                                            <h1>Identity Provider Discovery</h1>
                                            <p><b>Note:</b> This feature is available for all Preview organizations. It is an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Early Access<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Early Access (EA) features are opt-in features that you can try out in your org by asking Okta Support to enable them. Additionally, the Features page in the Okta Admin Console (Settings &amp;gt; Features) allows Super Admins to enable and disable some EA features themselves.</span></a> feature for Production organizations at this time.</p>
                                            <p>When configured, Identity Provider Discovery redirects users to different identity providers based on specified criteria. These criteria include location, device, the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> or app instance being accessed, the user's <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a>, and specific user attributes. For organizations that have more than one Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>, the separate orgs can use separate identity providers and keep <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> of users separate.</p>
                                            <p><b>Note:</b> Identity Provider Discovery is designed to improve usability and to enhance the end-user experience. It does not provide additional security enhancements.</p>
                                            <p><b>Limitation:</b> Identity Provider Discovery on ChromeBooks only supports the Okta Identity Provider and third-party Identity Providers that have announced support for ChromeBook.</p>
                                            <h2>End-user experience</h2>
                                            <p>When Identity Provider Discovery is configured to select a provider based on the end user's domain or attributes, the end-user sees a modified sign-in screen that  accepts the email, and short names, as shown below.</p>
                                            <p>
                                                <img src="../../Resources/Images/idp_discovery_4.png" />
                                            </p>
                                            <p>The sign in is evaluated against the set criteria and the user is redirected to the appropriate sign-in screen for the desired identity provider. </p>
                                            <h2>Overview</h2>
                                            <p>Identity Provider Discovery is useful in the following scenarios</p>
                                            <ul>
                                                <li value="1"><b>On-network vs. off-network</b> — you can maintain alternate or legacy authentication for off-network users and use Okta for on-network users</li>
                                                <li value="2"><b>Mobile user</b>s — Mobile users, identified by device, can route authentication to a third-party identity provider with specific functionality.</li>
                                                <li value="3"><b>Hub-and-spoke organizations</b> — organizations that manage users, Active Directories, policies, apps, workflow management etc. in one of the "spoke" organizations, but require access to the central organization for certain apps, such as Workday, or other reasons. Using Identity Provider Discovery, users can authenticate from an app using an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for service provider. Generally, an SP is a company, usually providing organizations with communications, storage, processing, and a host of other services. Within Okta, it is any website that accepts SAML responses as a way of signing in users, and has the ability to redirect a user to an IdP (e.g., Okta) to begin the authentication process.</span></a>-initiated flow to the "hub" organization which uses Identity Provider Discovery to authenticate into the "spoke" organization seamlessly.</li>
                                                <li value="4"><b>Desktop <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a></b> — You can route desktop users to Integrated Windows Authentication (IWA) and mobile users to Okta for authentication.</li>
                                                <li value="5"><b>Multiple customer organizations</b> — you can send users across multiple orgs to a different org for authentication, based on the email subdomain.</li>
                                                <li value="6"><b>Required discovery by user attribute</b> — in some B2B scenarios where the email domain does not necessarily correlate to the identity provider, you can direct authentication based on user attributes</li>
                                            </ul>
                                            <h2>Pre-configuration</h2>
                                            <p>Before using this feature, you must have an additional identity provider configured. For information on configuring an additional <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.</span></a> identity provider, see <a href="Identity_Providers.htm#ConfigureInboundSAML">Configure Inbound SAML</a>. Identity Provider Discovery does not support Social Identity Providers.</p>
                                            <h2><a name="configidpdiscovery"></a>Configuration</h2>
                                            <p>To configure Identity Provider Routing Rules (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">IdP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Identity Provider. It is a service that manages end user accounts analogous to user directories such as LDAP and Active Directory, and can send SAML responses to SPs to authenticate end users. Within this scenario, the IdP is Okta.</span></a>&#160;Discovery), navigate to <b>Security &gt; Identity Providers</b>, and then, click the <b>Routing Rules</b> tab. The default rule is shown that specifies Okta as the default identity provider. To add an additional provider, click <b>Add Routing Rule</b>. The screen shown below opens.</p>
                                            <p>
                                                <img src="../../Resources/Images/idp_discovery_557x505.png" style="width: 557;height: 505;" />
                                            </p>
                                            <p>You must name the rule. In addition to the name there are four types of routing specifications. Note that all specified conditions must be met to trigger the rule. After defining the conditions, you specify the identity provider to use.</p>
                                            <ul>
                                                <li value="1"><b>User's IP Address</b> — choices are <em>Anywhere</em>, <em>In zone</em>, and <em>Not in zone</em>. To specify a zone here, at least one network zone must already be defined. For information on zones, see <a href="Security_Network.htm#IP">IP Zones</a>.</li>
                                                <li value="2"><b>User's Device Platform</b> — choices are <em>Any device</em>, any of these mobile devices: <em>iOS</em>, <em>Android</em>, <em>Other mobile (e.g. BlackBerry)</em>, and any these desktop devices: <em>Windows</em>, <em>macOS</em>, <em>Other desktop (e.g. Linux)</em>. You can select any desired combination of devices.</li>
                                                <li value="3"><b>User is accessing</b> — choices are <em>Any application</em> or to specify applications. To add an application or app instance, start typing the application name. A list of all matching apps appears from which you ca<em>Regex on login</em>n choose. You can specify multiple applications.</li>
                                                <li value="4"><b>User matches</b> — based  on the user attribute <i>login	</i><![CDATA[	]]><p><em>User attribute </em>specifies an attribute name, a type of comparison, and a value to match. After selecting <em>User attribute</em>, the item shown below appears.</p><p><img src="../../Resources/Images/idp_discovery_2.png" /></p><p>Choose an attribute from the list and choose the type of comparison to use from the second list. The expanded drop down lists are similar to the following example, varying by the user attributes in your org.</p><p><img src="../../Resources/Images/idp_discovery_3.png" /></p><p>After choosing from the drop down lists, enter the value to use for comparison. If you choose <em>Regex</em> for the type of comparison, enter a valid regular expression for the value.</p></li>
                                                <li value="5"><b>Use this identity provider</b> — choose the identity provider from the drop down list to use when all the criteria are met.</li>
                                            </ul>
                                            <p>When done, click <b>Create Rule</b>. After creating a rule, the following prompt appears to allow you to activate the rule.</p>
                                            <ul>
                                                <li value="1">If you activate the rule, it is immediately in effect.</li>
                                                <li value="2">If you do not activate the rule, it is listed on the Routing Rules screen as inactive.</li>
                                            </ul>
                                            <p>
                                                <img src="../../Resources/Images/idp_discovery_5.png" />
                                            </p>
                                            <h2>Maintaining Routing Rules</h2>
                                            <p>The Routing Rules screen shows all rules, active and inactive. </p>
                                            <p>&#160;</p>
                                            <p>
                                                <img src="../../Resources/Images/idp_discovery_7.png" />
                                            </p>
                                            <p>To activate, edit, deactivate, or delete a rule, click the rule name, and then click an action button on the right. You cannot modify the default rule.</p>
                                            <p>
                                                <img src="../../Resources/Images/idp_discovery_6.png" />
                                            </p><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                        </div>
                                        <div>
                                        </div>
                                    </div>
                                    <div class="Footer">
                                        <div>
                                            <p class="copyright">© Copyright <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span></p>
                                        </div>
                                    </div>
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <!-- <script src="../../Resources/Scripts/js/vendor/jquery.js"></script> -->
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>