<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Setup Access Gateway using Oracle Cloud Infrastructure(OCI) | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="Cfl0yuuAeECSoeRtWIz53A">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="Cfl0yuuAeECSoeRtWIz53A:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1>Setup Access Gateway using Oracle Cloud Infrastructure(OCI)</h1>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="Overview"></a>Overview</h2>
                                                <p>The purpose of this guide is to walk through the process of installing the Access Gateway software appliance into an&#160;Oracle Cloud Infrastructure (OCI) instance. </p>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="Prerequisites"></a>Prerequisites</h2>
                                                <ul style="list-style-type: square;">
                                                    <li value="1">You have reviewed all <a href="pre-install-requirements.htm" class="MCXref xref">Prerequisites for Deploying Access Gateway</a></li>
                                                    <li value="2">You’re familiar with Oracle Cloud Infrastructure GUI and cli, commands and concepts.<br />Wherever possible both the UI and CLI instructions are provided. </li>
                                                    <li value="3">You have installed <a href="https://www.virtualbox.org/">Virtual Box v6.0</a> or later. </li>
                                                    <li value="4">You have installed and are familiar with the <a href="https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm">Oracle Cloud Infrastructure CLI</a>.  Those intending to ONLY&#160;use the Oracle Cloud Console UI&#160;need not install the OCI&#160;CLI&#160;support.<br />See <a href="setup-oracle-oci-cli.htm" class="MCXref xref">Setup Oracle OCI Command Line</a> for an introduction to downloading and configuring the Oracle Cloud Infrastructure CLI.</li>
                                                </ul>
                                                <div class="noteOkta">
                                                    <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                    <p class="noteHeading">Note</p>
                                                    <p class="noteContent">The <a href="https://www.virtualbox.org/wiki/Downloads">Virtual Box Extension Pack</a> pack is required for those who wish to upload the image directly from Virtual Box to Oracle Cloud Infrastructure. If you intend  to export directly to Oracle Cloud Infrastructure will need version Virtual Box v6.1 or later.</p>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="What’s"></a>What’s covered in this guide</h2>
                                                <div>
                                                    <p>In order to use the Access Gateway OVA&#160;with Oracle Cloud Infrastructure we must:</p>
                                                    <ol style="list-style-type: square;">
                                                        <li value="1"><a href="#Download_OVA" class="MCXref xref">Download the latest OVA&#160;image.</a>
                                                        </li>
                                                        <li value="2"><a href="#PrepareImage" class="MCXref xref">Prepare Image</a>
                                                        </li>
                                                        <li value="3"><a href="#Create_Bucket" class="MCXref xref">Create a Storage Bucket</a>
                                                        </li>
                                                        <li value="4"><a href="#Upload_2_Bucket" class="MCXref xref">Upload the OVA to a Storage Bucket</a>
                                                        </li>
                                                        <li value="5"><a href="#Import_Access_Gateway_Image" class="MCXref xref">Import Access Gateway Image</a>
                                                        </li>
                                                        <li value="6"><a href="#CreateFromImport" class="MCXref xref">Create Instance from Imported Image</a>
                                                        </li>
                                                    </ol>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div>
                                                    <h2><a name="Download_OVA"></a>Download the latest OVA&#160;image.</h2>
                                                    <p>To download the latest Okta Access Gateway OVA Image:</p>
                                                    <ol>
                                                        <li value="1">
                                                            <p>Login to your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a> as <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a>. </p>
                                                        </li>
                                                        <li value="2">
                                                            <p>Download the Okta Access Gateway image from the <b>Settings &gt; Downloads</b> page.</p>
                                                        </li>
                                                        <li value="3">
                                                            <p>When prompted save the file to an appropriate location.</p>
                                                        </li>
                                                    </ol>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="PrepareImage"></a>Prepare Image</h2>
                                                    <p>Oracle Cloud Infrastructure cannot import the Access Gateway OVA unchanged. <br />			To prepare the image: </p>
                                                    <ol>
                                                        <li value="1">Start<b>VirtualBox</b></li>
                                                        <li value="2">Choose <b>File &gt; Import Appliance</b></li>
                                                        <li value="3">Navigate to the downloaded Access Gateway OVA file, and click <b>Open</b></li>
                                                        <li value="4">Click <b>Continue</b>. </li>
                                                        <li value="5">In the <i>Appliance Settings</i> dialog specify the following values:<br /><table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-srb_header" cellspacing="0"><col style="width: 187px;" class="TableStyle-srb_header-Column-Column1" /><col style="width: 50%;" class="TableStyle-srb_header-Column-Column1" /><thead><tr class="TableStyle-srb_header-Head-Header1"><th class="TableStyle-srb_header-HeadF-Column1-Header1">Field</th><th class="TableStyle-srb_header-HeadD-Column1-Header1">Value</th></tr></thead><tbody><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyF-Column1-Body1"><b>Name</b></td><td class="TableStyle-srb_header-BodyD-Column1-Body1">An appropriate name for the OVA such as <b>AccessGateway4.5</b></td></tr><tr class="TableStyle-srb_header-Body-Body2"><td class="TableStyle-srb_header-BodyF-Column1-Body2">MAC&#160;Address Policy</td><td class="TableStyle-srb_header-BodyD-Column1-Body2">Select Generate New MAC&#160;addresses for all network adapters<br /><img src="../../Resources/Images/access-gateway/setup-oci-vbox.02.png" /></td></tr><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyC-Column1-Body1"><p>Import hard drives as VDI</p></td><td class="TableStyle-srb_header-BodyA-Column1-Body1"><p>Unchecked. </p></td></tr></tbody></table></li>
                                                        <li value="6">Click <b>Import</b>.<br />Wait for the import to complete.</li>
                                                        <li value="7">From the virtual machine list, select the name of the Virtual Machine just imported.</li>
                                                        <li value="8">Right click and choose <b>Export to OCI</b>.</li>
                                                        <li value="9">Select Open Virtualization Format 2.0.</li>
                                                        <li value="10">Ensure that the file name for the export ends in OVA.</li>
                                                        <li value="11">Under <b>MAC&#160;Address Policy,</b> select <b>Include all network adapter MAC addresses</b>.</li>
                                                        <li value="12">Click <b>Continue</b></li>
                                                        <li value="13">Click <b>Export</b>. </li>
                                                    </ol>
                                                    <div class="noteOkta">
                                                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                        <p class="noteHeading">Note</p>
                                                        <p class="noteContent">Its possible to export a Virtual Box image directly to Oracle Cloud Infrastructure from Virtual Box. Follow the instructions for configuration a profile as described in <a href="setup-oracle-oci-cli.htm" class="MCXref xref">Setup Oracle OCI Command Line</a> as well as creating a compartment and storage bucket. After which follow the Export directly to OCI from Virtual Box instructions. </p>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="Create_Compartment"></a>Create a Compartment</h2>
                                                    <p>Compartments are used for grouping like resources together. While not required, creating a compartment for Access Gateway OVA is suggested.</p>
                                                    <p>To create a compartment using the UI:</p>
                                                    <ol>
                                                        <li value="1">Login to Oracle Cloud. </li>
                                                        <li value="2">Using the navigation menu in the upper left corner select <b>Identity &gt;&#160;Compartments</b>.</li>
                                                        <li value="3">Click <b>Create Compartment</b>.</li>
                                                        <li value="4">In the <i>Create Compartment</i> dialog enter a <b>name</b> and <b>description</b> for the compartment and click <b>Create Compartment</b>. </li>
                                                    </ol>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To create a compartment using the  OCI CLI:</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Install, configure and activate the OCI cli as described in <a href="setup-oracle-oci-cli.htm" class="MCXref xref">Setup Oracle OCI Command Line</a>.</li>
                                                                <li value="2">Determine the tenancy ID by examining the .oci/config file. This ID is required for creating a compartment within the root tenant.<br /><pre xml:space="preserve" id="code">cat .oci/config<br />[CONFIG]
. . . <br />tenancy=ocid1.tenancy.oc1... . . . </pre></li>
                                                                <li value="3">Create a tenancy id create a compartment using a command similar to:<br /><pre id="code">
oci iam compartment create \
    --name "&lt;compartment name&gt;" \
    --description "&lt;Compartment description&gt;" \
    --compartment-id &lt;compartment-id-from-config&gt;</pre><br />For example:<br /><pre id="code">oci iam compartment create \
    --name "OAG"\
    --description "My OAG&#160;Compartment"\
    --compartment-id ocid1.tenancy.oc1...</pre></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <p>For information on creating compartments see <a href="https://docs.cloud.oracle.com/iaas/Content/Identity/Tasks/managingcompartments.htm">Oracle Cloud Infrastructure (OCI): Managing Compartments</a>.  </p>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="Create_Bucket"></a>Create a Storage Bucket</h2>
                                                    <p>Storage buckets are used to contain images and other artifacts.</p>
                                                    <p>To create a bucket using the UI: </p>
                                                    <ol>
                                                        <li value="1">Using the navigation menu in the upper left corner select <b>Object Storage &gt;&#160;Object Storage</b>.</li>
                                                        <li value="2">From the <b>Compartment</b> drop down, select the compartment to contain the bucket.</li>
                                                        <li value="3">Click <b>Create Bucket</b>.</li>
                                                        <li value="4">In the <i>Create Bucket</i> dialog enter a <b>name</b> for the bucket and click <b>Create Bucket</b>. </li>
                                                    </ol>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To create a bucket using the OCI CLI:</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Return to the OCI command line.</li>
                                                                <li value="2">Determine the OCI Object storage namespace by executing the command:<br /><b style="font-family: 'Courier New';">oci os ns get</b> command which should return output similar to:<br /><pre xml:space="preserve" id="code">{ 
    "data": "<b>id732ljpics9"</b>
}</pre><br /></li>
                                                                <li value="3">Determine the OCI Compartment id by executing the command:<br /><b style="font-family: 'Courier New';">oci iam compartment list --all</b> command which should return output similar to:<br /><p><pre xml:space="preserve" id="code">{
    "data": [ {
	"compartment-id": "ocid1...", 
       . . .
       "id": "<b>ocid1.compartment.oc1..aaaaaaaazixo6ywqdhtwetbymmw6gmrxbyaajc4aibnczaihsrfi6n5z7axq"</b>,
	. . . 
       "name": "OAG", 
	"time-created": "2019-12-11T20:54:25.053000+00:00"
	} ]

}</pre><br /></p></li>
                                                                <li value="4">Using the namespace and compartment ID create a bucket using a command similar to:<br /><pre xml:space="preserve" id="code">oci os bucket create \
    --namespace &lt;namespace&gt;  \
    --name &lt;bucket name&gt;  \
    --compartment-id &lt;compartment id&gt;</pre><br />For example:<br /><pre xml:space="preserve" id="code">oci os bucket create \ 
    --namespace id732ljpics9 \ 
    --name "OAG" 
    --compartment-id ocid1.compartment.oc1..aaaaaaaazixo6ywqdhtwetbymmw6gmrxbyaajc4aibnczaihsrfi6n5z7axq
					</pre></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <p>For more information on buckets see <a href="https://docs.cloud.oracle.com/iaas/Content/Object/Tasks/managingbuckets.htm">Oracle Cloud Infrastructure (CLI): Managing Buckets.</a> </p>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Export directly to OCI from Virtual Box:</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>The following instructions require:</p>
                                                            <ul>
                                                                <li value="1">Virtual Box 6.1 or later.</li>
                                                                <li value="2">Installation of Virtual Box Extensions</li>
                                                                <li value="3">Configuration of an OCI profile including:<ul><li value="1">Cloud <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a></li><li value="2">OCID of compartment</li><li value="3">fingerprint</li><li value="4">keyfile</li><li value="5">passphrase</li><li value="6">region</li><li value="7">tenancy OCID</li><li value="8">User OCID</li></ul></li>
                                                                <li value="4">OCID of Compartment </li>
                                                            </ul>
                                                            <p>To export directly from Virtual Box to Oracle Cloud Infrastructure</p>
                                                            <ol>
                                                                <li value="1">Start Virtual Box</li>
                                                                <li value="2">Select a virtual appliance, right click and chose <b>Export to OCI</b>.</li>
                                                                <li value="3">In <b>Format</b>, choose <b>Oracle Cloud Infrastructure.</b> </li>
                                                                <li value="4">Select an appropriate Account and then click the Cloud Document.<br /><img src="../../Resources/Images/access-gateway/setup-oci-vbox.03.png" /></li>
                                                                <li value="5">Select the Compartment field and enter the OCID of the compartment.<br />Note: <span style="font-family: 'Courier New'; font-weight: bold;">oci iam compartment list --all</span> can be used to list all known compartments. <br />The field identified as '<b>Id</b>' and typically prefixed with '<b>ocid[*].compartment</b>' represents the compartment ID. </li>
                                                                <li value="6">Click <b>Continue</b></li>
                                                                <li value="7">On the Virtual System settings pane, choose a bucket from the list and click <b>Export</b>.<br />Note that if only a single bucket exists it will be automatically selected.<br />The export could take anywhere from 1 to multiple hours depending on your upload speed.</li>
                                                            </ol>
                                                            <p>&#160;</p>
                                                        </div>
                                                    </div>
                                                    <p>&#160;</p>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="Upload_2_Bucket"></a>Upload the OVA to a Storage Bucket</h2>
                                                    <p>Before an Access Gateway OVA&#160;can be imported it must be uploaded to a bucket.<br />To upload an OVA&#160;file to a bucket using the UO.</p>
                                                    <ol>
                                                        <li value="1">Using the navigation menu in the upper left corner select <b>Object Storage &gt;&#160;Object Storage</b>.</li>
                                                        <li value="2">In the Buckets in &lt;named&gt;&#160;Compartment pane click the name of the bucket which will hold the Access Gateway image</li>
                                                        <li value="3">Click <b>Upload Object</b>.</li>
                                                        <li value="4">In the Upload Objects dialog drag and drop the Access Gateway OVA or use select files and navigate to the directory containing the Access Gateway OVA and select it.</li>
                                                        <li value="5">Click <b>Upload Objects</b></li>
                                                        <li value="6">The <i>Upload Objects</i> dialog will show a percent complete indicator. Wait while the Access Gateway OVA file is uploaded.</li>
                                                    </ol>
                                                    <p>If you OVA or file being uploaded is larger them 2GB then it must be uploaded using the Oracle OCI&#160;command line interface. &#160;</p>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To upload a file using the OCI CLI:</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Return to the OCI command line.</li>
                                                                <li value="2">Determine the OCI Object storage namespace by executing the command:<br /><b style="font-family: 'Courier New';">oci os ns get</b> command which should return output similar to:<br /><p><pre id="code">{ <br />"data": "<b>id732ljpics9"</b><br />}</pre><br /></p></li>
                                                                <li value="3">Determine the OCI Compartment id by executing the command:<br /><b style="font-family: 'Courier New';">oci iam compartment list --all</b> command which should return output similar to:<br /><pre id="code">{
    "data": [ {
	"compartment-id": "ocid1...", 
       . . .
       "id": "<b>ocid1.compartment.oc1..aaaaaaaazixo6ywqdhtwetbymmw6gmrxbyaajc4aibnczaihsrfi6n5z7axq"</b>,
	. . . 
       "name": "OAG", 
	"time-created": "2019-12-11T20:54:25.053000+00:00"
	} ]
}</pre><br /></li>
                                                                <li value="4">
                    Use the compartment ID to generate a list of all bucket names by executing the command:<br /><span style="font-family: 'Courier New'; font-weight: bold;">oci os bucket list --compartment-id &lt;compartment id&gt;</span><br />Where <b>&lt;compartment id&gt;</b> represents the compartment containing the target bucket. &#160;The command should return a result similar to:<br /><pre xml:space="preserve" id="code">{
    "data": [ {
         "compartment-id": "&lt;compartment id&gt;"
         . . . 
	 "name":<b>"OAG&#160;Bucket"</b>
	 . . . 
	 } ]
}</pre></li>
                                                                <li value="5">Execute the command to upload the OVA into the buck using a command similar to:<pre id="code"><span style="font-family: 'Courier New';">oci os object put ns &lt;namespace&gt; \
    -bn &lt;bucket name&gt;\
    --file &lt;fully qualified path to Access Gateway file&gt; \
    --name "&lt;name for file in bucket" \
    --part-size &lt;maximum size of each part of the file upload in MB&gt;\
     --parallel-upload-count 5</span></pre><p>For example:<br /></p><pre id="code">oci os object put ns id732ljpics9 \
    -bn id732ljpics9 \
    --file ~/Downloads/oag-2019.4.5-1e8896b.ova\
    --name  "OAG-4.5.ova"\
    --part-size 100\
    --parallel-upload-count 5</pre><br />					Which should produce output similar to:<br /><blockquote><pre xml:space="preserve" id="code">Upload ID: dab2a2d8-. . . <br />Split file into 15 parts for upload.<br />Uploading object  [#######################################--] 95%<br />{<br /> "etag":"ec4...",<br /> "last-modified": "Thu, 12 Dec 2019 19:46:29 GMT",<br /> "opc-multipart-md5": "J3E5yqVdsL6K5sHeekFZhw==-15"<br />}</pre></blockquote></li>
                                                                <li value="6">Wait for the file to upload. </li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <p>For more information on buckets see <a href="https://docs.cloud.oracle.com/iaas/Content/Object/Tasks/managingbuckets.htm">Oracle Cloud Infrastructure (CLI): Managing Buckets.</a> </p>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="Import_Access_Gateway_Image"></a>Import Access Gateway Image</h2>
                                                    <p>Importing an image is a two step process. First you must create a Pre-authethenticated request. The pre-authententicated request URL is then used when importing an image.</p>
                                                    <p>To create a pre-authenticated request:</p>
                                                    <ol>
                                                        <li value="1">Return to the Oracle Cloud Console.</li>
                                                        <li value="2">Navigate to <b>Object Storage &gt; Object Storage</b>.</li>
                                                        <li value="3">On the row representing the object to be imported click the three dots and then <b>Create Pre-Authenticated Request</b>.<br /><img src="../../Resources/Images/access-gateway/setup-using-ovf-oci.01.png" /></li>
                                                        <li value="4">in the <b>Create Pre-Authenticated Request</b> dialog click <b>Create Pre-Authenticated Request</b>. </li>
                                                        <li value="5">In the <i>Pre-Authenticated Request Details</i> dialog copy the URL.<br /></li>
                                                    </ol>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />To create a Pre-Authenticated Request using the CLI:</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <ol>
                                                                <li value="1">Return to the OCI command line. </li>
                                                                <li value="2">Create a pre authentication request using the <b style="font-family: 'Courier New';">oci os preauth-request create</b> command, where<br style="font-weight: bold;" /><b>&lt;bucketname&gt;</b> is the name of the bucket storing the OAG&#160;OVA<br /><b>&lt;name&gt;</b> is any name<br /><b>&lt;timestamp&gt;</b> is an RFC 3339 time stamp specifying a time in the future<br /><b>&lt;nameofobject&gt;</b> is the name of the object in the bucket<br /><pre xml:space="preserve" id="code">oci os preauth-request create -ns &lt;name space&gt; \
    -bn &lt;bucketname&gt; \
    --name "&lt;name&gt;"  \
    --access-type ObjectRead  \
     --time-expires &lt;timestamp&gt;" 
     --on &lt;nameof bject&gt;
</pre><br />For example:<br /><pre xml:space="preserve" id="code">oci os preauth-request create \
    -ns id732ljpics9 \
    -bn OAG-OVA-Bucket \
    --name "OAG.4.5.ova.request" \
    --access-type ObjectRead \
    --time-expires 2019-12-21T00:00:00.000+12:00 \
    -on "OAG-4.5.OVA"</pre><br />Which should return output similar to:<br /><pre xml:space="preserve" id="code">oci {
    "data": {
. . .
    "access-uri": "/p/wYXXEpJQcwyTzS6xW_ygZvMhEQhSlRox1PDsXVzpI54/n/id732ljpics9/b/OAG-OVA-Bucket/o/OAG-4.5.OVA", 
. . .
    "name": "OAG.4.5.ova.request",
    }
} </pre></li>
                                                                <li value="3">Construct complete URL for the request by pre-pending the request with:<br /><b>https://objectstorage.<i>&lt;your-regiion&gt;</i>.oraclecloud.com/</b><br />Where 
						<b style="font-style: italic;">&lt;your-region&gt;</b> represents the region code of the object storage bucket, <br />For example:<br /><span id="code">https://objectstorage.<b style="font-style: italic;">us-ashburn-1</b>.oraclecloud.com/p/wYXXEpJQcwyTzS6xW_ygZvMhEQhSlRox1PDsXVzpI54/n/id732ljpics9/b/OAG-OVA-Bucket/o/OAG-4.5.OVA</span><br /><br /><br /></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                    <p>To Import a OVA using the UI:</p>
                                                    <ol>
                                                        <li value="1">Return the Oracle Cloud Console</li>
                                                        <li value="2">Navigate to <b>Compute &gt; Custom Images</b>.</li>
                                                        <li value="3">Click <b>Import image</b>.</li>
                                                        <li value="4">In the <i>Import Image</i> dialog enter:<br /><table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-srb_header" cellspacing="0"><col style="width: 50%;" class="TableStyle-srb_header-Column-Column1" /><col style="width: 50%;" class="TableStyle-srb_header-Column-Column1" /><thead><tr class="TableStyle-srb_header-Head-Header1"><th class="TableStyle-srb_header-HeadF-Column1-Header1">Field</th><th class="TableStyle-srb_header-HeadD-Column1-Header1">Value</th></tr></thead><tbody><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyF-Column1-Body1">NAME</td><td class="TableStyle-srb_header-BodyD-Column1-Body1">Any appropriate name</td></tr><tr class="TableStyle-srb_header-Body-Body2"><td class="TableStyle-srb_header-BodyF-Column1-Body2">OPERATING&#160;SYSTEM</td><td class="TableStyle-srb_header-BodyD-Column1-Body2">Linux</td></tr><tr class="TableStyle-srb_header-Body-Body1"><td class="TableStyle-srb_header-BodyC-Column1-Body1">OBJECT&#160;STORAGE&#160;URL</td><td class="TableStyle-srb_header-BodyA-Column1-Body1">URL from prior step</td></tr></tbody></table></li>
                                                        <li value="5">Click <b>Import Image</b>. </li>
                                                        <li value="6">Wait as the image is imported.</li>
                                                    </ol>
                                                    <p>For more information on importing Linux images see <a href="https://docs.cloud.oracle.com/iaas/Content/Compute/Tasks/importingcustomimagelinux.htm">Oracle Cloud Infrastructure (OCI) Importing Custom Linux Images</a>. </p>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2><a name="CreateFromImport"></a>Create Instance from Imported Image</h2>
                                                    <p>After importing an image to Oracle Cloud an instance must be created. <br /></p>
                                                    <p>To create an instance from an imported image:</p>
                                                    <ol>
                                                        <li value="1">Navigate to <b>Compute</b> &gt; <b>Custom Images</b>.</li>
                                                        <li value="2">In the row containing the newly imported Access Gateway image click the <b>. . .</b> and choose <b>Create Instance</b>:<br /><img src="../../Resources/Images/access-gateway/setup-using-ovf-oci.02.png" id="img_new" /></li>
                                                        <li value="3">In the <i>Create Instance</i> page enter a name for the image such as <b>Access Gateway vX.Y</b></li>
                                                        <li value="4">Click Show Shape. <br /><img src="../../Resources/Images/access-gateway/setup-using-ovf-oci.04.png" alt="Click show shape to select an appropriate shape. " id="img_new" /></li>
                                                        <li value="5">Scroll to the <i>Instance Shape</i> section and click <b>Change Shape</b> to select a different shape.<br />Shapes represent combinations of cpu and memory and are defined by your Oracle Cloud.&#160;See <a href="https://docs.cloud.oracle.com/iaas/Content/Compute/References/computeshapes.htm">Oracle Cloud Infrastructure (OCI): Compute Shapes</a> for more information. <br /><br /><img src="../../Resources/Images/access-gateway/setup-using-ovf-oci.05.png" alt="Click change shape to select a different shape." id="img_new" /></li>
                                                        <li value="6">Click <b>Create</b>. <br />                Oracle Cloud will then provision the new instance.<br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">Depending on system load, instance provisioning can take upwards of 20-30 minutes.</p></div><br />Note the value of the external IP address for the instance:<br /><img src="../../Resources/Images/access-gateway/setup-using-ovf-oci.03.png" id="img_new" /></li>
                                                    </ol>
                                                    <p> </p>
                                                    <p>For more information on creating instances from an imported image see: <a href="https://docs.cloud.oracle.com/iaas/Content/Compute/Tasks/launchinginstance.htm">Oracle Cloud Infrastructure (OCI): Create Instance</a>.</p>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <h2>OCI Specific Post Installation</h2>
                                                    <p> The following OCI&#160;post installation steps are required to complete the deployment of Okta Access Gateway in an Oracle Cloud Infrastructure environment.</p>
                                                    <ul>
                                                        <li value="1"> <a href="setup-post-install-oci.htm" class="MCXref xref">Okta Access Gateway Post Installation on Oracle Compute Infrastructure (OCI)</a></li>
                                                    </ul>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div>
                                                    <h2><a name="Related_Topics"></a>Next Steps</h2>
                                                    <p>After Okta Access Gateway has been installed there are a number of common post installation tasks that should be performed. <br />		Including:
			</p>
                                                    <ul>
                                                        <li value="1"><a href="setup-post-install.htm#Determine_IPAddress">Determine the IP Address of the Okta Access Gateway virtual application.</a>
                                                        </li>
                                                        <li value="2"><a href="setup-post-install.htm#ConfigureLocal">Configure admin <span style="font-family: 'Courier New';">/etc/hosts</span> entry</a>
                                                        </li>
                                                        <li value="3"><a href="setup-post-install.htm#Initialize_Verify">Initialize the Command Line console</a>
                                                        </li>
                                                        <li value="4"><a href="setup-post-install.htm#Reset_Passwords">Reset Passwords</a>
                                                        </li>
                                                        <li value="5"><a href="setup-post-install.htm#InitializeUI">Initialize Access Gateway Admin UI&#160;Console</a>
                                                        </li>
                                                        <li value="6"><a href="setup-post-install.htm#ConfigureDNS">Configure DNS</a>
                                                        </li>
                                                        <li value="7"><a href="setup-post-install.htm#Add_Applications">Add Applications</a>
                                                        </li>
                                                    </ul>
                                                    <div>
                                                        <h2><a name="More_Information"></a>For More Information</h2>
                                                        <ul>
                                                            <li value="1">See <a href="setup-post-install.htm" class="MCXref xref">Okta Access Gateway Post Installation</a> for a complete task list.</li>
                                                            <li value="2">See  <a href="command-line-console-reference.htm" class="MCXref xref">Access Gateway Command Line Management Console Reference</a> for a complete list of management console commands.</li>
                                                            <li value="3">See <a href="admin-ui-console-overview.htm" class="MCXref xref">Access Gateway Admin UI Console Overview</a> for an overview of the Access Gateway UI&#160;console.</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>