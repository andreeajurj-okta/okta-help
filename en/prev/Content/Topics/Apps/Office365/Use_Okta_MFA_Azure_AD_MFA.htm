<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|[%=System.LinkedHeader%]|[%=System.LinkedHeader%]|[%=System.LinkedHeader%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Okta MFA can be used to fulfill Azure AD MFA requirements for Office 365." /><title>Use Okta MFA to satisfy Azure AD MFA requirements for Office 365 | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/TableStyles/okta_table_white.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="IhEjbNvbW0KaKt66jmcdWQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="IhEjbNvbW0KaKt66jmcdWQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img alt="Expand all" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" class="invisible-label" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Use Okta MFA to satisfy Azure AD MFA requirements for Office 365</h1>
                                                    <p class="earlyaccess">This is an <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Early Access<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Early Access (EA) features are opt-in features that you can try out in your org by asking Okta Support to enable them. Additionally, the Features page in the Okta Admin Console (Settings &gt; Features) allows Super Admins to enable and disable some EA features themselves.</span></a> feature. To enable it,  use the Early Access Feature Manager as described in <a href="../../Security/Manage_Early_Access_features.htm" class="MCXref xref">Manage Early Access and Beta features </a>.</p>
                                                    <p>You can use Okta multi-factor authentication (MFA) to satisfy the Azure AD MFA requirements for your WS-Federation Office 365 <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> instance.</p>
                                                    <p>Okta MFA can be used in the following use-cases:</p>
                                                    <ul>
                                                        <li value="1">You want Okta to handle the MFA requirements for an MFA prompt triggered by Azure AD Conditional access for your <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> federated with Okta.</li>
                                                        <li value="2">You can use Okta MFA to enroll your <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>End users are people in your org without administrative control. They can authenticate into apps from the icons on their My Applications home page, but they are provisioned, deprovisioned, assigned, and managed by admins.</span></a> into Windows Hello for Business so that they can use a single MFA solution for both Okta and Microsoft MFA needs.</li>
                                                    </ul>
                                                    <p>&#160;</p>
                                                    <h2>Known issues</h2>
                                                    <p style="font-weight: bold;">Users can enter infinite sign-in loop when Okta sign-on policy is weaker than the Azure AD&#160;policy</p>
                                                    <p>A. This happens if neither the <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>-level or the app-level sign-on policy requires MFA.
        </p>
                                                    <p>In this case, Okta does not prompt the user for the MFA. However, Azure AD Conditional Access requires MFA and expects Okta to pass the completed MFA claim. Consequently, the user gets stuck in the infinite authentication loop.</p>
                                                    <p>&#160;</p>
                                                    <p>B. This can also happen when the sign-on policy doesn’t require the MFA when the user signs in from an in Zone network but requires the MFA when the user signs in from a network that is Not in Zone.
        </p>
                                                    <p>In this case, if the user is signing in from a network that’s In Zone, he or she will not be prompted for the MFA. However, Azure AD Conditional Access requires MFA and expects Okta to pass the completed MFA claim. Consequently, the user gets stuck in the infinite authentication loop.
</p>
                                                    <p>&#160;</p>
                                                    <p><b>Okta inadvertently passes successful MFA claim to Microsoft when user is excluded from the MFA requirement</b>
                                                    </p>
                                                    <p>This happens when the Office 365 sign-on policy excludes certain end users (individuals or <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a>) from the MFA requirement.
        </p>
                                                    <p>				In this case, the user is not prompted for the MFA. However, Okta sends a successful MFA claim to Azure AD Conditional Access as the policy is set up to allow this user to sign in without completing the MFA. Azure AD Conditional Access accepts the Okta MFA claim and allows the user to sign in without requiring them to complete the MFA.
			</p>
                                                    <h2>Prerequisites</h2>
                                                    <ol>
                                                        <li style="font-weight: bold;" value="1">
                                                            <p>Configure MFA&#160;in Okta</p>
                                                            <p style="font-weight: normal;">Do either or both of the following, depending on your implementation:</p>
                                                            <ol style="list-style-type: lower-alpha;font-weight: normal;">
                                                                <li value="1">Configure an org-level sign on policy as described in <a href="../../Security/MFA.htm" target="_blank" class="MCXref xref">Multifactor Authentication </a>.</li>
                                                                <li value="2">Configure an app sign on policy for your WS-Federation Office 365 app instance as described in <a href="../../Security/O365_Client-Access-Policies.htm" class="MCXref xref">Office 365 Client Access Policies</a>.</li>
                                                            </ol>
                                                        </li>
                                                        <li style="font-weight: bold;" value="2">
                                                            <p>Configure MFA in Azure AD</p>
                                                            <p style="font-weight: normal;">Configure MFA&#160;in your Azure AD&#160;instance as described in the <a href="https://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-mfasettings" target="_blank">Microsoft documentation</a>.</p>
                                                        </li>
                                                        <li style="font-weight: bold;" value="3">
                                                            <p>Enable this feature in Okta EA Feature Manager</p>
                                                            <p style="font-weight: normal;">Enable <b>Office 365 Pass Claim For MFA</b> feature in Okta EA Feature Manager as described in <a href="../../Security/Manage_Early_Access_features.htm" target="_blank" class="MCXref xref">Manage Early Access and Beta features </a>.</p>
                                                        </li>
                                                    </ol>
                                                    <h2>Procedure</h2>
                                                    <p>Once you have completed the prerequisites, you need to change the Office 365 domain federation settings to enable the support for Okta MFA.</p>
                                                    <h3>If you've manually federated the domain</h3>
                                                    <p>Run the updated federation script from under the <b>Setup Instructions</b>:</p>
                                                    <p>
                                                        <img src="../../../Resources/Images/Office365/okta-mfa-azure-mfa-man-fed.png" id="img_new" style="max-width: 50%;" />
                                                    </p>
                                                    <p>
                                                        <ol>
                                                            <li value="1">From the Okta <a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> Console, go to <b>Applications &gt; Applications</b>.</li>
                                                            <li value="2">Open your WS-federated Office 365 app.</li>
                                                            <li value="3">
                                                                <p>Click the <b>Sign On</b> tab &gt; <b>View Setup Instructions</b>.</p>
                                                                <p>The <b>How to Configure Office 365 WS-Federation</b> page opens.</p>
                                                            </li>
                                                            <li value="4">On the page, go to the <b>If your domain is already federated</b> section.</li>
                                                            <li value="5">Copy and run the script from this section in Windows PowerShell.</li>
                                                            <li value="6">
                                                                <p>Run the following PowerShell command to ensure that <code>SupportMFA</code> value is <code>True</code>:</p>
                                                                <p id="code">Connect-MsolService</p>
                                                                <p id="code">Get-DomainFederationSettings -DomainName &lt;yourDomainName&gt;</p>
                                                                <p style="font-weight: bold;font-size: 8pt;">&#160;</p>
                                                                <p style="font-weight: bold;">Example result</p>
                                                                <p style="font-weight: bold;font-size: 8pt;">&#160;</p>
                                                                <p id="code">ActiveLogOnUri                         : https://example.okta.com/app/office365/issueruri/<a href="#" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">sso<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a>/wsfed/active</p>
                                                                <p id="code">
						DefaultInteractiveAuthenticationMethod :
						</p>
                                                                <p id="code">FederationBrandName                    : Okta
						</p>
                                                                <p id="code">IssuerUri                              : issueruri<![CDATA[
]]></p>
                                                                <p id="code">						LogOffUri                              : https://example.okta.com/app/office365/issueruri/sso/wsfed/signout
</p>
                                                                <p id="code">						MetadataExchangeUri                    : https://example.okta.com/app/office365/issueruri/sso/wsfed/mex
</p>
                                                                <p id="code">						NextSigningCertificate                 :
						</p>
                                                                <p id="code">OpenIdConnectDiscoveryEndpoint         :
						</p>
                                                                <p id="code">PassiveLogOnUri                        : https://example.okta.com/app/office365/issueruri/sso/wsfed/passive
					</p>
                                                                <p id="code">SigningCertificate                     : &lt;SigningCertificate&gt;</p>
                                                                <p id="code">SupportsMfa                            : True</p>
                                                            </li>
                                                        </ol>
                                                    </p>
                                                    <p>&#160;</p>
                                                    <h3>If you've chosen to let Okta configure the federation settings for you</h3>
                                                    <p style="font-weight: normal;">In this case, you don't have to configure any settings, you just click <b>Edit</b> and then <b>Save</b> as described below.</p>
                                                    <p style="font-weight: normal;">
                                                        <img src="../../../Resources/Images/Office365/okta-mfa-azure-mfa-auto-fed.png" id="img_new" style="max-width: 50%;" />
                                                    </p>
                                                    <ol>
                                                        <li value="1">From the Okta Admin Console, go to <b>Applications &gt;&#160;Applications</b>.</li>
                                                        <li value="2">Open your WS-Federated Office 365 app.</li>
                                                        <li value="3">Click the <b>Sign On</b> tab <b>&gt; Edit &gt; Save</b>.</li>
                                                        <li value="4">
                                                            <p>Run the following PowerShell command to ensure that <code id="code">SupportMFA</code> value is <code id="code">True</code>:</p>
                                                            <p id="code">Connect-MsolService</p>
                                                            <p id="code">Get-DomainFederationSettings -DomainName &lt;yourDomainName&gt;</p>
                                                            <p style="font-weight: bold;font-size: 8pt;">&#160;</p>
                                                            <p style="font-weight: bold;">Example result</p>
                                                            <p style="font-weight: bold;font-size: 8pt;">&#160;</p>
                                                            <p id="code">ActiveLogOnUri                         : https://example.okta.com/app/office365/issueruri/sso/wsfed/active</p>
                                                            <p id="code">
						DefaultInteractiveAuthenticationMethod :
						</p>
                                                            <p id="code">FederationBrandName                    : Okta
						</p>
                                                            <p id="code">IssuerUri                              : issueruri
</p>
                                                            <p id="code">						LogOffUri                              : https://example.okta.com/app/office365/issueruri/sso/wsfed/signout
</p>
                                                            <p id="code">						MetadataExchangeUri                    : https://example.okta.com/app/office365/issueruri/sso/wsfed/mex
</p>
                                                            <p id="code">						NextSigningCertificate                 :
						</p>
                                                            <p id="code">OpenIdConnectDiscoveryEndpoint         :
						</p>
                                                            <p id="code">PassiveLogOnUri                        : https://example.okta.com/app/office365/issueruri/sso/wsfed/passive
					</p>
                                                            <p id="code">SigningCertificate                     : &lt;SigningCertificate&gt;</p>
                                                            <p id="code">SupportsMfa                            : True</p>
                                                        </li>
                                                    </ol>
                                                    <p>&#160;</p>
                                                    <h3>Disable this feature</h3>
                                                    <p>If you decide to turn off this feature, you must manually set the <code id="code">SupportsMFA</code> setting to <code id="code">false</code> for all federated domains that were automatically federated in Okta and had this feature enabled.</p>
                                                    <p>Use this PowerShell cmdlet to turn this feature off:</p>
                                                    <p id="code">Set-MsolDomainFederationSettings -DomainName &lt;targetDomainName&gt; -SupportsMfa $false
        </p>
                                                    <h2>How it works</h2>
                                                    <h3>Okta MFA satisfies Azure AD Conditional Access MFA requirement</h3>
                                                    <p>If  Office 365 is configured with an Azure AD Conditional Access policy that requires MFA, end users trying to access the app are challenged by Okta for MFA to satisfy the Azure AD MFA&#160;requirement. Okta then passes the successful MFA claim to Azure AD which accepts the claim and allows access without prompting end users for a separate MFA.</p>
                                                    <p>Assuming that Azure AD Conditional Access MFA is enabled and Okta MFA is enabled at the org or app level, or both, Okta passes the MFA claim as described in the following table.</p>
                                                    <p> </p>
                                                    <table style="mc-table-style: url('../../../Resources/TableStyles/okta_table_white.css');margin-left: 0;margin-right: auto;" class="TableStyle-okta_table_white" cellspacing="0">
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <thead>
                                                            <tr class="TableStyle-okta_table_white-Head-Header1">
                                                                <th class="TableStyle-okta_table_white-HeadE-Column1-Header1">Okta Org-level MFA</th>
                                                                <th class="TableStyle-okta_table_white-HeadE-Column1-Header1">Okta App-level MFA</th>
                                                                <th class="TableStyle-okta_table_white-HeadE-Column1-Header1">Azure AD MFA</th>
                                                                <th class="TableStyle-okta_table_white-HeadD-Column1-Header1">What Happens</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyD-Column1-Body1">
                                                                    <p>End users will enter an infinite loop. To prevent this, you must configure Okta MFA in order to satisfy the Azure AD MFA requirement. </p>
                                                                    <p>See the <b>Known issues</b> section above.</p>
                                                                </td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                                <td rowspan="3" class="TableStyle-okta_table_white-BodyD-Column1-Body1">End users complete an MFA prompt in Okta. Okta passes the completed MFA claim to Azure AD. The user is allowed to access Office 365. Azure AD accepts the MFA from Okta and does not prompt for a separate MFA.</td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyB-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyB-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyB-Column1-Body1">Enabled</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <p>&#160;</p>
                                                    <h3>Okta enrolls users in Windows Hello for Business</h3>
                                                    <p><b>Prerequisite</b>: The device must be Hybrid Azure AD or Azure AD joined.</p>
                                                    <p>If your organization requires Windows Hello for Business, end users who are not enrolled in Windows Hello for Business already are prompted to complete a step-up authentication (e.g. SMS, push) in Okta. After successful enrollment in Windows Hello for Business, end users can use it to log in on the device. Okta will help the end users enroll in Windows Hello for Business as described in the following table.</p>
                                                    <p>&#160;</p>
                                                    <table style="mc-table-style: url('../../../Resources/TableStyles/okta_table_white.css');margin-left: 0;margin-right: auto;" class="TableStyle-okta_table_white" cellspacing="0">
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <col class="TableStyle-okta_table_white-Column-Column1" />
                                                        <thead>
                                                            <tr class="TableStyle-okta_table_white-Head-Header1">
                                                                <th class="TableStyle-okta_table_white-HeadE-Column1-Header1">Okta Org-level MFA</th>
                                                                <th class="TableStyle-okta_table_white-HeadE-Column1-Header1">Okta App-level MFA</th>
                                                                <th class="TableStyle-okta_table_white-HeadD-Column1-Header1">What Happens</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyD-Column1-Body1">
                                                                    <p>End users will enter an infinite loop. To prevent this, you must configure Okta MFA in order to satisfy the Azure AD MFA requirement. </p>
                                                                    <p>See the <b>Known issues</b> section above.</p>
                                                                </td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">	Disabled	</td>
                                                                <td rowspan="3" class="TableStyle-okta_table_white-BodyD-Column1-Body1">End users complete a step-up MFA prompt in Okta. Upon successful enrollment in Windows Hello for Business, end users can use Windows Hello for Business as a factor to satisfy Azure AD MFA.</td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Disabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyE-Column1-Body1">Enabled</td>
                                                            </tr>
                                                            <tr class="TableStyle-okta_table_white-Body-Body1">
                                                                <td class="TableStyle-okta_table_white-BodyB-Column1-Body1">Enabled</td>
                                                                <td class="TableStyle-okta_table_white-BodyB-Column1-Body1">Enabled</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <p>&#160;</p>
                                                    <h2>Related topics</h2>
                                                    <p><a href="../Apps_Okta_Enhancements_Office_365_Integration.htm" class="MCXref xref">Enhanced provisioning and deprovisioning for Office 365</a>
                                                    </p>
                                                    <p><a href="o365-main.htm" class="MCXref xref">Integrate Office 365 in Okta</a>
                                                    </p>
                                                    <p><a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/hello-for-business/hello-identity-verification" target="_blank">Windows Hello for Business</a> (Microsoft documentation)</p>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="tkiw9hicV0uAOqdS6ZT-xQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="tkiw9hicV0uAOqdS6ZT-xQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
