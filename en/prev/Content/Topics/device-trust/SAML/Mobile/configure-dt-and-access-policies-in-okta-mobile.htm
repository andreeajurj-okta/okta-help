<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|Device Trust|[%=System.LinkedHeader%]|[%=System.LinkedHeader%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>STEP 2: Configure Routing Rules, Device Trust, and Client Access Policies in Okta for iOS and Android Devices | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../Resources/TableStyles/okta_table_vert_rule_no_borders_no_background.css" rel="stylesheet" />
        <link href="../../../../Resources/TableStyles/okta_table_white.css" rel="stylesheet" />
        <script src="../../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="f8loQtTAkUer5htIuC3WqA">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="f8loQtTAkUer5htIuC3WqA:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <p class="earlyaccess">This is an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Early Access<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Early Access (EA) features are opt-in features that you can try out in your org by asking Okta Support to enable them. Additionally, the Features page in the Okta Admin Console (Settings &amp;gt; Features) allows Super Admins to enable and disable some EA features themselves.</span></a> feature. To enable it,  use the Early Access Feature Manager as described in <a href="../../../Security/Manage_Early_Access_features.htm" class="MCXref xref">Manage Early Access features </a>.</p>
                                                <br />
                                                <div class="noteWhite">
                                                    <p><b>Parent topic:</b> <a href="integrate-okta-dt-with-ws1-mobile.htm" class="MCXref xref">Integrate Okta Device Trust with VMware Workspace ONE for iOS and Android devices</a></p>
                                                    <p><b>Use case:</b> <a href="enforce-device-trust-mobile-sso-with-okta-vmware-ws1.htm" class="MCXref xref">Enforce Device Trust and SSO with Okta + VMware Workspace ONE</a></p>
                                                    <p><b>Platform:</b> Mobile </p>
                                                </div>
                                                <br />
                                                <hr width="100%" size="0" align="center" />
                                                <h1>STEP 3: Configure Routing Rules, Device Trust, and Client Access Policies in Okta for iOS and Android Devices</h1>
                                                <h4><b>Prerequisites:</b> </h4>
                                                <p><a href="configure-vidm-idp-okta.htm" class="MCXref xref">STEP 1: Configure  VMware Identity Manager as an Identity Provider in Okta</a>
                                                </p>
                                                <p><a href="configure-okta-apps-vidm.htm" class="MCXref xref">STEP 2: Configure Okta application source in VMware Identity Manager</a>
                                                </p>
                                                <p>&#160;</p>
                                                <p>The Okta Device Trust feature simplifies the administration of conditional access policies for iOS and Android devices in the <span class="MobileWS1-trademark">Workspace™ ONE™</span>+Okta integration. Device Trust and access policies <u>for apps</u> are configured only in the Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> console.</p>
                                                <p>When iOS or Android Device Trust is configured in Okta, users are redirected to <span class="MobileVIDM">VMware Identity Manager</span> for authentication using the Mobile SSO (iOS) or Mobile SSO (Android) authentication method. <span class="MobileVIDM">VMware Identity Manager</span> returns device posture information to Okta in the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.

Here's how SAML works through Okta:

SP-initiated flow: the end user requests (principally through a browser) a service from the SP. The SP requests and obtains an identity assertion from the IdP (in this case, Okta). On the basis of this assertion, the SP can decide whether or not to authorize or authenticate the service for the end user.
IdP-initiated flow: with Okta as the IdP, an end user goes to the Okta browser and clicks on a chiclet, sending a SAMLResponse to the configured SP. A session is established with the SP, and the end user is authenticated.</span></a> response.</p>
                                                <p>The access policies you configure in Okta then determine whether the device must be trusted in order to access the application. If the device is untrusted, a device enrollment page is displayed.</p>
                                                <p>For the purposes of this integration, you must perform the following tasks to configure the Device Trust feature in the Okta Admin console:</p>
                                                <ol>
                                                    <li value="1">Configure Okta identity provider routing rules for iOS and Android devices.</li>
                                                    <li value="2">Enable the global Device Trust setting in Okta.</li>
                                                    <li value="3">Configure <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> sign-on policy rules in Okta.</li>
                                                    <li value="4">Configure Default Access Policy in <span class="MobileVIDM">VMware Identity Manager</span>.</li>
                                                </ol>
                                                <p class="earlyaccess"><b>Important:</b> Verify that the <b>Device SSO Response</b>, <b>Enable Force Authn Request</b>, and <b>Enable <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Authentication<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Authentication is distinct from authorization, which is the process of giving individuals access to system objects based on their identity. Authentication merely ensures that the individual is who he or she claims to be, but says nothing about the access rights of the individual.

Authentication methods and protocols include direct auth, delegated auth, SAML, SWA, WS-Fed, and OpenID Connect.</span></a> Failure Notification</b> properties in the Okta application source configuration in VMware Identity Manager are set to <b>Yes</b>. These properties are a requirement for the device trust solution for iOS and Android devices. For more information, see <a href="configure-okta-apps-vidm.htm" class="MCXref xref">STEP 2: Configure Okta application source in VMware Identity Manager</a>.</p>
                                                <div class="page-toc">
                                                    <p class="box-heading">Content</p>
                                                    <ul class="minitoc">
                                                        <li value="1"><a href="#config-routing-rules-mobile-devices" class="MCXref xref">Configure Identity Provider Routing rules in Okta for mobile devices</a>
                                                        </li>
                                                        <li value="2"><a href="#enable-device-trust-in-okta" class="MCXref xref">Enable Device Trust settings in Okta</a>
                                                        </li>
                                                        <li value="3"><a href="#config-app-signon-policy-in-okta" class="MCXref xref">Configure App Sign On Policy rules in Okta</a>
                                                        </li>
                                                        <li value="4"><a href="#config-default-access-policy-in-vidm" class="MCXref xref">Configure Default Access Policy in VMware Identity Manager</a>
                                                        </li>
                                                        <li value="5"><a href="#recommendations-native-android-apps" class="MCXref xref">Recommendations for configuring Native Android apps</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>&#160;</p>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="config-routing-rules-mobile-devices"></a>Configure Identity Provider Routing rules in Okta for mobile devices</h2>
                                                <p data-mc-conditions="SnippetConditionsForDevices.iOS and Android">Configure Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">IdP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Identity Provider. It is a service that manages end user accounts analogous to user directories such as LDAP and Active Directory, and can send SAML responses to SPs to authenticate end users. Within this scenario, the IdP is Okta.</span></a>&#160;routing rules for <span class="Mobilemobileplatform">iOS</span> and <span class="MobileUEM-platform">Android</span> specifically for this <span class="MobileVMware">VMware</span> <span class="MobileWS1">Workspace ONE</span> +&#160;<span class="okta-variablesProductName">Okta</span> integration. When configured, these routing rules works with application sign on policies to redirect authentication requests from  iOS and/or <span class="MobileUEM-platform">Android</span> devices to <span class="MobileWS1">Workspace ONE</span>. </p>
                                                <p><span style="color: #007dc1;">Click the image to enlarge</span>
                                                </p>
                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/dti-idp-routing-rules.png"><img class="MCPopupThumbnail img" data-mc-width="700" data-mc-height="1127" src="../../../../Resources/Images/dti-idp-routing-rules_thumb_0_250.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 250px;" tabindex="" /></a>
                                                </p>
                                                <div style="line-height:90%;">
                                                    <br />
                                                </div>
                                                <ol>
                                                    <li value="1">In the Okta Admin console, go to <b>Security &gt;&#160;Identity Providers</b>. </li>
                                                    <li value="2">Click the <b>Routing Rules</b> tab and then click <b>Add Routing Rule</b>. </li>
                                                    <li value="3">Configure settings as follows:</li>
                                                </ol>
                                                <div style="line-height:90%;">
                                                    <br />
                                                </div>
                                                <table border="1" cellpadding="4" cellspacing="0" style="height: 60px;border-left-style: solid;border-left-width: 1px;border-left-color: #333333;border-right-style: solid;border-right-width: 1px;border-right-color: #333333;border-top-style: solid;border-top-width: 1px;border-top-color: #333333;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #333333;mc-table-style: url('../../../../Resources/TableStyles/okta_table_white.css');" class="TableStyle-okta_table_white">
                                                    <col class="TableStyle-okta_table_white-Column-Column1" />
                                                    <col class="TableStyle-okta_table_white-Column-Column1" />
                                                    <thead>
                                                        <tr class="TableStyle-okta_table_white-Head-Header1">
                                                            <th class="TableStyle-okta_table_white-HeadE-Column1-Header1" style="text-align: left;">Setting</th>
                                                            <th class="TableStyle-okta_table_white-HeadD-Column1-Header1" style="text-align: left;">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyE-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>Rule Name</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">Enter a name for the rule you are creating.</td>
                                                        </tr>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyE-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>IF&#160;User's IP&#160;is</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">If appropriate for your implementation, you can specify network zones to which the routing does or does not apply. To specify a zone here, at least one network zone must be defined already in Okta. For more information, see <a href="../../../Security/Security_Network.htm" class="MCXref xref">Network Security</a>.</td>
                                                        </tr>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1" data-mc-conditions="SnippetConditionsForDevices.iOS and Android">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyE-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>AND User's device platform is</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">
                                                                <p>Select <b>Any of these devices </b>and then select <span class="Mobilemobileplatform">iOS</span> or <span class="MobileUEM-platform">Android</span>, or both, depending on your implementation.</p>
                                                            </td>
                                                        </tr>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyE-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>AND&#160;User is accessing</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">
                                                                <p>Select <b>Any of the following applications</b> and then enter the application(s) to which you want the routing rule to apply.</p>
                                                            </td>
                                                        </tr>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyE-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>AND&#160;User matches</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyD-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">
                                                                <p style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">Select the appropriate action:</p>
                                                                <ul>
                                                                    <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;" value="1"><b>Anything</b>. Specifies any user. This is the default.</li>
                                                                    <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;" value="2"><b>Regex on login</b>. Allows you to enter any valid regular expression based on the user login to use for matching. This is useful when specifying the <span class="noGlossary"><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a></span>, or if a user attribute is not sufficient for matching. For details, see <a href="../../../Security/Identity_Provider_Discovery.htm" class="MCXref xref">Identity Provider Discovery</a>.</li>
                                                                    <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;" value="3"><b>Domain list on login</b>. Specify a list of the domains to match; for example, <i>example.com</i>. Do not add the @ symbol to the domain name. You can add multiple domains. Note that it is not necessary to escape any characters.</li>
                                                                    <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;" value="4"><b>User attribute</b>. Select an attribute name in the left list, a type of comparison in the <b>Starts with</b> list, and then enter a value that you want to match in text field on the right. 
										</li>
                                                                </ul>
                                                            </td>
                                                        </tr>
                                                        <tr class="TableStyle-okta_table_white-Body-Body1">
                                                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-okta_table_white-BodyB-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;"><b>THEN Use this identity provider</b>
                                                            </td>
                                                            <td class="TableStyle-okta_table_white-BodyA-Column1-Body1" style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">Select the Identity Provider you created in Okta for <b>VMware Identity Manager</b> as detailed in <a href="configure-vidm-idp-okta.htm" class="MCXref xref">STEP 1: Configure  VMware Identity Manager as an Identity Provider in Okta</a>.</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <ol data-mc-continue="true">
                                                    <div style="line-height:90%;">
                                                        <br />
                                                    </div>
                                                    <li value="4">Click <b>Create Rule</b>.</li>
                                                </ol>
                                                <p>&#160;</p>
                                                <h4>What's next?</h4>
                                                <p style="font-style: italic;">Enable Device Trust settings in Okta</p>
                                                <p>&#160;</p>
                                                <h2><a name="enable-device-trust-in-okta"></a>Enable Device Trust settings in Okta</h2>
                                                <p>This section describes how to enable Device Trust specifically for this  <span class="MobileVMware">VMware</span><span class="MobileWS1">Workspace ONE</span> +&#160;<span class="okta-variablesProductName">Okta</span> integration. When configured, these settings work together with the <a href="configure-idp-routing-rules-in-okta.htm">IDP&#160;Routing Rules</a> to redirect authentication requests from iOS and/or Android devices and target applications to Workspace ONE. Other authentication requests are processed through the default routing rule. </p>
                                                <div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span><b>Important to know before you begin</b></a></span>
                                                        <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                            <p>Do not disable the Device Trust setting on the <b>Security &gt; Device Trust</b> page if you have also configured an app sign on policy that allows trusted devices (Applications &gt; <i>app</i> &gt;&#160;Sign On Policy). Otherwise, your Device Trust configuration will be in an inconsistent state. To disable Device Trust for your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>, first remove any app sign on policies that contain a Device Trust setting, then disable Device Trust in <b>Security &gt; Device Trust</b>.</p>
                                                            <hr />
                                                        </div>
                                                    </div>
                                                    <ol>
                                                        <li value="1">From the Okta Admin Console, go to <b>Security &gt;&#160;Device Trust</b>.</li>
                                                        <li value="2">Click <b>Edit</b> in either the <b>iOS</b> or <b>Android</b> Device Trust section.</li>
                                                        <li value="3">Select <b>Enable </b>[iOS or Android] <b> Device Trust</b>.</li>
                                                        <li value="4">In <b>Trust is established by</b>, select <span style="font-weight: bold;" class="MobileVMware">VMware</span>. </li>
                                                        <li value="5">In <b>Integration type</b>, select SAML-based (<span class="MobileWS1-UEM-short">Workspace ONE UEM</span>+vIDM).</li>
                                                        <p>
                                                            <img src="../../../../Resources/Images/dti-enable-dt-ws1.png" />
                                                        </p>
                                                        <li value="6">Click <b>Next</b>. </li>
                                                        <li value="7">In <b>Device Identity provider</b>, select the Identity Provider you created in <span class="okta-variablesProductName">Okta</span> for <span class="MobileVIDM">VMware Identity Manager</span> as detailed in <a href="#config-routing-rules-mobile-devices" class="MCXref xref">Configure Identity Provider Routing rules in Okta for mobile devices</a>.</li>
                                                        <li value="8">(Optional) In the <b>Mobile device management provider</b> field, <span style="font-weight: bold;" class="MobileWS1">Workspace ONE</span> is pre-populated by default. You can modify this if necessary. The MDM provider you enter here is displayed to <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using chiclets to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a> during device enrollment.</li>
                                                        <li value="9">In the <b>Enrollment link</b> field, enter a web address where end users with unmanaged devices will be redirected.
				For example, you may want to send these users to a page with enrollment instructions, or the <span class="MobileWS1">Workspace ONE</span> enrollment page. </li>
                                                        <li value="10">Click <b>Save</b>. </li>
                                                    </ol>
                                                </div>
                                                <p>&#160;</p>
                                                <h4>What's next?</h4>
                                                <p style="font-style: italic;">Configure App Sign On Policy rules in Okta</p>
                                                <p>&#160;</p>
                                                <h2><a name="config-app-signon-policy-in-okta"></a>Configure App Sign On Policy rules in Okta</h2>
                                                <div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" style="font-weight: bold;"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><span style="color: #4cbf9c;">Click: </span>Important to know before you begin</a></span>
                                                        <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                            <ul>
                                                                <li value="1">Only App, Org, and Super  admins can configure app Sign On policies.</li>
                                                                <li value="2">
                                                                    <p>Do not disable the Device Trust setting on the <b>Security &gt; Device Trust</b> page if you have also configured an app sign on policy that allows trusted devices (Applications &gt; <i>app</i> &gt;&#160;Sign On Policy). Otherwise, your Device Trust configuration will be in an inconsistent state. To disable Device Trust for your org, first remove any app sign on policies that contain a Device Trust setting, then disable Device Trust in <b>Security &gt; Device Trust</b>.</p>
                                                                </li>
                                                                <li value="3">If you ask Okta to disable this Device Trust solution for your org (which is <u>separate from</u> the Device Trust setting that you enabled in <a href="#enable-device-trust-in-okta" class="MCXref xref">Enable Device Trust settings in Okta</a>, make sure to first change the Device Trust setting in the app sign on policy rules to&#160;<b>Any</b>&#160;(<b>Applications &gt;&#160;app&#160;&gt; Sign On</b>). If you do not make this change and then later have Okta re-enable Device Trust capability for your org, the Device Trust setting in app sign on policy rules will take effect immediately, which you may not have expected.</li>
                                                            </ul>
                                                            <hr />
                                                        </div>
                                                    </div>
                                                    <h3>Overview</h3>
                                                    <div>
                                                        <p>By default, all <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a> options in the <b>App Sign On Rule</b> dialog box are pre-selected. Notice that the <b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are not selectable unless you <i>deselect</i> the following options in the <b>Client</b> section <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" style="color: #0000ff;" data-mc-targets="dt-trusted-options-availability"><img class="MCToggler_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a>:</p>
                                                        <ul>
                                                            <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                            <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                            <li value="3">Other desktop (e.g. Linux)</li>
                                                            <p style="display: none;" data-mc-target-name="dt-trusted-options-availability">
                                                                <img src="../../../../Resources/Images/dt-trusted-options-availability.png" />
                                                            </p>
                                                        </ul>
                                                    </div>
                                                    <div>
                                                        <p>To configure more granular access to the app, selectively apply conditions  as you create one or more prioritized rules based on:</p>
                                                        <ul>
                                                            <li value="1">Who users are and/or the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> to which they belong</li>
                                                            <li value="2">Whether they are on or off network or within a defined network zone</li>
                                                            <li value="3">The type of client running on their device  (<span class="MobileO365">Office 365</span> apps only)</li>
                                                            <li value="4">The platform of their mobile or desktop device</li>
                                                            <li value="5">Whether or not their devices are Trusted</li>
                                                        </ul>
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown" style="background-color: #FAFAFA;"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Whitelist approach to creating Sign On policy rules</a></span>
                                                        <div class="MCDropDownBody dropDownBody" style="background-color: #FAFAFA;">
                                                            <ul>
                                                                <ol>
                                                                    <li value="1">Create one or more permissive rules to support the scenarios that will allow access to the app, then assign those rules the highest priority. </li>
                                                                    <li value="2">Create a Deny <i>catch-all</i> rule that will apply to users who don't match the permissive scenarios you created in Step 1. Assign the Deny catch-all rule the lowest priority, just above Okta's <b><a href="javascript:void(0);" class="MCTextPopup popup popupHead">Default Rule<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>The Default Rule is already created and cannot be edited. The Default Rule is designed to allow access to all client types from any device and platform and network locations. It is applied to users who don't match any of the more restrictive rules that have higher priority. </span></a></b>. In the whitelist approach described here, the Default rule is never reached because it is effectively negated by the Deny catch-all rule.</li>
                                                                </ol>
                                                                <p>For important information about creating Sign On policy rules, see <a href="../../../Security/App_Based_Signon.htm#top" target="_blank">Add Sign On policies for applications</a>.</p>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <h3>Procedure</h3>
                                                    <p class="earlyaccess"><b>Note:</b> The whitelist example below shows Device Trust rules for managing access to <span style="font-weight: bold;" class="MobileO365">Office 365</span>. For other apps, note that the section <b>If the user's client is any of these</b> is not present.</p>
                                                    <ol>
                                                        <li value="1">In Okta, go to <b>Applications</b> and click the SAML or WS-Fed-enabled app that you want to protect with Device&#160;Trust.</li>
                                                        <li value="2">Click the <b>Sign On</b> tab, scroll down to the <b>Sign On Policy</b>, and click <b>Add Rule</b>.</li>
                                                        <li value="3">Configure one or more rules using the following example whitelist as a guide. </li>
                                                    </ol>
                                                    <div>
                                                        <h3>Example Whitelist</h3>
                                                        <p>Users with untrusted devices are guided through <span class="MobileWS1">Workspace ONE</span> enrollment or redirected to the destination of the Enrollment link configured in <a href="#Step3">Step ③</a>.</p>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="WL-Rule1"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><MadCap:dropDownHotspot>Example Rule 1 – Web browser; Modern Auth; iOS and/or Android; Trusted; Allow access +&#160;MFA </MadCap:dropDownHotspot></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p><span style="color: #007dc1;">Click the image to enlarge</span>
                                                                </p>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-1.png"><img class="MCPopupThumbnail img" data-mc-width="638" data-mc-height="898" src="../../../../Resources/Images/WS1-integration-beta-rule-1_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                                </p>
                                                                <ol>
                                                                    <li value="1">Enter a descriptive name for the rule.</li>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="2">Under <b>People</b>, specify whether to apply the rule to individuals only or to individuals and groups. The People option you select must be the same for all the rules you create for this example.</li>
                                                                    <li value="3">Under <b>Location</b>, specify the user location to which the rule will apply. The Location option you select must be the same for all the rules you create for this example.</li>
                                                                    <li value="4">Configure client settings:</li>
                                                                    <p>Type:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is is unselected.</p>
                                                                    <p style="font-weight: normal;">Mobile:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                    <p>and / or</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Other mobile</b> is unselected.</p>
                                                                    <p>Desktop: </p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Windows</b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>macOS</b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Other desktop</b> is unselected.</p>
                                                                    <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div>
                                                                                <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                <ul>
                                                                                    <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                    <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                    <li value="3">Other desktop (e.g. Linux)</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Any </b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Trusted </b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">ACTIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="6">Configure <b>Access</b>:</li>
                                                                    <p><b>Allowed</b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Prompt for factor</b> is selected.</p>
                                                                    <li value="7">Click <b>Save</b>.</li>
                                                                    <li value="8">Create <b>Rule 2</b>.</li>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="WL-Rule2"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><MadCap:dropDownHotspot>Example Rule 2 – Web browser; Modern Auth; All platforms except  iOS and/or Android; Any Trust; Allow access +&#160;MFA </MadCap:dropDownHotspot></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p><span style="color: #007dc1;">Click the image to enlarge</span>
                                                                </p>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-2.png"><img class="MCPopupThumbnail img" data-mc-width="640" data-mc-height="909" src="../../../../Resources/Images/WS1-integration-beta-rule-2_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                                </p>
                                                                <ol>
                                                                    <li value="1">Enter a descriptive name for the rule.</li>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="2">
										Under <b>People</b>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The People option must be the same for all rules in this example.</li>
                                                                    <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The Location option must be the same for all rules in this example.</li>
                                                                    <li value="4">Configure client settings:</li>
                                                                    <p>Type:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is unselected.</p>
                                                                    <p style="font-weight: normal;">Mobile:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>iOS</b> is unselected.</p>
                                                                    <p>and / or</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">¨</span> <b>Android</b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other mobile</b> is selected.</p>
                                                                    <p>Desktop: </p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Windows</b> is selected</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>macOS</b> is selected</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Other desktop</b> is selected</p>
                                                                    <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div>
                                                                                <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                <ul>
                                                                                    <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                    <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                    <li value="3">Other desktop (e.g. Linux)</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Any </b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Not trusted</b> is unselected.</p>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">ACTIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="6">Configure <b>Access</b>.</li>
                                                                    <p><b>Allowed</b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Prompt for factor</b> is selected.</p>
                                                                    <li value="7">Click <b>Save</b>.</li>
                                                                    <li value="8">Create <b>Rule 3</b>.</li>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="WL-Rule3"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_"><MadCap:dropDownHotspot>Example Rule 3 – Web browser; Modern Auth;  iOS and/or Android; Not Trusted; Deny access</MadCap:dropDownHotspot></a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p><span style="color: #007dc1;">Click the image to enlarge</span>
                                                                </p>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-3.png"><img class="MCPopupThumbnail img" data-mc-width="640" data-mc-height="721" src="../../../../Resources/Images/WS1-integration-beta-rule-3_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                                </p>
                                                                <ol>
                                                                    <li value="1">Enter a descriptive name for the rule.</li>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">CONDITIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="2">
										Under <b>People</b>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>. The People option you select must be the same for all rules you create for this example.</li>
                                                                    <li value="3">Under <b>Location</b>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>. The Location option you select must be the same for all rules you create for this example.</li>
                                                                    <li value="4">Configure client settings:</li>
                                                                    <p>Type:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Web browser or Modern Auth client</b> selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Exchange ActiveSync client</b> is unselected.</p>
                                                                    <p style="font-weight: normal;">Mobile:
										</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>iOS</b> is selected.</p>
                                                                    <p>and / or</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Android</b> is selected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Other mobile</b> is unselected.</p>
                                                                    <p>Desktop: </p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Windows</b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>macOS</b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Other desktop</b> is unselected.</p>
                                                                    <li value="5">Configure  <b>Device Trust</b>.</li>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /><b><i style="color: #4cbf9c;">Tip</i>:</b><span style="color: #0000ff;"> To make <span style="color: #000000;">Trusted </span>and <span style="color: #000000;">Not Trusted</span> options selectable:</span></a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div>
                                                                                <p><b>Trusted</b> and <b>Not trusted</b> options in the <b>Device Trust</b> section are selectable only when all of the following options in the Client section are <u>not</u> selected:</p>
                                                                                <ul>
                                                                                    <li value="1">Exchange ActiveSync or Legacy Auth client</li>
                                                                                    <li value="2">Other mobile (e.g. BlackBerry)</li>
                                                                                    <li value="3">Other desktop (e.g. Linux)</li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Any </b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'">¨</span> <b>Trusted </b> is unselected.</p>
                                                                    <p><span style="font-family: 'Wingdings'; color: #007dc1;">þ</span> <b>Not trusted</b> is selected.</p>
                                                                </ol>
                                                                <p><span style="color: #4cd882;">ACTIONS</span>
                                                                </p>
                                                                <ol data-mc-continue="true">
                                                                    <li value="6">Configure <b>Access</b>.</li>
                                                                    <p><b>Denied</b> is selected.</p>
                                                                    <li value="7">Click <b>Save</b>.</li>
                                                                </ol>
                                                            </div>
                                                        </div>
                                                        <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Rule 4: Default sign on rule – Any client, All platforms; Any Trust; Allow access</a></span>
                                                            <div class="MCDropDownBody dropDownBody">
                                                                <p>The Default sign on rule is already created and cannot be edited. In this example, the Default rule is never reached because it is effectively negated by Rule 3. </p>
                                                                <p><span style="color: #007dc1;">Click the image to enlarge</span>
                                                                </p>
                                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/SignOnPolicies_DefaultRule.png"><img class="MCPopupThumbnail img" data-mc-width="480" data-mc-height="590" src="../../../../Resources/Images/SignOnPolicies_DefaultRule_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                                </p>
                                                                <div style="line-height:120%;">
                                                                    <br />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p>&#160;</p>
                                                <h4>What's next?</h4>
                                                <p style="font-style: italic;">Configure Default Access Policy in VMware Identity Manager</p>
                                                <p>&#160;</p>
                                                <h2><a name="config-default-access-policy-in-vidm"></a>Configure Default Access Policy in <span class="MobileVIDM">VMware Identity Manager</span></h2>
                                                <div>
                                                    <p>Update the default access policy in <span class="MobileVIDM">VMware Identity Manager</span> to include policy rules for iOS and Android devices. The default access policy governs the behavior of the <span class="MobileWS1">Workspace ONE</span> catalog. Configuring mobile SSO policy rules is mandatory as it is part of passing device trust information to apps.</p>
                                                    <p>Create policy rules for iOS and Android with Mobile SSO as the authentication method and with Okta authentication as the fallback method. Also configure the rules for <span class="MobileWS1">Workspace ONE</span> app and Hub app, and Web browser. Make sure that the policy rules are in the correct order.</p>
                                                    <div class="note"><b>Note:</b>&#160;Do not add Device Compliance to the policies.</div>
                                                    <ol>
                                                        <li value="1">Log in to the <span class="MobileVIDM">VMware Identity Manager</span> console as the System administrator.</li>
                                                        <li value="2">Click the <b>Identity &amp; Access Management</b> tab, then click the <b>Policies</b> tab.</li>
                                                        <li value="3">Click <b>Edit Default Access Policy</b>.</li>
                                                        <li value="4">In the <b>Edit Policy</b> wizard, click <b>Configuration</b>.</li>
                                                        <li value="5">Click <b>Add Policy Rule</b> and create a policy rule for iOS devices.
				<ol style="list-style-type: lower-alpha;"><li value="1">Set Mobile SSO (iOS) as the first authentication method and Okta authentication as the fallback authentication method.</li><div style="padding: 10px 10px;background-color: #fafafa;"><p>If a user's network range is: <b>ALL RANGES</b></p><p>and the user is accessing content from: <b>iOS</b></p><p>Then perform this action: <b>Authenticate using</b></p><p>then the user may authenticate using: <b>Mobile SSO (iOS)</b></p><p>If the preceding method fails or is not applicable, then: <b style="font-style: italic;">Okta Auth Method</b></p></div><p /><div class="note"><b>Note:</b> For <i>Okta Auth Method</i>, select the authentication method you created for the Okta IdP in <a href="configure-okta-idp-vidm.htm#complete-create-new-idp" class="MCXref xref">Complete creating a new Identity Provider in VMware Identity Manager</a>.</div><p /><li value="2">Click <b>Save</b>.</li></ol></li>
                                                        <li value="6">Click <b>Add Policy Rule</b> and create a similar policy rule for Android devices.<ol style="list-style-type: lower-alpha;"><li value="1">Set Mobile SSO (Android) as the first authentication method and <span class="okta-variablesProductName">Okta</span> authentication as the fallback authentication method.
							
							
				<div style="padding: 10px 10px;background-color: #fafafa;"><p>If a user's network range is: <b>ALL RANGES</b></p><p>and the user is accessing content from: <b>Android</b></p><p>Then perform this action: <b>Authenticate using</b></p><p>	then the user may authenticate using: <b>Mobile SSO (Android)</b></p><p>	If the preceding method fails or is not applicable, then: <b style="font-style: italic;">Okta Auth Method</b></p></div></li><li value="2">Click <b>Save</b>.</li></ol></li>
                                                        <li value="7">Configure the policy rule for <span class="MobileWS1">Workspace ONE</span> app and Hub app.<ol style="list-style-type: lower-alpha;"><li value="1">Click the policy rule for Workspace ONE app and Hub app to edit it.</li><li value="2">Configure the rule.<![CDATA[
							
							
				]]><div style="padding: 10px 10px;background-color: #fafafa;"><p>If a user's network range is: <b>ALL RANGES</b></p><p>and the user is accessing content from: <b><span class="MobileWS1">Workspace ONE</span> app or Hub app</b></p><p>Then perform this action: <b>Authenticate using</b></p><p>	then the user may authenticate using: <b>Mobile SSO (for iOS)</b></p><p>	If the preceding method fails or is not applicable, then: <b style="font-style: italic;">Mobile SSO (for Android)</b></p><p>	If the preceding method fails or is not applicable, then: <b style="font-style: italic;">Okta Auth Method</b></p></div></li></ol></li>
                                                        <li value="8">Arrange the policy rules in the following order, listed from top to bottom:<ol style="list-style-type: lower-alpha;"><li value="1"><span class="MobileWS1">Workspace ONE</span> app or Hub app				</li><li value="2"><span class="Mobilemobileplatform">iOS</span> or <span class="MobileUEM-platform">Android</span></li><li value="3"><span class="Mobilemobileplatform">iOS</span> or <span class="MobileUEM-platform">Android</span></li><li style="font-weight: normal;" value="4">Web browser</li></ol></li>
                                                    </ol>
                                                </div>
                                                <p>&#160;</p>
                                                <h4>What's next?</h4>
                                                <p style="font-style: italic;">Recommendations for configuring Native Android apps</p>
                                                <p>&#160;</p>
                                                <h2><a name="recommendations-native-android-apps"></a>Recommendations for configuring Native Android apps</h2>
                                                <div>
                                                    <p> To provide the best user experience for users on <span class="MobileUEM-platform">Android</span> devices, you can configure certain settings for the <span class="MobileUEM-platform">Android</span> mobile SSO flow.</p>
                                                    <p>Native <span class="MobileUEM-platform">Android</span> apps require the <span class="MobileVMware">VMware</span> Tunnel to be downloaded and installed on end users' devices. As a best practice for a <span class="MobileWS1">Workspace ONE</span>+Okta integration environment, configure the Auto deployment setting for each native <span class="MobileUEM-platform">Android</span> app so that the app and tunnel are automatically deployed on users' devices after they enroll. Also enable Managed Access for the apps.</p>
                                                    <p>You configure these settings in the <span class="MobileVMware">VMware</span> <span class="MobileWS1-UEM-short">Workspace ONE UEM</span> console.</p>
                                                    <ol>
                                                        <li value="1">In <span class="MobileWS1-UEM-short">Workspace ONE UEM</span>, go to the <b>Apps &amp; Books &gt; Applications &gt; Native page</b>.</li>
                                                        <li value="2">Click the app name.</li>
                                                        <li value="3">Click <b>Assign</b>.</li>
                                                        <li value="4">Click <b>Add Assignment</b> to add a new assignment or select the assignment to edit and click <b>Edit</b>.</li>
                                                        <li value="5">Configure the assignment according to your needs and include the following selections as a best practice:<ul><li value="1">App Delivery Method: <b>AUTO</b></li><li value="2">Managed Access: <b>ENABLED</b></li><li value="3">App Tunneling: <b>ENABLED</b></li></ul></li>
                                                        <div class="note"><b>Note:</b> When you enable App Tunneling, you also need to select the VPN configuration profile to use for the app.</div>
                                                        <p>For example:</p>
                                                        <p>
                                                            <img src="../../../../Resources/Images/dti-android-native-best-practice.png" />
                                                        </p>
                                                        <li value="6">Save the assignment.</li>
                                                    </ol>
                                                    <p>After users enroll their devices, the app appears in the catalog. The app icon indicates that the tunnel is included. When users install the app, both the app and the tunnel are installed.</p>
                                                </div>
                                                <div style="font-size: 10pt;"> <br /><hr width="100%" size="0" align="center" /><table style="mc-table-style: url('../../../../Resources/TableStyles/okta_table_vert_rule_no_borders_no_background.css');border-left-style: none;border-left-width: 1px;border-left-color: #333333;border-right-style: none;border-right-width: 1px;border-right-color: #333333;border-top-style: none;border-top-width: 1px;border-top-color: #333333;border-bottom-style: none;border-bottom-width: 1px;border-bottom-color: #333333;" class="TableStyle-okta_table_vert_rule_no_borders_no_background" cellspacing="26"><col class="TableStyle-okta_table_vert_rule_no_borders_no_background-Column-Column1" /><col class="TableStyle-okta_table_vert_rule_no_borders_no_background-Column-Column1" /><tbody><tr class="TableStyle-okta_table_vert_rule_no_borders_no_background-Body-Body1"><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyE-Column1-Body1" style="text-align: left;"><p style="text-align: left;">Use case:</p></td><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyD-Column1-Body1"><p><a href="enforce-device-trust-mobile-sso-with-okta-vmware-ws1.htm" class="MCXref xref">Enforce Device Trust and SSO with Okta + VMware Workspace ONE</a></p></td></tr><tr class="TableStyle-okta_table_vert_rule_no_borders_no_background-Body-Body1"><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyE-Column1-Body1" style="text-align: left;"><p style="text-align: left;">Other use case:</p></td><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyD-Column1-Body1"><p><a href="configure-streamlined-enrollment-vmware-login-with-okta.htm" class="MCXref xref">Configure streamlined Device Enrollment and Workspace ONE login using Okta</a></p></td></tr><tr class="TableStyle-okta_table_vert_rule_no_borders_no_background-Body-Body1"><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyB-Column1-Body1">Parent topic:</td><td class="TableStyle-okta_table_vert_rule_no_borders_no_background-BodyA-Column1-Body1" style="text-align: left;"><a href="integrate-okta-dt-with-ws1-mobile.htm" class="MCXref xref">Integrate Okta Device Trust with VMware Workspace ONE for iOS and Android devices</a></td></tr></tbody></table></div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="8lLQ0WQ1f0qCBo1wFm7FPA">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="8lLQ0WQ1f0qCBo1wFm7FPA:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>