<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Documentation|Product documentation|Directory Integrations|Okta Active Directory">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Okta AD Deployment Guide  | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="91qmFhpOSUS9j8RY-mPD-A">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="91qmFhpOSUS9j8RY-mPD-A:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">  </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1>The <span class="okta-feature-namesAD agent">Okta Active Directory (AD) agent</span> Deployment Guide</h1>
                                                <hr width="100%" size="0" align="center" />
                                                <p>This guide provides  the information you need to plan, install and configure your <span class="okta-feature-namesAD agent short">Okta AD <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">agent<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A software agent is a lightweight program that runs as a service outside of Okta. It is typically installed behind a firewall and allows Okta to tunnel communication between an on-premises service and Okta's cloud service. Okta employs several agent types: Active Directory, LDAP, RADIUS, RSA, Active Directory Password Sync, and IWA. For example, users can install multiple Active Directory agents to ensure that the integration is robust and highly available across geographic locations.</span></a></span> integration. </p>
                                                <p>Depending on the size and complexity of your Okta AD integration, you will work your way through select topics based on whether or not they apply to your environment and how familiar you already are with Okta. Some topics may apply to all integrations, such as installing the agent. Others are more applicable for larger enterprise customers, for example disaster recovery.</p>
                                                <h2>Table of contents</h2>
                                                <ul>
                                                    <li value="1"><a href="#Before" class="MCXref xref" xrefformat="{para}">Before you install: considerations and best practice</a>
                                                        <ul>
                                                            <li value="1"><a href="#Integrat" class="MCXref xref" xrefformat="{para}">Integration Introduction</a>
                                                            </li>
                                                            <li value="2"><a href="#Two" class="MCXref xref" xrefformat="{para}">Two main ways to approach your integration</a>
                                                            </li>
                                                            <li value="3"><a href="#High" class="MCXref xref" xrefformat="{para}">High Availability and Disaster Recovery considerations</a>
                                                            </li>
                                                            <li value="4"><a href="#AD" class="MCXref xref" xrefformat="{para}">AD forests and domains</a>
                                                            </li>
                                                            <li value="5"><a href="#Preparin" class="MCXref xref" xrefformat="{para}">Preparing AD</a>
                                                            </li>
                                                            <li value="6"><a href="#Import" class="MCXref xref" xrefformat="{para}">Import considerations</a>
                                                            </li>
                                                            <li value="7"><a href="#Agent" class="MCXref xref" xrefformat="{para}">Agent install and update recommendations</a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li value="2"><a href="#Install" class="MCXref xref" xrefformat="{para}">Install the Okta AD agent</a>
                                                    </li>
                                                    <li value="3"><a href="#FAQs" class="MCXref xref" xrefformat="{para}">FAQs</a>
                                                    </li>
                                                </ul>
                                                <h2><a name="Before"></a>Before you install: considerations and best practice</h2>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Integrat"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Integration Introduction</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <p>
		The <span class="okta-feature-namesAD agent ">Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Active Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Active Directory (AD) is a directory service that Microsoft developed for the Windows domain networks. It is included in most Windows Server operating systems as a set of processes and services. Initially, Active Directory was only in charge of centralized domain management.</span></a> (AD) agent</span> enables you to integrate Okta with your on-premise Active Directory (AD). AD integration provides <a href="javascript:void(0);" class="MCTextPopup popup popupHead">delegated authentication support<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>enabling users to sign in to Okta with their AD&#160;credentials</span></a>, <a href="javascript:void(0);" class="MCTextPopup popup popupHead">user provisioning<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>assigning users to apps</span></a> and <a href="javascript:void(0);" class="MCTextPopup popup popupHead">de-provisioning<span class="MCTextPopupBody MCTextPopupBody_Closed needs-pie popupBody"><span class="MCTextPopupArrow"></span>removing users from apps</span></a>. To enable AD integration, you must install the <span class="okta-feature-namesAD agent short ">Okta AD agent</span>, and import AD users and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> into Okta. </p>
                                                            <p>AD integrations in a newly-created organization automatically have the following default settings enabled:</p>
                                                            <ul>
                                                                <li value="1"><b>Delegated authentication</b>  — Allows&#160;your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using chiclets to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a> to sign in to Okta with their AD&#160;credentials.</li>
                                                                <li value="2"><b>The import schedule set to never</b> — You can choose your import options in the configuration steps below.</li>
                                                                <li value="3"><b><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Profile mastering<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Mastering is a more sophisticated version of read (import) users. Mastering defines the flow and maintenance of user-object attributes and their lifecycle state. When a profile is mastered from a given resource (application or directory), the Okta user profile’s attributes and lifecycle state are derived exclusively from that resource. In other words, an Okta user mastered by Active Directory (or HR system) has an Okta profile. However, the profile isn’t editable in Okta by the user or Okta admin, and derives its information exclusively from Active Directory. If the lifecycle state of the user in Active Directory moves to Disabled, the linked Okta user also switches to the corresponding lifecycle state of Deactivated on the next the read (import).</span></a></b>  — This refers to which application is the source of truth for user data. By default, AD is the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">profile master<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A profile master is an application (usually a directory service such as Active Directory, or human capital management system such as Workday) that acts as a source of truth for user profile attributes. A user can only be mastered by a single application or directory at any one time. For more details, see the Profile Master page.

When users are mastered by attribute, we call this attribute-level mastery (ALM). ALM delivers finer grain control over how profiles are mastered by allowing admins to specify different profile masters for individual attributes. Profile mastering only applies to Okta user profiles, not app user profiles. For more details, see Attribute Level Mastering.</span></a> when the agent is installed.</li>
                                                            </ul>
                                                            <p>There are two common AD scenarios, as illustrated by the diagrams below.</p>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown dropDownSecondLevel"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_SecondLevel MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />
                            AD Single Forest &amp; Single Domain Deployment Diagram
                        </a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>
                                                                        <img src="../../Resources/Images/AD_singledomain.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <div class="MCDropDown MCDropDown_Closed dropDown dropDownSecondLevel"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCDropDownHotSpot_SecondLevel MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />
                            AD Single Forest &amp; Multiple Domain Deployment Diagram
                            
                        </a></span>
                                                                <div class="MCDropDownBody dropDownBody">
                                                                    <p>
                                                                        <img src="../../Resources/Images/AD_multiple_domain.png" />
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Two"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Two main ways to approach your integration</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>How you approach your Okta AD integration will depend on your organization's size, needs and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">scope<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A scope is an indication by the client that it wants to access some resource.</span></a> of deployment. In general, there are two main approaches:</p>
                                                        <ul>
                                                            <li value="1"><b>Proof of Concept (POC) or simple deployment</b>   — If you're doing a POC or have a relatively simple AD integration, you may prefer to jump right in to installing the <span class="okta-feature-namesAD agent short">Okta AD agent</span> and get started importing some users and setting up the basics. You may not want or need to do a lot of planning around high availability (HA) or disaster recovery (DR), or which attributes you will import from your AD user profiles into the corresponding Okta user profile.</li>
                                                            <li value="2"><b>Large scale enterprise deployment</b>   — Larger enterprise deployments may do more upfront planning of their <span class="okta-feature-namesAD agent short">Okta AD agent</span> integration before beginning the agent installs and importing user data.</li>
                                                        </ul>
                                                        <p>Which ever approach you take, you are always able to come back to the configuration options and make changes as your implementation evolves.</p>
                                                        <p>This guide includes sections to help you plan your implementation, including:</p>
                                                        <ul>
                                                            <li value="1">Agent performance information</li>
                                                            <li value="2">High Availability (HA) and Disaster Recovery (DR)</li>
                                                            <li value="3">AD Domains and Cross-forest scenarios</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="High"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">High Availability and Disaster Recovery considerations</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>This section covers our recommendations and best practices for HA and DR scenarios. We recommend you review these guidelines and decide what and how to implement given your organization's fault tolerance and DR processes. The specific implementation details will depend on the unique requirements of your organization.</p>
                                                        <p>The <span class="okta-feature-namesAD agent short">Okta AD agent</span> does not perform load balancing. Traffic is directed to the first available agent.</p>
                                                        <p>Some questions you'll need to answer:</p>
                                                        <ul>
                                                            <li value="1">Who owns your organization's DR or HA processes and who needs to be consulted?</li>
                                                            <li value="2">How many data centers do you have?&#160;<ul><li value="1">How are they used?&#160;That is, which ones are live (hot) all the time and which ones are backups (cold).</li><li value="2">What kind of fail over do you want to plan for?&#160;You can have agent redundancy, in the event an individual agent fails. Or you can plan for the failure of an entire data center (that is, all agents in that data center).</li><li value="3">Are the AD <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> controllers live all the time?</li><li value="4">Are they actively replicated to?</li><li value="5">Is there a significant latency in replication between the data centers? This can cause replication problems.</li></ul></li>
                                                        </ul>
                                                        <h3>Sample scenario</h3>
                                                        <p>The easiest way to illustrate your options is with an example scenario.</p>
                                                        <p>Example Corp has three data centers:</p>
                                                        <ol>
                                                            <li value="1">A physical data center in Atlanta that is always live.</li>
                                                            <li value="2">An AWS data center that is always live.</li>
                                                            <li value="3">A cold backup data center that is only used for complete DR scenarios if the two live data centers go offline.</li>
                                                        </ol>
                                                        <p>The first point to note is that it does not matter to the <span class="okta-feature-namesAD agent short">Okta AD agent</span> whether it is a physical or virtual data center. So the  Atlanta and AWS data centers are the same from the point of view of the <span class="okta-feature-namesAD agent short">Okta AD agent</span>. </p>
                                                        <p>If Atlanta and AWS are both live all the time, and each have one or more agents installed, then traffic will be routed to the active agents, regardless of the agent location. The cold backup data center cannot have an active agent installed on it, since traffic is routed to all active agents. </p>
                                                        <p>While it is possible to install agents on servers in your cold data center, these agents will be listed as inactive in your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> dashboard. After 30 days of inactivity, the API token assigned will expire. As a result, you will have to re-install the agents if switching over to your cold backup. Because of this, Okta does not recommend installing agents on servers in your cold data center.</p>
                                                        <p>What is the minimum number of agents you want installed in each data center?&#160;Having only one agent installed in each center increases your risk. With a minimum of two agents, you will at least have a backup if one agent fails. Actual performance depends on the number of active users you have. You'll need to consider what your fault tolerance is and what HA or DR scenarios you want to prepare for:</p>
                                                        <ul>
                                                            <li value="1">Atlanta experiences full failure, AWS picks up the traffic. If AWS then fails, the cold data center is brought online.</li>
                                                            <li value="2">If either Atlanta or AWS fail, the cold data center is brought online.</li>
                                                        </ul>
                                                        <h4>The final count</h4>
                                                        <p>Ultimately the final decision rests with your organization. Ask yourself:</p>
                                                        <ul>
                                                            <li value="1">What is our risk tolerance?&#160;</li>
                                                            <li value="2">Are we planning for individual agents or the machine they are installed on going down, or entire data centers?&#160;</li>
                                                            <li value="3">How do the Okta recommendations fit in with our existing HA and DR procedures?&#160;</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="AD"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">AD forests and domains</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>When planning your AD integration, we recommend taking a look at your existing AD implementation.</p>
                                                        <ul>
                                                            <li value="1">How many domains do you have?</li>
                                                            <li value="2">What kind of trusts are in place?</li>
                                                            <li value="3">What forests do you have?</li>
                                                            <li value="4">Which OUs do you plan to import into Okta?&#160;</li>
                                                            <li value="5">Are there users or resources in those OUs that you do not need to import into Okta?</li>
                                                        </ul>
                                                        <p>The <span class="okta-feature-namesAD agent short">Okta AD agent</span> does support communication across domains. However, the <span class="okta-feature-namesAD agent short">Okta AD agent</span> cannot communicate across forests.</p>
                                                        <p>An agent must be installed in each forest and each domain in a forest where there are users you intend to import into Okta. While is it possible  to register multiple domains to a single agent, be aware that if the agent goes down, all domains will be impacted.</p>
                                                        <p>Resource forests do not need agents installed in them because there are typically no users in the forest, just network resources. </p>
                                                        <p>Installing the <span class="okta-feature-namesAD agent short">Okta AD agent</span> requires the use of an AD service account. It is important that the service account has permissions in all domains in that forest to read and access users in all domains to which the agent connects. For details about the service accounts required to install the agent, see <a href="ad-agent-install.htm#AccountReqs">Accounts required for AD agent installation</a>. </p>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Preparin"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Preparing AD</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>This section contains some general considerations to keep in mind about your AD environment before you begin integrating with Okta.</p>
                                                        <p>Select the AD attributes in AD that you want to sync with Okta or a downstream <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> carefully and check to be sure that your organization is using those attributes for their intended purpose. If you are mapping the same data from two or more domains into one, you should ensure the data is consistent. If the domains share an attribute but that attribute is user for different values, this will create a problem once the attribute is merged into Okta. </p>
                                                        <p>For example:</p>
                                                        <p>There is a custom attribute "<i>Attribute 1</i>" that is being used in&#160;Domain A to store users' employee badge numbers and in Domain B it is being used to store the last four digits of their corporate credit card. When you map users from Domain A and Domain B into Okta<i>, Attribute 1</i> will be mapped as an attribute in Okta. However, the value of that attribute will be referring to two different pieces of data depending which user you are looking at.</p>
                                                        <p>In this situation you have several options:</p>
                                                        <ul>
                                                            <li value="1">Clean up the data across the different domains so that the attribute values are consistent.</li>
                                                            <li value="2">Create completely different attribute mappings between Okta and each of your AD domains. In this case, Okta recommends that you still clean up the data at a later time.</li>
                                                            <li value="3">Take advantage of <a href="eu-attribute-level-mastering.htm#top">Attribute Level Mastering</a>.</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Import"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Import considerations</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>We recommend that you only bring into <span class="okta-variablesProductName">Okta</span> the attributes that you require. For example, if in AD you have a <b>t-shirt size</b> attribute, but do not need that attribute in Okta or any down-stream applications, do not import that attribute into the Okta user profile. You can always include more attributes at a later time as you require them. However, removing attribute mappings is more difficult. </p>
                                                        <p>Even if you remove the attribute mapping, <span class="okta-variablesProductName">Okta</span> still holds the data that has already been imported. To actively remove the attribute data in Okta, you will have to intentionally map a blank value to the attribute in the Okta user profile. </p>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Agent"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Agent install and update recommendations</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Installing the <span class="okta-feature-namesAD agent short">Okta AD agent</span> requires the use of an AD service account. It is important that the service account has permissions in all domains in that forest to read and access users in all domains to which the agent connects. </p>
                                                        <p>In general, Okta recommends you use the same AD service account to install all of your agents. This simplifies maintenance on the service account itself such as password rotation, so that the agent isn't negatively impacted.</p>
                                                        <p>Planning for agent updates will depend on your current change management process. Treat an agent update the same as any standard server patch process. Update each agent one or two at a time, sequentially and consistently. Avoid taking all agents down at the same time. </p>
                                                        <p>Agent updates can be installed over existing agents. There is no need to uninstall the existing agent first. It is possible to uninstall the existing agent and install the updated agent version. However, this requires additional steps to ensure a complete and clean uninstall. </p>
                                                        <p>As with all updates and configuration changes, Okta recommends that you upgrade your Okta Preview environment first to ensure everything is working correctly before upgrading your Production environment.</p>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <h2><a name="Install"></a>Install the <span class="okta-feature-namesAD agent short">Okta AD agent</span></h2>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Integrate with Active Directory</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Okta Active Directory (AD) integration allows you to integrate Okta with your on-premise AD. AD integration provides delegated authentication support (allowing&#160;users to sign in to Okta with their AD&#160;credentials), user provisioning and de-provisioning, and the ability to import users and AD&#160;security groups.</p>
                                                        <p>There are several steps you must complete to integrate with AD, including:</p>
                                                        <ol>
                                                            <li value="1"><a href="ad-agent-install.htm" class="MCXref xref" xrefformat="{para}">Install and configure the Okta Active Directory (AD) agent</a>
                                                                <p>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />This includes the following topics:</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <ol>
                                                                                <li value="1"><a href="ad-agent-install.htm#Requirements" class="MCXref xref" xrefformat="{para}">Requirements</a>        &#160;—  OS, hardware, and account requirements</li>
                                                                                <li value="2"><a href="ad-agent-install.htm#Installi" class="MCXref xref" xrefformat="{para}">STEP 1: Install the Active Directory agent on the host server</a>       &#160;—  How to install the AD agent.</li>
                                                                                <li value="3"><a href="ad-agent-install.htm#ADimportprov" class="MCXref xref" xrefformat="{para}">STEP 2: Configure import and account settings</a>       &#160;—  Basic configuration settings for how users get imported into Okta.</li>
                                                                                <li value="4"><a href="ad-agent-install.htm#Provisioning">Optional Provisioning settings</a>, including:
							
										<p><ul><li value="1"><a href="ad-agent-install.htm#ProfileMaster"><a href="ad-agent-install.htm#ProfileMaster" class="MCXref xref" xrefformat="{para}">Configure Profile Master and Lifecycle settings — Makes Active Directory the source of truth for end users. (Optional)</a></a></li><li value="2"><a href="ad-agent-install.htm#SyncPassword" class="MCXref xref" xrefformat="{para}">Configure Sync Password — Syncs users' AD password with their Okta password. (Optional)</a></li></ul></p></li>
                                                                                <li value="5">May apply, depending on your environment:<ul><li value="1"><a href="ad-agent-update.htm#Uninstall" class="MCXref xref" xrefformat="{para}">Uninstall the Okta AD agent</a>— If you need to change the Okta service account running the agent.</li><li value="2"><a href="ad-agent-install-multiple.htm" class="MCXref xref" xrefformat="{para}">Install multiple Okta Active Directory (AD) agents </a> — Improve performance and availability.</li><li value="3"><a href="ad-agent-register-multipledomains.htm" class="MCXref xref" xrefformat="{para}">Register multiple domains to an Okta Active Directory (AD) agent </a> — An alternative to using multiple agents. </li><li value="4"><a href="ad-agent-install.htm" class="MCXref xref" xrefformat="{para}">Install and configure the Okta Active Directory (AD) agent</a></li></ul></li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                </p>
                                                            </li>
                                                            <li value="2"><a href="directory-AD-importusers.htm" class="MCXref xref" xrefformat="{para}">Import Active Directory users</a>
                                                                <p>
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Includes the following topics:</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <ol>
                                                                                <li value="1"><a href="directory-AD-importusers.htm" class="MCXref xref" xrefformat="{para}">Import Active Directory users</a> using on of the following methods:
										<ul><li value="1"><a href="#Onetime">Import AD users "on demand"</a> — Import users manually if you do not want to wait for a scheduled import.</li><li value="2"><a href="#Scheduled">Scheduled imports</a>          &#160;— Set a regular import schedule.</li><li value="3"><a href="#UsingEnablingJIT">Using JIT</a>          &#160;— Use <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Just in Time (JIT) provisioning<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>users are created/updated on the fly using the SAML attributes sent as part of the SAML response coming from the Identity Provider. The A user is created during initial login to the Service Provider and updated during subsequent logins. Turning on JIT Provisioning is normally a configuration value in the Service Provider.</span></a>, which imports users into Okta when they first sign in to Okta. </li></ul></li>
                                                                                <li value="2"><a href="#Activateusers"><a href="#Confirm">Confirm imported users</a>          &#160;</a> — Based on the <a href="eu-matching-imported-users.htm">matching rules</a> you set, confirm that the imported AD users have been imported correctly.
										</li>
                                                                                <li value="3"><a href="#Activateusers">Activate user accounts</a>          &#160;— Activate the Okta user accounts and send the activation email with the user's password so they can log into Okta. </li>
                                                                            </ol>
                                                                        </div>
                                                                    </div>
                                                                </p>
                                                            </li>
                                                        </ol>
                                                        <p />
                                                        <p>After you have completed the steps above, your basic AD set up is complete, although you may want to iterate your profile attributes and other settings as you refine your Okta deployment needs.</p>
                                                        <p>The topics below are advanced and optional concepts and tasks which may apply to you, for you to explore as needed.</p>
                                                        <ol>
                                                            <li value="1">
                                                                <p><a href="directory-AD-attribute-mapping.htm" class="MCXref xref" xrefformat="{para}">Work with Active Directory user profiles and attributes</a>
                                                                </p>
                                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />This includes the following topics:</a></span>
                                                                    <div class="MCDropDownBody dropDownBody">
                                                                        <ul>
                                                                            <li value="1"><a href="#AddRemCustAttrib">Adding and Removing Custom AD&#160;attributes</a> — Customize which AD attributes are included in the AD app user profile. </li>
                                                                            <li value="2"><a href="#BaseADAttrib">Base AD attributes </a>— List of the 10 basic attributes that AD requires. All other AD attributes are considered custom attributes.</li>
                                                                            <li value="3"><a href="#ADattribmappings">Active Directory attribute mappings</a> — Table showing how the AD attributes map to Okta attributes. As you are building your Okta and AD user profiles you will need to know how the AD attributes map to Okta attributes. </li>
                                                                            <li value="4"><a href="#Mappingattribs">Mapping Profile attributes</a> — How to create a mapping between an Okta user profile and an app user profile.</li>
                                                                            <li value="5"><a href="#Expressions">Expressions</a> — How to configure expressions, override user names, and exclude AD user name updates during provisioning.</li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li value="2"> Understand how Okta user profiles and attributes work
						<p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Includes the following topics:</a></span><div class="MCDropDownBody dropDownBody"><ul><li value="1"><a href="directory-UD-profile-editor-con.htm" class="MCXref xref" xrefformat="{para}">About Universal Directory and user profiles</a> Concepts include:
										<ul><li value="1"><a href="#Profiles">Profiles</a> — Representations of user accounts. Okta supports 2 types of profiles:&#160;Okta end user profiles and App user profiles.</li><li value="2"><a href="#Mappings">Mappings </a> — Allows you to precisely control the attributes exchanged during provisioning processes.</li><li value="3"><a href="#Expressions">Expression Language transformations</a> —  Allows you to concatenate attributes, manipulate strings, convert data types, and more.</li><li value="4"><a href="#UsernameOverrides">Username Overrides</a> — Construct custom Okta user names or application user names.</li><li value="5"><a href="#RichSAML">Rich SAML Assertions</a> — UD attributes can be sent in <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.

Here's how SAML works through Okta:

SP-initiated flow: the end user requests (principally through a browser) a service from the SP. The SP requests and obtains an identity assertion from the IdP (in this case, Okta). On the basis of this assertion, the SP can decide whether or not to authorize or authenticate the service for the end user.
IdP-initiated flow: with Okta as the IdP, an end user goes to the Okta browser and clicks on a chiclet, sending a SAMLResponse to the configured SP. A session is established with the SP, and the end user is authenticated.</span></a> assertions and WS-Fed claims.</li></ul></li><li value="2"><a href="eu-profile_editor_tasks.htm" class="MCXref xref" xrefformat="{para}">Work with Okta user profiles and attributes</a></li></ul></div></div></p></li>
                                                            <li value="3">Learn about Profile Masters and Attribute Level Mastering<ul><li value="1"><a href="eu-profile-masters.htm" class="MCXref xref" xrefformat="{para}">Profile mastering</a> — Explains the concept of Profile Masters and how to set one.</li><li value="2"><a href="eu-attribute-level-mastering.htm" class="MCXref xref" xrefformat="{para}">Attribute-level mastering</a>(ALM)  —  ALM delivers finer grain control over how profiles are mastered by letting you specify different profile masters for individual attributes.</li></ul></li>
                                                            <li value="4">Learn about Okta's <a href="../Security/Security_Policies.htm">Security policies</a>. —  Okta policies allow control of various elements of security, including end-user passwords, the authentication challenges a user receives, the devices they can use, and the places they use them from.</li>
                                                        </ol>
                                                        <p>Other topics:</p>
                                                        <p><a href="Directory_AD_disconnect_users.htm" class="MCXref xref" xrefformat="{para}">Disconnect user from Active Directory</a> — You can disconnect users who were imported from Active Directory (AD) so that they become native Okta users, allowing you to edit user fields or prevent updates from being synced from AD.
				</p>
                                                        <p><a href="Configuring_Desktop_SSO.htm" class="MCXref xref" xrefformat="{para}">Install and configure the Okta IWA&#160;Web agent for Desktop SSO</a>
                                                        </p>
                                                        <p><a href="Configuring_Agentless_SSO.htm" class="MCXref xref" xrefformat="{para}">Configure Agentless Desktop SSO</a>
                                                        </p>
                                                        <p><a href="Installing_Configuring_Active_Directory_Password_Sync_Agent.htm" class="MCXref xref" xrefformat="{para}">Install and Configure the Active Directory Password Sync Agent</a>
                                                        </p>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="FAQs"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">FAQs</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <h4>What permissions does the Okta AD Agent Management Utility require?</h4>
                                                        <p>The default permission is domain administrator. For details, see <a href="ad-agent-install.htm#MinServReqts">Minimum Okta Service Account requirements</a>.</p>
                                                        <h4>Can I create the&#160;Okta service account myself?</h4>
                                                        <p>Yes, you can create or use an existing AD service account for the agent install if you do not want the install process to create one for you.</p>
                                                        <h4>Can I&#160;move the Okta service account to a different OU?</h4>
                                                        <p>Yes. You can move the account after installing the agent. For example, to an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">OU<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym of Organizational Unit. Organizational units are Active Directory containers into which you can place users, groups, computers, and other organizational units.  It is the smallest scope or unit to which you can assign Group Policy settings or delegate administrative authority.</span></a> reserved just for service accounts.</p>
                                                        <h4>How do I change the Okta service account password?</h4>
                                                        <p>It is best practice to intermittently change the password for the Okta Service Account that was used to install the <span class="okta-feature-namesAD agent short">Okta AD agent</span>. </p>
                                                        <p>To change the password:</p>
                                                        <ol>
                                                            <li value="1">In Active Directory, use the <b>Active Directory Users and Computers</b> tool , locate&#160;the <b>OktaService</b> account. Right-click and reset the password in AD. You will require domain admin,or sufficiently elevated, privileges to perform this action.</li>
                                                            <li value="2">On the server on which the agent is installed, on the <b>Services</b> console:<ol><li value="1"> Locate the <span style="font-weight: bold;" class="okta-feature-namesAD agent short">Okta AD agent</span> service and stop it.</li><li value="2">Right-click the service and select the <b>Properties &gt;&#160;Log on</b> tab.</li><li value="3">Chance the password to match the one you just set in AD.</li><li value="4">Start the service.</li></ol></li>
                                                        </ol>
                                                        <p><b>Tip</b>:&#160;If you have also installed the Okta IWA SSO agent and used the same Okta Service account that was used to install the <span class="okta-feature-namesAD agent short">Okta AD agent</span>, then you must also change the Okta Service account password in the IIS <b>Server Manager dashboard &gt;&#160;Tools &gt;&#160;Internet Information Services (IIS)&#160;Manager</b>. The OktaIWA&#160;service is installed under the Application Pools menu. Under <b>Advanced Settings</b> you can change the Okta Service password to match the new password. Due to caching, the IWA service may not stop immediately. When the cache does reset, IWA will stop working if the OktaService password has not been updated here to match the password you reset in the Active Directory Users and Computers tool and the Services console.</p>
                                                        <h4>How do I change the Okta admin account password?</h4>
                                                        <p>There are two options for resetting an Okta admin account password:</p>
                                                        <ul>
                                                            <li value="1">Sign in using that Admin user ID and password. Navigate to the end user account <b>Settings &gt;&#160;Change Password</b> section.</li>
                                                            <li value="2">While signed in as a <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Super admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The super admin receives full access to every item in the Administrative Console and is the only role that can assign administrator roles to other user accounts. Accounts with other administrator role assignments have reduced functionalities to different permission sets. Contact Okta support to create an Okta Mastered account with Super Admin right for him to login.</span></a>, navigate to <b>Admin&#160;&gt;&#160;Directory &gt;&#160;People &gt;&#160;<i>(admin account name)</i> &gt;&#160;Reset Password</b>. Then select whether to send a Reset Password Link or set a Temporary password.</li>
                                                        </ul>
                                                        <h4>Do I have to open my firewall for the agent?</h4>
                                                        <p>The <span class="okta-feature-namesAD agent short">Okta AD agent</span> is outbound only. You do not have to pen your firewall for any inbound agent traffic.</p>
                                                        <h4>Can I control which agents receive traffic?</h4>
                                                        <p>No. All active agents will receive traffic. The only way to control whether an agent receives traffic or not is to turn an agent off. It is not possible to tailor agent traffic so that it only goes to a backup data center in the event of a failure.</p>
                                                        <h4>Can I schedule when imports occur?</h4>
                                                        <p>You cannot schedule a specific time of day for imports. You can schedule the frequency of imports. To schedule import frequency, navigate to <b>Directory &gt;&#160;Directory Integrations</b> and select the AD integration. On the <b>Settings</b> tab, scroll to <b>Import and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Provisioning<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Provisioning is the enterprise-wide configuration, deployment, and management of multiple types of IT system resources. Specifically, provisioning provides users access to equipment, software, or services. This involves creating, maintaining and deactivating required business process automation objects and attributes in systems, directories, and applications.</span></a></b> and the <b>Schedule Import</b> option to select the import interval. To perform a manual import, select the <b>Import</b> tab and click <b>Import Now</b>.</p>
                                                        <h4>Is there a way to automate the agent install?</h4>
                                                        <p>Currently there is no means for automating the agent installation.</p>
                                                        <h4>How do I&#160;turn on more verbose debugging for the agent?</h4>
                                                        <p>Logs can be an invaluable resource when troubleshooting an issue, and Okta Support will often request them while working on a case. You can enable verbose logging for troubleshooting purposes.</p>
                                                        <ol>
                                                            <li value="1">
                                                                <p>On the system running the affected AD Agent, navigate to the AD Agent install directory. By default, this is <span style="font-family: 'Courier New';">C:\Program Files (x86)\Okta\Okta AD Agent</span>.</p>
                                                            </li>
                                                            <li value="2">
                                                                <p>​Open the <span style="font-family: 'Courier New';">OktaAgentService.exe.config</span> file with a text editor.</p>
                                                                <p>Change the value:</p>
                                                                <p><span style="font-family: 'Courier New';">&lt;add key="VerboseLogging" value="False" /&gt;</span>
                                                                </p>
                                                                <p>to</p>
                                                                <p><span style="font-family: 'Courier New';">&lt;add key="VerboseLogging" value="True" /&gt;</span>
                                                                </p>
                                                            </li>
                                                            <li value="3">
                                                                <p>Save your changes to the file</p>
                                                            </li>
                                                            <li value="4">
                                                                <p>​Restart the AD Agent Service</p>
                                                            </li>
                                                        </ol>
                                                        <p><b>Note</b>: we strongly recommend disabling verbose logging when finished troubleshooting, as it can very quickly generate several large files.</p>
                                                        <h4>What level of performance tuning can I do on the agent?</h4>
                                                        <div>
                                                            <p>You can configure the number of threads the&#160;AD agent&#160;uses to poll the server for tasks. If you are running the AD agent on a large-scale server, you can increase the thread count as an alternative to using multiple AD agents.</p>
                                                            <div style="width: 90%;padding-left: 8px;padding-right: 8px;padding-top: 4px;padding-bottom: 6px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;">
                                                                <p class="note"><b>Note:</b> There is a 10 thread limitation for this feature.</p>
                                                            </div>
                                                            <p>For example, to create&#160;three&#160;instances, do the following:</p>
                                                            <ol>
                                                                <li value="1">Before opening or modifying the AD agent configuration files, stop the AD agent service under Windows Services.</li>
                                                                <li value="2">From the terminal, locate the&#160;<span style="font-family: 'Courier New';">OktaAgentService.exe.instances.config</span>&#160;file for each AD&#160;agent server:&#160;<p>C:\Program Files (x86)\Okta\Okta AD Agent\OktaAgentService.exe.config</p></li>
                                                                <li value="3">
                                                                    <p>Open the 'OktaAgentService.exe.config' file in a suitable text editor program and then locate the following line:</p>
                                                                    <p>&lt;add key="PollingThreads" value="2" /&gt;</p>
                                                                    <p>The default value is 2 and the valid range is 1 - 10. As an example to increase the number of polling threads to four, edit the line to look like this:</p>
                                                                    <p>&lt;add key="PollingThreads" value="4" /&gt;</p>
                                                                </li>
                                                                <li value="4">Save the file.</li>
                                                                <li value="5">Start the agent.</li>
                                                                <li value="6">
                                                                    <p>Once the change has been made, save the file and then start the Okta AD agent service again. You can verify that the setting has changed by opening the agent.log file at startup and observing the startup information towards the bottom of the file:</p>
                                                                    <p><span style="font-family: 'Courier New';">2017/07/21 06:06:22.167 Debug – TEST-SERVER-1(4) – PollingThreads: 4</span>
                                                                    </p>
                                                                </li>
                                                            </ol>
                                                            <p>Now the agent has four concurrent polling threads searching for actions to perform.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="jhvHa-m9ckWmj4XqHX7YPg">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="jhvHa-m9ckWmj4XqHX7YPg:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_right_menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/okta_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>