<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="To integrate Active Directory with Okta, install and configure the Okta Active Directory (AD) agent on one or more Windows servers in your network." /><title>Configure the Okta Active Directory agent: new interface | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="Iq8xIBxE40Cqs97dV8xurQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="Iq8xIBxE40Cqs97dV8xurQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <p class="earlyaccess">This is an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Early Access<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Early Access (EA) features are opt-in features that you can try out in your org by asking Okta Support to enable them. Additionally, the Features page in the Okta Admin Console (Settings &amp;gt; Features) allows Super Admins to enable and disable some EA features themselves.</span></a> feature. To enable it, please contact <a href="https://support.okta.com/">Okta Support</a>.</p>
                                                <h1>Configure the <span class="okta-feature-namesAD agent">Okta Active Directory (AD) agent</span>: new user interface</h1>
                                                <p>The instructions in this topic only apply if your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a> has enabled the Early Access feature for the new AD <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Provisioning<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Provisioning is the enterprise-wide configuration, deployment, and management of multiple types of IT system resources. Specifically, provisioning provides users access to equipment, software, or services. This involves creating, maintaining and deactivating required business process automation objects and attributes in systems, directories, and applications.</span></a> user interface.</p>
                                                <p>If you find the instructions in this topic do not match what you see in your user interface, refer to <a href="ad-agent-install.htm" class="MCXref xref">Install and configure the Okta Active Directory (AD) agent</a> instead.</p>
                                                <p>This topic walks you through  the configuration options for the <span class="okta-feature-namesAD agent short">Okta AD agent</span>. You can change these settings any time as you refine your Okta configuration.</p>
                                                <p>You must have installed the <span class="okta-feature-namesAD agent short">Okta AD agent</span> to perform these steps.</p>
                                                <h2>Procedure</h2>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="ADimportprov"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configure AD&#160;Provisioning settings</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <p>After the AD agent is installed, you are taken to the <b>Provisioning</b> page for the AD <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> to make  initial configuration choices. You can come back to the <b>Provisioning</b> page at any time to update your configuration choices by navigating to  <b>Directory &gt; Directory Integration &gt; Active Directory &gt;&#160;Provisioning</b>. </p>
                                                            <p>The <b>Settings&#160;&gt;&#160;Create User</b> section  gives Okta the ability to create users in AD. This allows you, for example, to import users from an HR system, create the users in Okta, and then have Okta create the users in AD. The HR system is the master, with Okta and AD being updated based on changes in the HR master. Or, another use case may include Okta being the source of truth for all user information and pushing those updates into AD.</p>
                                                            <p>To implement this functionality, you first need to create a group in Okta and then assign that group to your AD instance. When users are added to the group, they are also created in AD. A common scenario is to use group rules in this kind of flow to add users to the AD provisioning group automatically.</p>
                                                            <h4>
                                                                <MadCap:dropDownHotspot>Allow Okta to create users in Active Directory — Used if Okta is the profile master or will be pushing user updates to AD from another app such as Workday.</MadCap:dropDownHotspot>
                                                            </h4>
                                                            <p><a name="CreateUser"></a>To configure Okta to create users in AD:</p>
                                                            <ol>
                                                                <li value="1">If you are not on the <b>Settings</b> page, navigate to <b>Directory &gt; Directory Integration &gt; Active Directory &gt;&#160;Settings</b>.</li>
                                                                <li value="2">Scroll to the <b>Provisioning Features &gt;&#160;Create Users</b> section.</li>
                                                                <li value="3">Click <b>Enable</b>.</li>
                                                                <li value="4">For <b>Activation email recipient</b>, enter the email address of the Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> who should receive the activation email with the Okta end user's password. The admin is responsible for giving the end user their Okta password.</li>
                                                                <li value="5">Scroll to the bottom of the page and click <b>Save</b>.
                        </li>
                                                            </ol>
                                                            <h4><a name="UpdateUserattributes"></a>Update User Attributes — If Okta is the master, changes to the Okta user profile are pushed down to AD.</h4>
                                                            <p>Enable this to allow Okta to update user attributes in Active Directory when the app is assigned. Future attribute changes made to the Okta user profile automatically overwrite the corresponding attribute value in Active Directory.</p>
                                                            <p class="earlyaccess">This is an Early Access feature. To enable it, please contact <a href="https://support.okta.com/">Okta Support</a>.</p>
                                                            <p><b>Update <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">OU<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym of Organizational Unit. Organizational units are Active Directory containers into which you can place users, groups, computers, and other organizational units.  It is the smallest scope or unit to which you can assign Group Policy settings or delegate administrative authority.</span></a></b>:&#160;Select this option to update an Okta-mastered user's OU when the group that provisions a user to AD changes. For details, see <a href="AD_Move_user_across_OU.htm" class="MCXref xref">Enable Okta-mastered user OU changes</a>.</p>
                                                            <p><b>Note</b>:&#160;If an Okta-mastered user's OU changes in AD, that change will not be reflected in Okta since Okta is the master for that user. The next time the user is updated in Okta, they will be provisioned back to the OU as set in Okta.</p>
                                                            <p><b>Warning</b>:When Profile Push is enabled, Okta will update the CN attribute in AD. If there is a mapping defined for the cn property in the Profile Editor that mapping is applied. If there is no mapping or if the behavior for the CN mapping is set to <b>Do not map</b> then the CN is set to <span style="font-family: 'Courier New';">First Name + " " +&#160;Last Name</span>.</p>
                                                            <h4><a name="Deprovision"></a>Deactivate Users — Deactivate user accounts in AD if the user is unassigned or deactivated in Okta.</h4>
                                                            <p>This setting is used when Okta is the source of truth for user profiles.</p>
                                                            <p>Enable this option to deactivate users' Active Directory account when they are unassigned in Okta or their Okta account is deactivated. Accounts can be reactivated if the app is reassigned to a user in Okta.</p>
                                                            <p><a name="SyncPassword"></a>Sync Password — Syncs users' AD password with their Okta password. (Optional)</p>
                                                            <p>Enable this option if you want&#160;each user's&#160;AD password to be&#160;synced to their <span class="okta-variablesProductName">Okta</span> password. Any subsequent password changes users&#160;make in Okta are pushed to their user profile in AD. To enable the&#160;<b>Sync Password</b> option, <b>Delegated <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Authentication<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Authentication is distinct from authorization, which is the process of giving individuals access to system objects based on their identity. Authentication merely ensures that the individual is who he or she claims to be, but says nothing about the access rights of the individual.

Authentication methods and protocols include direct auth, delegated auth, SAML, SWA, WS-Fed, and OpenID Connect.</span></a></b> must be disabled. For more information, see <a href="../Security/Security_Using_Sync_Password.htm">Using Sync Password</a>.</p>
                                                        </div>
                                                        <p>When you have completed your selections, click <b>Save</b>.</p>
                                                        <p>The final section allows you map your AD&#160;attributes and set their values based on values stored in Okta. The attributes listed in the table are your AD attributes.</p>
                                                        <p>You can only add attributes to the directory profile if they are already in the directory, so Okta first does a <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">schema discovery<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Ability to import additional attributes to Okta</span></a> step to populate the attribute picker. For Okta to discover the attribute, it must be added to an object within the User object hierarchy in the directory: user object, a parent object, or an auxiliary object.</p>
                                                        <p>The agent takes a few seconds to execute the schema discovery. When it’s done you’ll get a list of the attributes that Okta has the permissions to discover in the directory.</p>
                                                        <p>You will see a list of AD attributes that Okta has discovered and attempted to map to the default Okta user profile attributes. You can edit these mappings by clicking on the pencil icon.</p>
                                                        <p>Define your Okta Attribute Mappings For details, see <a href="eu-profile_editor_tasks.htm#mapattributes" class="MCXref xref">Map profile attributes</a>s.</p>
                                                        <p>&#160;</p>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Provisioning"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configure  AD to Okta import settings</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <p>You can come back to the <b>Provisioning &gt;&#160;To Okta</b> page at any time to update your configuration choices by navigating to  <b>Directory &gt; Directory Integration &gt; Active Directory &gt;&#160;Provisioning</b>. </p>
                                                            <p>This involves making decisions about:</p>
                                                            <ul>
                                                                <li value="1"><b>Import settings</b> — To add users and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a> from a designated Active Directory <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> into Okta. This includes whether to use Just-in-Time (JIT) provisioning to import users into Okta, how often to schedule imports from AD to Okta, and whether to send activation emails to new <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In Okta literature, we generally refer to "end users" as the people who have their own Okta home page (My Applications), using apps to authenticate into all of their apps. End users do not have any administrative control. When we refer to "users" we are generally referring to the individual(s) who have administrative control.</span></a>.</li>
                                                                <div style="width: 100%;padding-left: 8px;padding-right: 8px;padding-top: 4px;padding-bottom: 6px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;">
                                                                    <p><b>User name format notes:</b>
                                                                    </p>
                                                                    <ul>
                                                                        <li value="1">During import Okta presents you with options for the username format. This value is used to associate the user in AD&#160;to Okta, therefore it's important to choose the correct value as this affects how your users sign in to Okta. By default Okta uses the Okta user profile username during delegated authentication. For example, if the AD app-user username is <i>samAccountName</i> and the Okta user profile username (login field) is <i>UPN</i>, then Okta will use <i>UPN</i> to log in the user. </li>
                                                                        <p> You can keep it consistent with device sign-in by standardizing on the format  your users use to sign into their devices.</p>
                                                                        <li value="2">If you are on AD domain functional level of 2003, your AD usernames must in the domain name format. Users must have a UPN that contains a <b>domain.name</b> format.      </li>
                                                                    </ul>
                                                                </div>
                                                                <li value="2"><b>Automatic matching of AD to Okta user accounts</b> — To establish matching criteria (or rules)  to specify how an imported user should be mapped to an existing Okta user. Clearly defining rules for matching helps to prevent multiple instances for the same user from being created.</li>
                                                            </ul>
                                                            <div class="noteOkta">
                                                                <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                <p class="noteHeading">Important</p>
                                                                <p class="noteContent">Orgs created after October 4th (Preview) or October 9th, 2017 (Production) may see slightly different import and provisioning options described in <a href="Okta_Active_Directory_Agent_UDMappingchanges.htm" class="MCXref xref">Updated AD Profile Mapping options</a>. These changes will be rolled out to orgs created before these dates at a later date, which will be announced in the Release Notes.</p>
                                                            </div>
                                                            <p>To configure import and account settings:</p>
                                                            <ol>
                                                                <li value="1">If you are not on the <b>Provisioning &gt;&#160;To Okta</b> page, navigate to <b>Directory &gt; Directory Integration &gt; Active Directory &gt;&#160;Provisioning &gt;&#160;To Okta</b>.</li>
                                                                <li value="2">In the <b>General</b> section, click <b>Edit</b> and make selections from the following options:
						<ol style="list-style-type: lower-alpha;"><li value="1"><p><b>Schedule Import</b>   &#160;— Determine how often you want Okta to import users from AD. 
									</p><p class="note"><b>Note:</b> Following a successful import, under specific conditions Okta automatically&#160;sends an email to designated administrators. The email&#160;details the number of users and groups scanned, added, updated, or removed during the import. Okta only sends the email if the scan detects&#160;any new users or groups, or changes to any existing user profile or group membership.</p></li><li value="2"><p><b>Okta username format</b>— Choose from one of the following options:
								</p><p><b>Important</b>:&#160;It is critical that the username format selected here be the correct format when you first import users. Changing the value can cause errors for existing users. 
								</p><ul><li value="1"><b>Email address</b>     &#160;— End users will sign in with their email addresses as their Okta username.</li><li value="2"><b>SAM&#160;Account name</b>     &#160;— Okta combines the <b>SAM Account Name</b> with the AD domain to generate the Okta username. For example, if the SAM Account Name is&#160;<b>jdoe</b>&#160;and the AD domain is&#160;<b>mycompany.okta.com</b>, then the Okta username is&#160;<b>jdoe@mycompany.okta.com</b>.</li><li value="3"><b>User Principal Name (UPN)</b>     &#160;— Use the UPN from AD.</li><li value="4"><b>Custom</b>     &#160;— If you wish to use a custom username to sign in to Okta, use the <b>Custom</b> option and the Okta Expression language to map the Okta&#160;username format. You can preview your changes to validate your mapping expression. Enter the name of a user to preview the mapping.<a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="usernameSettingsnew"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Screenshot</a><img src="../../Resources/Images/AD_UDmapping_settingspg_import_new.png" style="display: none;" data-mc-target-name="usernameSettingsnew" /></li></ul><p><b>Note:</b>&#160;All Okta users can sign in by entering the alias part of their user names as long as it maps to a single user in your organization. For example,&#160;<b>jdoe@mycompany.okta.com</b>&#160;could sign in using&#160;<b>jdoe</b>.<br /></p></li><li value="3"><b>JIT&#160;Provisioning</b>  &#160;—  Just In Time (JIT) provisioning enables automatic user account creation in Okta the first time a user authenticates with AD Delegated Authentication, as well as updates to existing user profiles.<p>The security groups to which the user&#160;belongs are also imported if the group belongs to a selected OU. If a user signing in does not belong to a selected OU, the sign in fails. If you enable JIT, Delegated Authentication must also be enabled.This option can be used with or without scheduled imports. For details about JIT and AD domain scenarios, see <a href="Directory_FAQ_Okta_and_AD_Groups.htm" class="MCXref xref">FAQ: Okta and AD Groups</a>.</p><p><b>Note</b>:&#160;There are membership&#160;inconsistencies that can occur between “regular” imports and JIT provisioning. These membership&#160;anomalies&#160;may occur when using nested groups.
During regular imports, a child group that is outside the <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">scope<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A scope is an indication by the client that it wants to access some resource.</span></a> of an AD OU or <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">LDAP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Lightweight Directory Access Protocol (LDAP) is a lightweight client-server protocol for accessing directory services, specifically X.500-based directory services. LDAP runs over TCP/IP or other connection oriented transfer services.</span></a> object filter cannot be detected. If a parent group is within an OU/object filter scope but its child groups are not, the parent group membership is incorrectly resolved during import. JIT provisioning would correctly resolve these memberships to the parent group because its function only detects "flat" memberships.&#160;</p></li><li value="4"><b>USG&#160;support</b>      &#160;— Enable this to ignore domain boundaries when importing&#160;group memberships for your end users. This assumes that the relevant&#160;domains are connected in Okta.
You must also deploy an AD agent for every domain in your forest&#160;that contains the USG&#160;object that you want to sync with Okta. Each connected&#160;domain then imports its groups. When a user’s group memberships match any groups that were imported (from any connected domain in the forest), Okta syncs the memberships for the user to each group.&#160; Only groups from connected domains are imported. This setting requires JIT provisioning.           </li><li value="5"><b>Do not import users</b>  — Select this option to keep  groups in sync without importing new users from your directory. Use it when you only want to create new users in Okta via JIT, not via imports, yet continue to use imports to sync groups..</li><li value="6"><p><b>Activation emails</b>     &#160;— Check this option to prevent Okta from sending activation email to new users. Admins can activate users. Activation emails can only be suppressed when a domain is using delegated authentication.</p><p><b>Tip</b>:&#160;We recommend that you select <i>not</i> to send activation emails while you are doing the initial AD integration and configuration in your Preview environment. This prevents end users from receiving activation emails before you are ready for them to begin enrolling in and using Okta.</p></li><li value="7"><b>Max Import Unassignment</b>       &#160;— Accept the default 20% or choose a custom percent. Halts any import which exceeds this number of app unassignments. This action prevents accidental loss of user accounts. This setting affects all apps with imports enabled. For details, see <a href="eu-import-safeguard.htm" class="MCXref xref">Import safeguard</a>.</li><li value="8">Click <b>Save</b>.</li></ol></li>
                                                                <li value="3">In the <b>User Creation &amp;&#160;Matching</b> section, click <b>Edit</b> and make selections from the following options to select the conditions under which imported users will be identified as matching existing Okta users. 
				<p>Matching rules are used in the import of users from all apps and directories that allow importing.  If there is an existing Okta account, AD allows you to import and confirm users automatically. &#160;Establishing matching criteria (or rules)&#160;allows you to specify how an imported user should be mapped to an existing Okta user. Clearly defining rules for matching helps to prevent&#160;multiple instances for the same user from being created.</p><ol style="list-style-type: lower-alpha;"><li value="1"><b>Imported user is an exact match to an Okta user if</b>:
								<ul><li value="1">Okta username format matches</li><li value="2">Email matches</li><li value="3">The following combination of attributes match — Select from the list of options.
Choose any combination from the list of options to establish your criteria. For the new imported user to be considered an exact match, each option that you select must be true. </li></ul></li><li value="2"><b>Allow partial matches</b>        &#160;—  Partial matching means that the first and last name of an imported user matches that of an existing Okta user, but the user’s username or email address do not. Choosing this option legitimizes this scenario. </li><li value="3"><a name="Confirmation"></a><b>Confirm matched users</b>         &#160;— Check  to  automatically confirm exact or partial matches. Leaving them unchecked requires that matches are confirmed manually; once the matching status is established. If manually confirmed, users are activated on the <b>People</b> page (<b>Directory &gt; People</b>)</li><li value="4"><b>Confirm new users</b>         &#160;—  Check  to specify that&#160;once the matching status indicating a new user is established, they are confirmed or activated automatically. Leaving them unchecked requires that new users are confirmed or activated manually on the <b>People</b> page (<b>Directory</b> &gt; <b>People</b>).</li><li value="5">Click <b>Save</b>.</li></ol></li>
                                                                <li value="4">In the <b>Profile &amp;&#160;Lifecycle Mastering</b> section:<ol style="list-style-type: lower-alpha;"><li value="1">Click <b>Edit</b>.</li><li value="2"><b>Allow Active Directory to master Okta users</b>         &#160;— Enable this option to allow AD to control the profiles of assigned users. User profiles will be read only in Okta. Profiles are managed based on <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Profile Master<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A profile master is an application (usually a directory service such as Active Directory, or human capital management system such as Workday) that acts as a source of truth for user profile attributes. A user can only be mastered by a single application or directory at any one time. For more details, see the Profile Master page.

When users are mastered by attribute, we call this attribute-level mastery (ALM). ALM delivers finer grain control over how profiles are mastered by allowing admins to specify different profile masters for individual attributes. Profile mastering only applies to Okta user profiles, not app user profiles. For more details, see Attribute Level Mastering.</span></a> priority.</li><li value="3"><p>Select what should happen to the Okta user when the <b>AD user is deactivated</b>:</p><ul><li value="1"><b>Do Nothing</b>:Prevents activity in the app from controlling the user life cycle. This still allows profile master control of attributes and mappings. </li><li value="2"><b>Deactivate Okta user</b>: This default setting allows the user to be automatically deactivated when deactivated in the target app.</li><li value="3"><b>Suspend Okta user</b>:This setting allows the user to be automatically suspended when deactivated in the target app.</li></ul></li><li value="4">Select what should happen to the Okta user when the <b>AD user is reactivated</b>:
									<ul><li value="1"><b>Reactivate suspended users</b>:Allows an admin to choose if a <i>suspended</i> Okta user should be reactivated when they have been reactivated in the app.</li><li value="2"><b>Reactivate deactivated users</b>:Allows an admin to choose if a <i>deactivated</i> Okta user should be reactivated when they have been reactivated in the app.</li></ul></li><li value="5">Scroll the bottom of the page and click <b>Save Settings</b>.</li><li value="6">Click <b>Save</b>.</li></ol></li>
                                                                <li value="5">
                                                                    <p>The final section allows you map your Okta attributes and set their values based on values stored in Active Directory. The attributes listed in the table are your Okta attributes.</p>
                                                                    <p>You will see a list of AD attributes that Okta has discovered and attempted to map to the default Okta user profile attributes. You can edit these mappings by clicking on the pencil icon.</p>
                                                                    <p>Define your Okta Attribute Mappings For details, see <a href="eu-profile_editor_tasks.htm#mapattributes" class="MCXref xref">Map profile attributes</a>s.</p>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Configure Integration settings</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <p>To configure integration settings:</p>
                                                            <ol>
                                                                <li value="1">If you are not on the <b>Provisioning &gt;&#160;To Okta</b> page, navigate to <b>Directory &gt; Directory Integration &gt; Active Directory &gt;&#160;Provisioning &gt;&#160;Integration</b>.</li>
                                                                <li value="2">In the <b>Import Settings</b> section:
						<ol style="list-style-type: lower-alpha;"><li value="1"><b>User OUs connected to Okta</b> &#160;— The agent can only access the OUs you select to import end users. If you need to modify the OU selection made during the agent install, make the changes here.</li><li value="2"><p class="earlyaccess">This is an Early Access feature. To enable it, please contact <a href="https://support.okta.com/">Okta Support</a>.</p><p><i>Optional</i> &#160;—  Define <b>user filters</b>  to perform granular imports from Active Directory. Create <a href="https://docs.microsoft.com/en-us/windows/desktop/adsi/search-filter-syntax">syntax queries</a> to selectively import users matching the criteria that you specify.</p><p><b>Caution:</b> Changing the default filter queries can result in deprovisioning users. To avoid unintended results, Okta strongly recommends that you test these filters in your directory environment to make sure that the results match your expectations. </p><p>Default queries:</p><ul><li value="1"><b>User filter</b> – <span style="font-family: 'Courier New';">sAMAccountType=805306368</span></li><li value="2"><b>Group filter</b> – <span style="font-family: 'Courier New';">objectCategory=group</span></li></ul><p class="noteContent">Back-linked attributes, such as memberOf are computed attributes and are not actually stored in your Active Directory database. As a result, Okta will not see changes to the user object and perform an import operation when these changes occur. It is recommended not to use computed attributes as mapped attributes into Okta, especially if you require changes in downstream systems as a result of a change in the attribute. This may lead to inconsistent data between your on-premises Active Directory and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Universal Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Universal Directory enables you to store an unlimited amount of users and attributes from applications and sources like AD or HR systems. Any type of attributes are supported including linked-objects, sensitive attributes, and pre-defines lists. All of it accessible by all apps in our OIN catalog, over LDAP or via API.</span></a>. More information is available from <a href="https://msdn.microsoft.com/en-us/library/cc223384.aspx">https://msdn.microsoft.com/en-us/library/cc223384.aspx</a></p></li><li value="3"><b>Group OUs connected to Okta</b> &#160;— The agent can only access the OUs you select to import groups. If you need to modify the OU selection made during the agent install, make the changes here.</li><li value="4"><p class="earlyaccess">This is an Early Access feature. To enable it, please contact <a href="https://support.okta.com/">Okta Support</a>.</p><p><i>Optional</i> &#160;—  Define <b>group filters</b>  to perform granular imports from Active Directory. Create <a href="https://docs.microsoft.com/en-us/windows/desktop/adsi/search-filter-syntax">syntax queries</a> to selectively import users matching the criteria that you specify.</p><p><b>Caution:</b> Changing the default filter queries can result in deprovisioning users. To avoid unintended results, Okta strongly recommends that you test these filters in your directory environment to make sure that the results match your expectations. </p><p>Default queries:</p><ul><li value="1"><b>User filter</b> – <span style="font-family: 'Courier New';">sAMAccountType=805306368</span></li><li value="2"><b>Group filter</b> – <span style="font-family: 'Courier New';">objectCategory=group</span></li></ul><p class="noteContent">Back-linked attributes, such as memberOf are computed attributes and are not actually stored in your Active Directory database. As a result, Okta will not see changes to the user object and perform an import operation when these changes occur. It is recommended not to use computed attributes as mapped attributes into Okta, especially if you require changes in downstream systems as a result of a change in the attribute. This may lead to inconsistent data between your on-premises Active Directory and Universal Directory. More information is available from <a href="https://msdn.microsoft.com/en-us/library/cc223384.aspx">https://msdn.microsoft.com/en-us/library/cc223384.aspx</a></p></li></ol></li>
                                                                <li value="3">Click <b>Save</b>.</li>
                                                                <li value="4">
                                                                    <p>In the <b>Delegated Authentication</b> section: </p>
                                                                    <ol style="list-style-type: lower-alpha;">
                                                                        <li value="1">Enable delegated authentication if you want Active Directory to authenticate your users when they sign in to Okta. A user's Okta credentials are the same as their Active Directory credentials when delegated authentication is on. 
									<li value="1">Click <b>Save Settings</b>.</li></li>
                                                                    </ol>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <h2>What's next?</h2>
                                                <p>After you have installed the <span class="okta-feature-namesAD agent short">Okta AD agent</span> and completed the basic configuration steps above, your next steps are to:</p>
                                                <ul>
                                                    <li value="1"><a href="directory-AD-importusers.htm" class="MCXref xref">Import Active Directory users</a> and <a href="directory-AD-importusers.htm#Confirm" class="MCXref xref">Confirm imported user assignments</a> &#160;— Users imported from Active Directory are not activated until you confirm your import results. Once confirmed, you can send activation emails that direct your users to create their Okta account.</li>
                                                    <li value="2"><a href="directory-AD-attribute-mapping.htm" class="MCXref xref">Work with Active Directory user profiles and attributes</a> — Customize the attribute mappings between AD and Okta. </li>
                                                    <li value="3"><a href="eu-profile-editor.htm" class="MCXref xref">About Universal Directory and user profiles</a> — Edit your Okta user profile.</li>
                                                    <li value="4">&#160;Optionally, depending on your environment:<ul><li value="1"><b><a href="Configuring_Desktop_SSO.htm" class="MCXref xref">Install and configure the Okta IWA&#160;Web agent for Desktop SSO</a></b>  &#160;— Desktop SSO allows your users to be automatically signed into their Okta apps whenever they are signed into your Windows network. When users aren't on the Windows network they sign in through the normal Okta sign-in page.</li><li value="2"><a href="Configuring_Agentless_SSO.htm" class="MCXref xref">Configure Agentless Desktop SSO - new implementations</a></li><li value="3"><a href="Installing_Configuring_Active_Directory_Password_Sync_Agent.htm" class="MCXref xref">Install and Configure the Active Directory Password Sync Agent</a></li></ul></li>
                                                </ul>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2019</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>