<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Use Universal Directory and the Profile Editor to control the flow of user profile attributes between Okta and Okta-managed applications." /><title>Using Universal Directory | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="yw01q3_yJka1wKRG93hUyw">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="yw01q3_yJka1wKRG93hUyw:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1>About Universal Directory</h1>
                                                <p><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Universal Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Universal Directory enables you to store an unlimited amount of users and attributes from applications and sources like AD or HR systems. Any type of attributes are supported including linked-objects, sensitive attributes, and pre-defines lists. All of it accessible by all apps in our OIN catalog, over LDAP or via API.</span></a>   delivers rich user profiles and fine-grained control over how attributes are exchanged between applications. <span class="okta-feature-namesUD">Universal Directory</span> makes it easier for organizations to create and maintain a single source of truth for its users, enabling new authentication and provisioning scenarios.</p>
		With <span class="okta-feature-namesUD">Universal Directory</span> you'll have access to the <b>Profile Editor</b> in the <b> <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> Console</b> with the ability to: 

		<ul><li value="1">Store rich profiles of user attributes in Okta.</li><li value="2">Customize and extend user and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> profiles with custom attributes.</li><li value="3">Bi-directionally map and move attributes from Okta to applications.</li><li value="4">Transform attributes using a powerful and intuitive Expression Language before storing them in Okta.</li></ul><p>These capabilities enable you to do the following:</p><ul><li value="1">Synchronize user profile information across cloud HR systems, on-premise directory systems and applications.</li><li value="2">Provision application user accounts with rich profile information such as roles, managers, geo-locations and other attributes that aid in configuring complex authentication and authorization rules.</li><li value="3">Collect, import and store any type of user attribute, including externally defined custom attributes.</li></ul><p><b>Warning</b>: Universal Directory and the accompanying Profile Editor features are very powerful options. The alteration of profiles and mappings can have unintended effects in downstream apps —  be cautious when making changes.</p><p>This section describes various features and functions supported by Universal Directory, available configuration options and use-cases that can be accomplished. Topics include:</p><ul><li value="1">Profiles (Okta User and App user)</li><li value="2">Mappings</li><li value="3">Transformations</li><li value="4">User name Overrides</li><li value="5">Rich <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IdP, and the SP.

Here's how SAML works through Okta:

SP-initiated flow: the end user requests (principally through a browser) a service from the SP. The SP requests and obtains an identity assertion from the IdP (in this case, Okta). On the basis of this assertion, the SP can decide whether or not to authorize or authenticate the service for the end user.
IdP-initiated flow: with Okta as the IdP, an end user goes to the Okta browser and clicks on an app, sending a SAMLResponse to the configured SP. A session is established with the SP, and the end user is authenticated.</span></a> Assertions</li></ul><h2>Profiles (Okta User and App User)</h2><p>Universal Directory uses the concept of <i>profiles</i>, a logical grouping of attributes to represent user accounts. In particular, Universal Directory supports two types of profiles:</p><ul><li value="1">Okta User Profile</li><li value="2">App User Profile</li></ul><p>These two Profile types are used to:</p><ul><li value="1">Store rich attributes in Okta</li><li value="2">Move rich attributes from Okta to 3rd party applications</li></ul><p>Use the <b>Profile Editor</b> to view or modify these profiles: <b>Directory &gt; Profile Editor</b>.</p><p><b>Best Practice:</b> As a best practice, Okta recommends that you maintain the size of Okta user and App user profiles to less than or equal to 1MB in size. This recommended size includes the names and the corresponding values of all the attributes that make up a profile. For more information on analyzing profiles, see <a href="http://developer.okta.com/docs/api/resources/users.html#profile-object" target="_blank">Profile Objects</a> in the Okta API documentation. </p><h3><b>Okta user profile</b></h3><p>The Okta user profile is a logical representation of a user in Okta (also known as an Okta Account). The Okta user profile is comprised of two sets of attributes:</p><ul><li value="1">Base attributes.</li><li value="2">Custom or extensible attributes.</li></ul><p>Okta has defined 31 default <b>base</b> attributes for all users in an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>. These base attributes are generally fixed and cannot be modified or removed. There are two exceptions:&#160;<b>First Name</b> and <b>Last Name</b>. These two attributes can be marked as required or optional for Okta-mastered users only. To import users with blank First Name or Last Name attributes, you must first mark the attributes as optional in Okta, otherwise the import will fail. When you add attributes to the user profile, you add them as custom attributes.</p><p><img src="../../Resources/Images/about_universal_directory_2.png" id="img_new" /><img src="../../Resources/Images/about_universal_directory_4.png" id="img_new" /></p><p>To view an <span class="okta-variablesProductName">Okta</span> user profile:</p><ol><li value="1">From the Administrator Dashboard, click  <b>Directory &gt; Profile Editor</b>.</li><li value="2">Click <b>Okta</b> in the <b>FILTERS</b> list.</li><li value="3">Click <b>Profile</b> in the <b>Actions</b> column for the <b>user</b> profile. </li></ol><h4><b>Add Custom Attributes</b></h4><p>Extend an Okta User profile by adding an attribute to the custom portion of the profile.  Base attributes are generally fixed and cannot be modified or removed. There are two exceptions:&#160;<b>First Name</b> and <b>Last Name</b>. These two attributes can be marked as required or optional for Okta-mastered users only.</p><ol><li value="1">From the Administrator Dashboard, click <b>Directory &gt; Profile Editor</b>.</li><li value="2">Click <b>Okta</b> in the <b>FILTERS</b> list.</li><li value="3">Click <b>Profile</b> in the <b>Actions</b> column for the <b>user</b> profile.</li><li value="4">Click <b>Add Attribute</b> and complete the following fields:</li><ul><li value="1"><b>Data type</b>:There are 8 admissible data types:	</li><ul><li value="1"><b>string</b>: a chain of zero or more unicode characters (letters, digits, and/or punctuation marks)</li><li value="2"><b>number</b>: floating-point decimal in Java's 64-bit Double format. For details see the <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html" target="_blank">Java Platform Specification</a>.</li><li value="3"><b>Boolean</b>: stores true, false, or null data values</li><li value="4"><b>integer</b>: whole numbers in 64-bit Java's Long format</li><li value="5"><b>date</b>: stores only the calendar date and requires four bytes in <a href="https://tools.ietf.org/html/rfc3339">ISO 8601</a> format</li><li value="6"><b>array of string</b>: sequential collection of strings</li><li value="7"><b>array of number</b>: sequential collection of numbers</li><li value="8"><b>array of integer</b>: sequential collection of integers</li><li value="9"><b>country code</b>: Two character country code as listed in <a href="https://www.iso.org/iso-3166-country-codes.html">https://www.iso.org/iso-3166-country-codes.html</a></li></ul><li value="2"><b>Display name:</b> A human readable label that will appear in the UI</li><li value="3"><b>Variable name</b>: Name of attribute that can be referenced in mappings</li><li value="4"><b>Description:</b> A meaningful description of the attribute</li><li value="5"><b>Attribute required</b>: Select this check box if the attribute must be populated</li><li value="6"><b>User permission</b>: Choose options to hide the attribute or make it read-only or read-write</li></ul><li value="5">Click <b>Save</b> or <b>Save and Add Another</b> to add another attribute.</li></ol><h3><b>App User Profile</b></h3><div>An app user profile represents a user in a 3rd-party application, directory, or identity provider (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">IdP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Identity Provider. It is a service that manages end user accounts analogous to user directories such as LDAP and Active Directory, and can send SAML responses to SPs to authenticate end users. Within this scenario, the IdP is Okta.</span></a>). The app user profile lists the 3rd-party's attributes that Okta can read and write to (read-only for IdP). This profile is used to control the attributes that Okta pushes to an app or the attributes imported from an app into Okta.</div><p>Similar to Okta user profiles, app profiles have both base attributes and custom attributes. Custom attributes for app user profiles differ from those for Okta user profiles. Whereas Okta user profiles can be extended with any custom attribute, app user profiles can only be extended with attributes from a predefined list that Okta dynamically generates. Okta generates the list of attributes by querying the 3rd-party application or directory for supported attributes.</p><p><b>Note: <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Active Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Active Directory (AD) is a directory service that Microsoft developed for the Windows domain networks. It is included in most Windows Server operating systems as a set of processes and services. Initially, Active Directory was only in charge of centralized domain management.</span></a></b> users, see <a href="directory-AD-attribute-mapping.htm" target="_blank">Using Custom Attributes with Active Directory</a>.</p><h2>Mappings</h2><p>Profile mappings allow administrators to precisely control the attributes exchanged during provisioning processes. For a list of apps that integrate particularly well with <span class="okta-feature-namesUD">Universal Directory</span>, see Apps Supporting Profile Mapping. The two chief use-cases that <span class="okta-feature-namesUD">Universal Directory</span> facilitates are</p><ul><li value="1">App to Okta</li><li value="2">Okta to app</li></ul><p>In the first use-case (App to Okta), organizations typically use a source-of-truth app such as a directory or human resources system. Some organizations might have several sources of truth. Mappings define how attributes from these various sources are imported into the Okta user profile.</p><p>The following diagram illustrates the first use case. In the example, Active Directory (AD) and Workday supply the Okta user profile with attributes (AD provides FirstName and LastName; Workday provides Boss). The diagram illustrates the mapping of <i>givenName </i>and<i> sn </i>to<i> FirstName </i>and<i> LastName</i> (from AD to Okta), and it shows the mapping from <i>managerUserName</i> to <i>Boss</i> (from Workday to Okta).</p><p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_6_500x365.png" style="width: 500;height: 365;" /></p><p>In the second use-case (Okta to App), organizations want to propagate the data in Okta to other applications to provision accounts and update accounts with rich data. This is possible if the Okta user profile has rich attributes and the app in Okta supports provisioning.</p><p>The following diagram illustrates the second use-case. In the example, Okta sends four attributes to Google. The diagram shows the mappings of four Okta user profile attributes to four Google App user profile attributes.</p><p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_7_500x227.png" style="width: 500;height: 227;" /></p><div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Using_Preview_Mapping"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Using Preview Mapping</a></span><div class="MCDropDownBody dropDownBody"><p>The <b>preview</b> <b>mapping</b> feature provides a view into how a mapped attribute will appear before committing to the change.</p><p>To use, enter a specific, valid user's name into the <b>Preview</b> field. A valid user is one that is currently assigned to the app that you are mapping attributes to or from. Entering the first name enables an auto complete list use keyboard arrows to find the required name, then click <b>Return</b>.</p><p>The preview appears on the right-side column, and is color coded to indicate success or failure. It also includes the attribute <b>value </b>and<b> data type</b>.</p><h3>View the preview</h3><p>The colors immediately indicate whether the mappings are successful or incomplete:</p><p><b>Green indicates</b> — This is a valid mapping OR this is a valid mapping with no (null) value.<br /><b>Note</b>:  Null  indicates there is no value.</p><p><b>Red indicates</b> — An invalid mapping. As shown in this image, an error message appears with more information about the error:</p><br /><img src="../../Resources/Images/1.jpeg" id="img_new" /><p>A blank column indicates — There is no mapping for that attribute.</p><p>Every mapped attribute should result in a preview value under the right-side column. An exception is when the username has been determined through the app. In such cases, the username does not show a mapping, as shown in this image. <img src="../../Resources/Images/2.jpeg" id="img_new" /></p><p>The exception to this is if you select <b>Override with Mapping</b> during your mapping. In this case, the username appears like all the other attributes.</p></div></div><h3><b>Use the profile mapping tab</b></h3><p>To create a mapping between an Okta user profile and an app user profile:</p><ol><li value="1">From the Administrator Dashboard, click <b>Directory &gt; Profile Editor</b>.</li><li value="2">Click <b>Apps</b>, <b>Directories</b>, or <b>Identity Providers</b> in the <b>FILTERS</b> list.</li><li value="3">Select either <b>Profile</b> or the <b>Mappings</b>  for the user profile.<p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_8_500x273.png" id="img_new" style="width: 500;height: 273;" /></p></li><li value="4">Select one of the following options:<img src="../../Resources/Images/about_universal_directory_9.png" id="img_new" /><ul><li value="1"><b>App to Okta </b>(highlighted in red) maps the flow of attributes from the app to Okta. An app user profile contains the source attributes; Okta is the target.</li><li value="2"><b>Okta to App </b>(highlighted in blue) maps the flow of attributes from Okta to the app.Okta contains the source attributes; an app user profile is the target.</li></ul></li><li value="5">Map attributes (highlighted in orange) in the right tab:
			<ol><li value="1">Scroll through the attribute mappings.</li><li value="2">Ensure that required attributes in the target are mapped. The Okta or app user profile indicates which are required.</li><li value="3">Define mappings using the drop-down menu or expressions:
						<ul><li value="1">Use the drop-down menu to directly populate target attributes with source attributes.</li><li value="2">Use expressions to populate target attributes with concatenated or transformed values.</li><li value="3">See <b>Using Expressions (Transformations) </b>.</li></ul></li></ol></li><li value="6">Configure the profile push frequency (Optional). Mapping can be:
				<ul><li style="margin-left: 40px;" value="1">applied on user create and update.</li><li style="margin-left: 40px;" value="2">applied on user create only.</li><li style="margin-left: 40px;" value="3">disabled.</li></ul>For details on this feature, see <a href="Using_Selective_Profile_Push.htm">Using Selective Profile Push</a>.</li><li value="7">Once you have completed your changes, a best practice is to click <b>Preview </b>to check your mappings . See <a href="#Using_Preview_Mapping" target="_blank">Universal Directory - Preview Mapping</a> for details.</li><li class="p8" value="8">Click <strong> Save Mappings</strong>.</li></ol><p>To remove a mapping, simply delete the entry from the field. When successfully deleted, the attribute's label changes to <b>Add mapping</b>.<br /><br /><img alt="User-added image" src="../../Resources/Images/about_universal_directory_10_500x54.png" id="img_new" style="width: 500;height: 54;" /></p><h2><a name="Expressions"></a>Using Expressions (Transformations)</h2><div>The details above describe how to map attributes that flow from one source to another without modification. For example, a first name of "John" imported from Google gets stored as "John" in Okta. However, if you want to modify attributes before storing them in Okta or sending them to apps, you can do this with expressions within the mappings.  
		</div><p>Expressions allow you to concatenate attributes, manipulate strings, convert data types, and more. Okta supports a subset of the Spring Expression Language (SpEL) functions. Find a comprehensive description of the supported functions under <a href="http://developer.okta.com/docs/getting_started/okta_expression_lang.html" target="_blank">Okta Expression Language</a>. <span class="s2">All functions work in <span class="okta-feature-namesUD">Universal Directory</span></span> mappings.</p><p><b>Disclaimer</b>: While some functions (namely <i>string</i>) work in other areas of the product (e.g., SAML 2.0 Template attributes and custom username formats), not all do.</p><p>Expressions are useful for maintaining data integrity and formats across apps. For example, you might want to use an email prefix as an username, bulk replace an email suffix, or populate attributes based on a combination of existing ones (e.g., <i>displayName </i>=<i> lastName</i>,<i> firstName</i>). </p><h3>Configure Expressions</h3><ol><li value="1">Navigate to the <b>Mappings</b> page of the app (instructions are in the <b>Configure Mappings</b> section).</li><li value="2">Enter the desired expression in the <b>Attribute Mapping</b> field.</li><li value="3">Preface the variable name(s) with the corresponding object/profile.</li></ol><p style="margin-left: 40px;">a. <b>source</b> refers to the object on the left hand side:</p><ul style="margin-left: 80px;"><li value="1">Can be used in either Okta to App or App to Okta mappings.</li><li value="2"><b>Example</b>: <i>source.firstName</i></li></ul><p style="margin-left: 40px;">b. <b>user</b> refers to the Okta user profile:</p><ul style="margin-left: 80px;"><li value="1">Can only be used in the Okta to App mapping, where it returns the same result as <b>source</b>.</li><li value="2"><b>Example</b>: <i>user.firstName</i></li></ul><p style="margin-left: 40px;">c. <b>appUser</b> (implicit reference) refers to the in-context app (not Okta user profile):</p><ul style="margin-left: 80px;"><li value="1">Can only be used in the Okta to App mapping, where it returns the same result as <b>source</b>.</li><li value="2"><b>Example</b>: <i>appUser.firstName</i></li></ul><p style="margin-left: 40px;">d. <b>appUserName</b> (explicit reference) refers to a specific app by name:</p><ul style="margin-left: 80px;"><li value="1">Can be used in either Okta to App or App to Okta mappings.</li><li value="2">Is used to reference an app outside the mappings.</li><li value="3"><b>Example:</b> <i>google.nameGivenName</i></li><li value="4">If multiple instances of an app are configured, additional app user profiles that follow the first instance are appended with an underscore and a random string.</li><li value="5"><b>Example:</b> <i>google, google_&lt;random string 1&gt;, google_&lt;random string 2&gt;</i>.</li></ul><ol start="4"><li value="4">To find instance and variable names for the above step, use the profile editor</li></ol><p style="margin-left: 40px;">a. Navigate to <b>People </b>&gt;<b> Profile Editor </b>&gt;<b> Profiles</b>.</p><p style="margin-left: 40px;">b. View an Okta user profile and note the instance and variable name.</p><p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_11_500x326.png" id="img_new" style="width: 500;height: 326;" /></p><p style="margin-left: 40px;">c. View an app user profile and note the instance and variable name.</p><p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_12_500x334.png" id="img_new" style="width: 500;height: 334;" /></p><p>Example  expressions:<br /><img src="../../Resources/Images/about_universal_directory_13_951x420.png" id="img_new" style="width: 951;height: 420;" /></p><p><img src="../../Resources/Images/about_universal_directory_14_951x420.png" id="img_new" style="width: 951;height: 420;" /></p><h3>User name Overrides</h3><p><span class="okta-feature-namesUD">Universal Directory</span> allows you to handle the most demanding user name requirements. Constructing custom Okta user names or application user names with <span class="okta-feature-namesUD">Universal Directory</span>'s data and expression language is easy.</p><p>Example use cases:</p><ol><li value="1">Construct an Okta user name by concatenating multiple imported attributes.</li><li value="2">Create differently formatted user names using conditionals. For example</li></ol><ul style="margin-left: 80px;"><li value="1">If <i>attribute1</i> = A, then username should end in <i>acme.com</i>. Otherwise, username should end in <i>acme-temp.com</i>.</li><li class="p8" value="2"><b>Example</b>: john.doe@acme.com<span class="s2">, </span>john.doe@acme-temp.com</li><li value="3">This is useful for distinguishing between different types of users (such as employees vs. contractors).</li></ul><ol start="3"><li value="3">Construct app user names from attributes in various sources.</li><li value="4">Enforce a max length by truncating.</li></ol><p>The username override feature overrides a previously selected Okta username format or app username format (different per app). When username override is configured, the previously selected username formats no longer apply.</p><p>Username override can also be used with Selective Attribute Push to continuously update app user names as user profile information changes. For example, if a user gets assigned to an app with a username of email, and that email subsequently changes, Okta can automatically update the app username to the new email. Prior to this enhancement, an Okta admin had to manually change a user's app username by unassigning the user and reassigning him to the app. This enhancement applies to all apps and is not limited to only apps with provisioning capabilities.</p><h4><b>To override an Okta username</b></h4><ol><li value="1">Navigate to the app's mapping.</li></ol><ul style="margin-left: 40px;"><li value="1">The app from which Okta accounts are imported—typically AD or Workday.</li></ul><ol start="2"><li value="2">Choose the mapping direction App to Okta.</li></ol><ul><li value="1">You're creating an Okta username from app attributes.</li></ul><ol start="3"><li value="3">Click <b>Override with mapping</b>.</li></ol><div><img alt="User-added image" src="../../Resources/Images/about_universal_directory_15_500x172.png" id="img_new" style="width: 500;height: 172;" /></div><ol start="4"><li value="4">Observe that a mapping field appears.</li><li value="5">Select an attribute or enter an expression to create the Okta username.</li><li value="6">Click <b>Save Mappings</b> and <b>Apply updates now</b>.</li></ol><p><b>To override an app username</b></p><ol><li value="1">Navigate to the app's mapping.</li></ol><ul><li value="1">App whose username you want to override.</li></ul><ol start="2"><li value="2">Choose the mapping direction <b>Okta to App</b>.</li></ol><ul><li value="1">You're creating an app username from <span class="okta-feature-namesUD">Universal Directory</span> attributes.</li></ul><ol start="3"><li value="3">Click <b>Override with mapping</b>.</li></ol><div><div><img alt="User-added image" src="../../Resources/Images/about_universal_directory_16_500x172.png" id="img_new" style="width: 500;height: 172;" /></div></div><ol start="4"><li value="4">Observe that a mapping field appears.</li><li value="5">Select an attribute or enter an expression to create the app username.</li><li value="6">Click <b>Save Mappings</b> and <b>Apply updates now</b>.</li></ol><p><b>To keep the app username automatically updated</b></p><ol><li value="1">Navigate to the username override configuration.</li><li value="2">Select the green arrow.</li></ol><h4><b><a id="ExcludeADUsername" name="ExcludeADUsername"></a>To exclude AD username updates during provisioning</b></h4><p>To ensure that provisioning events do not update the <b>User Personal Name</b> (UPN) or <b>samAccountName</b> in AD, change the mapping for these attributes in the Profile Editor as follows:</p><ol><li value="1">Go to <b>Directory &gt; Profile Editor</b>.</li><li value="2">Click <b>Directories</b> in the pane on the left.</li><li value="3">For Active Directory, click <b>Mappings</b>.</li><li value="4">Click <b>Okta to &lt;<i>your AD instance</i>&gt;</b>.
				<p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_17_500x111.png" id="img_new" style="width: 500;height: 111;" /></p></li><li value="5">From the drop down menu next to <span style="font-family: courier new,courier,monospace;">samAccountName</span>, select <b>Apply mapping on user create only</b>.</li><li value="6">In the <span style="font-family: courier new,courier,monospace;">userName</span> attribute immediately below the <span style="font-family: courier new,courier,monospace;">samAccountName</span> attribute, click <b>Override with mapping</b>.</li><li value="7">From the drop down menu next to <span style="font-family: courier new,courier,monospace;">userName</span>, select <b>Apply mapping on user create only</b>.
				<p><img alt="User-added image" src="../../Resources/Images/about_universal_directory_18_500x183.png" id="img_new" style="width: 500;height: 183;" /></p></li><li value="8">Click <b>Save Mappings</b>.</li></ol><h2>Rich SAML Assertions and WS-Fed Claims</h2><p><span class="okta-feature-namesUD">Universal Directory</span> attributes can be sent in SAML assertions and WS-Fed claims. Apps can consume rich SAML assertions and WS-Fed claims to do the following:</p><ul><li value="1">Create rich user accounts in the app</li><li value="2">Update accounts with rich data</li><li value="3">Make fine-grained authorization decisions</li></ul><h3>Configure Rich SAML Assertions and WS-Fed Claims</h3><p>Currently, only the Template SAML 2.0, Template WS-Fed, and SAML Wizard Apps can send <span class="okta-feature-namesUD">Universal Directory</span> data. To configure this:</p><ol><li value="1">Add the Template SAML 2.0 App, Template WS-Fed App, or SAML Wizard App.</li><li value="2">Locate the attribute statements field.</li></ol><ul style="margin-left: 80px;"><li value="1">Labeled <b>Attribute Statements</b> in the Template SAML 2.0 App</li><li value="2">Labeled<b> Custom Attribute Statements</b> in the Template WS-Fed App</li><li value="3">Labeled <b>Attribute Statements</b> in the SAML Wizard Apps</li></ul><ol start="3"><li value="3">Enter Okta user profile attributes in the attribute statements field.</li></ol><!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a></div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">©  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>